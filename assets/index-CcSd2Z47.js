(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))o(p);new MutationObserver(p=>{for(const l of p)if(l.type==="childList")for(const T of l.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&o(T)}).observe(document,{childList:!0,subtree:!0});function m(p){const l={};return p.integrity&&(l.integrity=p.integrity),p.referrerPolicy&&(l.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?l.credentials="include":p.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(p){if(p.ep)return;p.ep=!0;const l=m(p);fetch(p.href,l)}})();function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var c=a.default;if(typeof c=="function"){var m=function o(){var p=!1;try{p=this instanceof o}catch{}return p?Reflect.construct(c,arguments,this.constructor):c.apply(this,arguments)};m.prototype=c.prototype}else m={};return Object.defineProperty(m,"__esModule",{value:!0}),Object.keys(a).forEach(function(o){var p=Object.getOwnPropertyDescriptor(a,o);Object.defineProperty(m,o,p.get?p:{enumerable:!0,get:function(){return a[o]}})}),m}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var a=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function m(o,p,l){var T=null;if(l!==void 0&&(T=""+l),p.key!==void 0&&(T=""+p.key),"key"in p){l={};for(var F in p)F!=="key"&&(l[F]=p[F])}else l=p;return p=l.ref,{$$typeof:a,type:o,key:T,ref:p!==void 0?p:null,props:l}}return reactJsxRuntime_production.Fragment=c,reactJsxRuntime_production.jsx=m,reactJsxRuntime_production.jsxs=m,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(a){function c(X,j){var M=X.length;X.push(j);t:for(;0<M;){var A=M-1>>>1,x=X[A];if(0<p(x,j))X[A]=j,X[M]=x,M=A;else break t}}function m(X){return X.length===0?null:X[0]}function o(X){if(X.length===0)return null;var j=X[0],M=X.pop();if(M!==j){X[0]=M;t:for(var A=0,x=X.length,y=x>>>1;A<y;){var L=2*(A+1)-1,B=X[L],G=L+1,H=X[G];if(0>p(B,M))G<x&&0>p(H,B)?(X[A]=H,X[G]=M,A=G):(X[A]=B,X[L]=M,A=L);else if(G<x&&0>p(H,M))X[A]=H,X[G]=M,A=G;else break t}}return j}function p(X,j){var M=X.sortIndex-j.sortIndex;return M!==0?M:X.id-j.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var T=Date,F=T.now();a.unstable_now=function(){return T.now()-F}}var D=[],d=[],s=1,h=null,_=3,b=!1,f=!1,S=!1,R=!1,g=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function q(X){for(var j=m(d);j!==null;){if(j.callback===null)o(d);else if(j.startTime<=X)o(d),j.sortIndex=j.expirationTime,c(D,j);else break;j=m(d)}}function w(X){if(S=!1,q(X),!f)if(m(D)!==null)f=!0,z||(z=!0,yt());else{var j=m(d);j!==null&&Rt(w,j.startTime-X)}}var z=!1,Z=-1,et=5,K=-1;function ht(){return R?!0:!(a.unstable_now()-K<et)}function nt(){if(R=!1,z){var X=a.unstable_now();K=X;var j=!0;try{t:{f=!1,S&&(S=!1,O(Z),Z=-1),b=!0;var M=_;try{e:{for(q(X),h=m(D);h!==null&&!(h.expirationTime>X&&ht());){var A=h.callback;if(typeof A=="function"){h.callback=null,_=h.priorityLevel;var x=A(h.expirationTime<=X);if(X=a.unstable_now(),typeof x=="function"){h.callback=x,q(X),j=!0;break e}h===m(D)&&o(D),q(X)}else o(D);h=m(D)}if(h!==null)j=!0;else{var y=m(d);y!==null&&Rt(w,y.startTime-X),j=!1}}break t}finally{h=null,_=M,b=!1}j=void 0}}finally{j?yt():z=!1}}}var yt;if(typeof I=="function")yt=function(){I(nt)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,Et=mt.port2;mt.port1.onmessage=nt,yt=function(){Et.postMessage(null)}}else yt=function(){g(nt,0)};function Rt(X,j){Z=g(function(){X(a.unstable_now())},j)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(X){X.callback=null},a.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):et=0<X?Math.floor(1e3/X):5},a.unstable_getCurrentPriorityLevel=function(){return _},a.unstable_next=function(X){switch(_){case 1:case 2:case 3:var j=3;break;default:j=_}var M=_;_=j;try{return X()}finally{_=M}},a.unstable_requestPaint=function(){R=!0},a.unstable_runWithPriority=function(X,j){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var M=_;_=X;try{return j()}finally{_=M}},a.unstable_scheduleCallback=function(X,j,M){var A=a.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?A+M:A):M=A,X){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=M+x,X={id:s++,callback:j,priorityLevel:X,startTime:M,expirationTime:x,sortIndex:-1},M>A?(X.sortIndex=M,c(d,X),m(D)===null&&X===m(d)&&(S?(O(Z),Z=-1):S=!0,Rt(w,M-A))):(X.sortIndex=x,c(D,X),f||b||(f=!0,z||(z=!0,yt()))),X},a.unstable_shouldYield=ht,a.unstable_wrapCallback=function(X){var j=_;return function(){var M=_;_=j;try{return X.apply(this,arguments)}finally{_=M}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var a=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),T=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),_=Symbol.iterator;function b(y){return y===null||typeof y!="object"?null:(y=_&&y[_]||y["@@iterator"],typeof y=="function"?y:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function g(y,L,B){this.props=y,this.context=L,this.refs=R,this.updater=B||f}g.prototype.isReactComponent={},g.prototype.setState=function(y,L){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,L,"setState")},g.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function O(){}O.prototype=g.prototype;function I(y,L,B){this.props=y,this.context=L,this.refs=R,this.updater=B||f}var q=I.prototype=new O;q.constructor=I,S(q,g.prototype),q.isPureReactComponent=!0;var w=Array.isArray;function z(){}var Z={H:null,A:null,T:null,S:null},et=Object.prototype.hasOwnProperty;function K(y,L,B){var G=B.ref;return{$$typeof:a,type:y,key:L,ref:G!==void 0?G:null,props:B}}function ht(y,L){return K(y.type,L,y.props)}function nt(y){return typeof y=="object"&&y!==null&&y.$$typeof===a}function yt(y){var L={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(B){return L[B]})}var mt=/\/+/g;function Et(y,L){return typeof y=="object"&&y!==null&&y.key!=null?yt(""+y.key):L.toString(36)}function Rt(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then(z,z):(y.status="pending",y.then(function(L){y.status==="pending"&&(y.status="fulfilled",y.value=L)},function(L){y.status==="pending"&&(y.status="rejected",y.reason=L)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function X(y,L,B,G,H){var v=typeof y;(v==="undefined"||v==="boolean")&&(y=null);var k=!1;if(y===null)k=!0;else switch(v){case"bigint":case"string":case"number":k=!0;break;case"object":switch(y.$$typeof){case a:case c:k=!0;break;case s:return k=y._init,X(k(y._payload),L,B,G,H)}}if(k)return H=H(y),k=G===""?"."+Et(y,0):G,w(H)?(B="",k!=null&&(B=k.replace(mt,"$&/")+"/"),X(H,L,B,"",function(Y){return Y})):H!=null&&(nt(H)&&(H=ht(H,B+(H.key==null||y&&y.key===H.key?"":(""+H.key).replace(mt,"$&/")+"/")+k)),L.push(H)),1;k=0;var N=G===""?".":G+":";if(w(y))for(var V=0;V<y.length;V++)G=y[V],v=N+Et(G,V),k+=X(G,L,B,v,H);else if(V=b(y),typeof V=="function")for(y=V.call(y),V=0;!(G=y.next()).done;)G=G.value,v=N+Et(G,V++),k+=X(G,L,B,v,H);else if(v==="object"){if(typeof y.then=="function")return X(Rt(y),L,B,G,H);throw L=String(y),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return k}function j(y,L,B){if(y==null)return y;var G=[],H=0;return X(y,G,"","",function(v){return L.call(B,v,H++)}),G}function M(y){if(y._status===-1){var L=y._result;L=L(),L.then(function(B){(y._status===0||y._status===-1)&&(y._status=1,y._result=B)},function(B){(y._status===0||y._status===-1)&&(y._status=2,y._result=B)}),y._status===-1&&(y._status=0,y._result=L)}if(y._status===1)return y._result.default;throw y._result}var A=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},x={map:j,forEach:function(y,L,B){j(y,function(){L.apply(this,arguments)},B)},count:function(y){var L=0;return j(y,function(){L++}),L},toArray:function(y){return j(y,function(L){return L})||[]},only:function(y){if(!nt(y))throw Error("React.Children.only expected to receive a single React element child.");return y}};return react_production.Activity=h,react_production.Children=x,react_production.Component=g,react_production.Fragment=m,react_production.Profiler=p,react_production.PureComponent=I,react_production.StrictMode=o,react_production.Suspense=D,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(y){return Z.H.useMemoCache(y)}},react_production.cache=function(y){return function(){return y.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(y,L,B){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var G=S({},y.props),H=y.key;if(L!=null)for(v in L.key!==void 0&&(H=""+L.key),L)!et.call(L,v)||v==="key"||v==="__self"||v==="__source"||v==="ref"&&L.ref===void 0||(G[v]=L[v]);var v=arguments.length-2;if(v===1)G.children=B;else if(1<v){for(var k=Array(v),N=0;N<v;N++)k[N]=arguments[N+2];G.children=k}return K(y.type,H,G)},react_production.createContext=function(y){return y={$$typeof:T,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:l,_context:y},y},react_production.createElement=function(y,L,B){var G,H={},v=null;if(L!=null)for(G in L.key!==void 0&&(v=""+L.key),L)et.call(L,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(H[G]=L[G]);var k=arguments.length-2;if(k===1)H.children=B;else if(1<k){for(var N=Array(k),V=0;V<k;V++)N[V]=arguments[V+2];H.children=N}if(y&&y.defaultProps)for(G in k=y.defaultProps,k)H[G]===void 0&&(H[G]=k[G]);return K(y,v,H)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(y){return{$$typeof:F,render:y}},react_production.isValidElement=nt,react_production.lazy=function(y){return{$$typeof:s,_payload:{_status:-1,_result:y},_init:M}},react_production.memo=function(y,L){return{$$typeof:d,type:y,compare:L===void 0?null:L}},react_production.startTransition=function(y){var L=Z.T,B={};Z.T=B;try{var G=y(),H=Z.S;H!==null&&H(B,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(z,A)}catch(v){A(v)}finally{L!==null&&B.types!==null&&(L.types=B.types),Z.T=L}},react_production.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},react_production.use=function(y){return Z.H.use(y)},react_production.useActionState=function(y,L,B){return Z.H.useActionState(y,L,B)},react_production.useCallback=function(y,L){return Z.H.useCallback(y,L)},react_production.useContext=function(y){return Z.H.useContext(y)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(y,L){return Z.H.useDeferredValue(y,L)},react_production.useEffect=function(y,L){return Z.H.useEffect(y,L)},react_production.useEffectEvent=function(y){return Z.H.useEffectEvent(y)},react_production.useId=function(){return Z.H.useId()},react_production.useImperativeHandle=function(y,L,B){return Z.H.useImperativeHandle(y,L,B)},react_production.useInsertionEffect=function(y,L){return Z.H.useInsertionEffect(y,L)},react_production.useLayoutEffect=function(y,L){return Z.H.useLayoutEffect(y,L)},react_production.useMemo=function(y,L){return Z.H.useMemo(y,L)},react_production.useOptimistic=function(y,L){return Z.H.useOptimistic(y,L)},react_production.useReducer=function(y,L,B){return Z.H.useReducer(y,L,B)},react_production.useRef=function(y){return Z.H.useRef(y)},react_production.useState=function(y){return Z.H.useState(y)},react_production.useSyncExternalStore=function(y,L,B){return Z.H.useSyncExternalStore(y,L,B)},react_production.useTransition=function(){return Z.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var a=requireReact();function c(D){var d="https://react.dev/errors/"+D;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)d+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+D+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var o={d:{f:m,r:function(){throw Error(c(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},p=Symbol.for("react.portal");function l(D,d,s){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:h==null?null:""+h,children:D,containerInfo:d,implementation:s}}var T=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function F(D,d){if(D==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,reactDom_production.createPortal=function(D,d){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(c(299));return l(D,d,null,s)},reactDom_production.flushSync=function(D){var d=T.T,s=o.p;try{if(T.T=null,o.p=2,D)return D()}finally{T.T=d,o.p=s,o.d.f()}},reactDom_production.preconnect=function(D,d){typeof D=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,o.d.C(D,d))},reactDom_production.prefetchDNS=function(D){typeof D=="string"&&o.d.D(D)},reactDom_production.preinit=function(D,d){if(typeof D=="string"&&d&&typeof d.as=="string"){var s=d.as,h=F(s,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;s==="style"?o.d.S(D,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:h,integrity:_,fetchPriority:b}):s==="script"&&o.d.X(D,{crossOrigin:h,integrity:_,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},reactDom_production.preinitModule=function(D,d){if(typeof D=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var s=F(d.as,d.crossOrigin);o.d.M(D,{crossOrigin:s,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&o.d.M(D)},reactDom_production.preload=function(D,d){if(typeof D=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var s=d.as,h=F(s,d.crossOrigin);o.d.L(D,s,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},reactDom_production.preloadModule=function(D,d){if(typeof D=="string")if(d){var s=F(d.as,d.crossOrigin);o.d.m(D,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:s,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else o.d.m(D)},reactDom_production.requestFormReset=function(D){o.d.r(D)},reactDom_production.unstable_batchedUpdates=function(D,d){return D(d)},reactDom_production.useFormState=function(D,d,s){return T.H.useFormState(D,d,s)},reactDom_production.useFormStatus=function(){return T.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(c){console.error(c)}}return a(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var a=requireScheduler(),c=requireReact(),m=requireReactDom();function o(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function T(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function F(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D(t){if(l(t)!==t)throw Error(o(188))}function d(t){var e=t.alternate;if(!e){if(e=l(t),e===null)throw Error(o(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var u=r.alternate;if(u===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===u.child){for(u=r.child;u;){if(u===n)return D(r),t;if(u===i)return D(r),e;u=u.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=u;else{for(var C=!1,U=r.child;U;){if(U===n){C=!0,n=r,i=u;break}if(U===i){C=!0,i=r,n=u;break}U=U.sibling}if(!C){for(U=u.child;U;){if(U===n){C=!0,n=u,i=r;break}if(U===i){C=!0,i=u,n=r;break}U=U.sibling}if(!C)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?t:e}function s(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=s(t),e!==null)return e;t=t.sibling}return null}var h=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),I=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),ht=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function yt(t){return t===null||typeof t!="object"?null:(t=nt&&t[nt]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Symbol.for("react.client.reference");function Et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===mt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case g:return"Profiler";case R:return"StrictMode";case w:return"Suspense";case z:return"SuspenseList";case K:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case f:return"Portal";case I:return t.displayName||"Context";case O:return(t._context.displayName||"Context")+".Consumer";case q:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return e=t.displayName||null,e!==null?e:Et(t.type)||"Memo";case et:e=t._payload,t=t._init;try{return Et(t(e))}catch{}}return null}var Rt=Array.isArray,X=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},A=[],x=-1;function y(t){return{current:t}}function L(t){0>x||(t.current=A[x],A[x]=null,x--)}function B(t,e){x++,A[x]=t.current,t.current=e}var G=y(null),H=y(null),v=y(null),k=y(null);function N(t,e){switch(B(v,e),B(H,t),B(G,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Mh(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Mh(e),t=kh(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}L(G),B(G,t)}function V(){L(G),L(H),L(v)}function Y(t){t.memoizedState!==null&&B(k,t);var e=G.current,n=kh(e,t.type);e!==n&&(B(H,t),B(G,n))}function $(t){H.current===t&&(L(G),L(H)),k.current===t&&(L(k),Bs._currentValue=M)}var rt,bt;function Bt(t){if(rt===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rt=e&&e[1]||"",bt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+t+bt}var St=!1;function Ct(t,e){if(!t||St)return"";St=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var Lt=function(){throw Error()};if(Object.defineProperty(Lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Lt,[])}catch(At){var _t=At}Reflect.construct(t,[],Lt)}else{try{Lt.call()}catch(At){_t=At}t.call(Lt.prototype)}}else{try{throw Error()}catch(At){_t=At}(Lt=t())&&typeof Lt.catch=="function"&&Lt.catch(function(){})}}catch(At){if(At&&_t&&typeof At.stack=="string")return[At.stack,_t.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),C=u[0],U=u[1];if(C&&U){var it=C.split(`
`),vt=U.split(`
`);for(r=i=0;i<it.length&&!it[i].includes("DetermineComponentFrameRoot");)i++;for(;r<vt.length&&!vt[r].includes("DetermineComponentFrameRoot");)r++;if(i===it.length||r===vt.length)for(i=it.length-1,r=vt.length-1;1<=i&&0<=r&&it[i]!==vt[r];)r--;for(;1<=i&&0<=r;i--,r--)if(it[i]!==vt[r]){if(i!==1||r!==1)do if(i--,r--,0>r||it[i]!==vt[r]){var kt=`
`+it[i].replace(" at new "," at ");return t.displayName&&kt.includes("<anonymous>")&&(kt=kt.replace("<anonymous>",t.displayName)),kt}while(1<=i&&0<=r);break}}}finally{St=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Bt(n):""}function Dt(t,e){switch(t.tag){case 26:case 27:case 5:return Bt(t.type);case 16:return Bt("Lazy");case 13:return t.child!==e&&e!==null?Bt("Suspense Fallback"):Bt("Suspense");case 19:return Bt("SuspenseList");case 0:case 15:return Ct(t.type,!1);case 11:return Ct(t.type.render,!1);case 1:return Ct(t.type,!0);case 31:return Bt("Activity");default:return""}}function Mt(t){try{var e="",n=null;do e+=Dt(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var jt=Object.prototype.hasOwnProperty,qt=a.unstable_scheduleCallback,Qt=a.unstable_cancelCallback,re=a.unstable_shouldYield,ve=a.unstable_requestPaint,ne=a.unstable_now,De=a.unstable_getCurrentPriorityLevel,Tn=a.unstable_ImmediatePriority,un=a.unstable_UserBlockingPriority,Gn=a.unstable_NormalPriority,En=a.unstable_LowPriority,Xn=a.unstable_IdlePriority,Li=a.log,$a=a.unstable_setDisableYieldValue,Pn=null,Pt=null;function pt(t){if(typeof Li=="function"&&$a(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Pn,t)}catch{}}var ut=Math.clz32?Math.clz32:fe,Ut=Math.log,je=Math.LN2;function fe(t){return t>>>=0,t===0?32:31-(Ut(t)/je|0)|0}var Ae=256,ri=262144,si=4194304;function Nn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,u=t.suspendedLanes,C=t.pingedLanes;t=t.warmLanes;var U=i&134217727;return U!==0?(i=U&~u,i!==0?r=Nn(i):(C&=U,C!==0?r=Nn(C):n||(n=U&~t,n!==0&&(r=Nn(n))))):(U=i&~u,U!==0?r=Nn(U):C!==0?r=Nn(C):n||(n=i&~t,n!==0&&(r=Nn(n)))),r===0?0:e!==0&&e!==r&&(e&u)===0&&(u=r&-r,n=e&-e,u>=n||u===32&&(n&4194048)!==0)?e:r}function Hn(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function oi(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vi(){var t=si;return si<<=1,(si&62914560)===0&&(si=4194304),t}function ln(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function pa(t,e,n,i,r,u){var C=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var U=t.entanglements,it=t.expirationTimes,vt=t.hiddenUpdates;for(n=C&~n;0<n;){var kt=31-ut(n),Lt=1<<kt;U[kt]=0,it[kt]=-1;var _t=vt[kt];if(_t!==null)for(vt[kt]=null,kt=0;kt<_t.length;kt++){var At=_t[kt];At!==null&&(At.lane&=-536870913)}n&=~Lt}i!==0&&ma(t,i,0),u!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=u&~(C&~e))}function ma(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-ut(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function ga(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ut(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function Pi(t,e){var n=e&-e;return n=(n&42)!==0?1:Mn(n),(n&(t.suspendedLanes|e))!==0?0:n}function Mn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function va(){var t=j.p;return t!==0?t:(t=window.event,t===void 0?32:$h(t.type))}function Vs(t,e){var n=j.p;try{return j.p=t,e()}finally{j.p=n}}var Ni=Math.random().toString(36).slice(2),kn="__reactFiber$"+Ni,qn="__reactProps$"+Ni,ba="__reactContainer$"+Ni,$r="__reactEvents$"+Ni,ul="__reactListeners$"+Ni,dl="__reactHandles$"+Ni,Gs="__reactResources$"+Ni,tr="__reactMarker$"+Ni;function ts(t){delete t[kn],delete t[qn],delete t[$r],delete t[ul],delete t[dl]}function ya(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ba]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jh(t);t!==null;){if(n=t[kn])return n;t=jh(t)}return e}t=n,n=t.parentNode}return null}function _a(t){if(t=t[kn]||t[ba]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function er(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(o(33))}function Ea(t){var e=t[Gs];return e||(e=t[Gs]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function dn(t){t[tr]=!0}var Xs=new Set,Ys={};function Gi(t,e){Sa(t,e),Sa(t+"Capture",e)}function Sa(t,e){for(Ys[t]=e,t=0;t<e.length;t++)Xs.add(e[t])}var hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ws={},nr={};function Zs(t){return jt.call(nr,t)?!0:jt.call(Ws,t)?!1:hl.test(t)?nr[t]=!0:(Ws[t]=!0,!1)}function ir(t,e,n){if(Zs(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Sr(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Yn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Kn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ks(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fl(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,u=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(C){n=""+C,u.call(this,C)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(C){n=""+C},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ar(t){if(!t._valueTracker){var e=Ks(t)?"checked":"value";t._valueTracker=fl(t,e,""+t[e])}}function Qs(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Ks(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Js=/[\n"\\]/g;function Wn(t){return t.replace(Js,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function es(t,e,n,i,r,u,C,U){t.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.type=C:t.removeAttribute("type"),e!=null?C==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Kn(e)):t.value!==""+Kn(e)&&(t.value=""+Kn(e)):C!=="submit"&&C!=="reset"||t.removeAttribute("value"),e!=null?rr(t,C,Kn(e)):n!=null?rr(t,C,Kn(n)):i!=null&&t.removeAttribute("value"),r==null&&u!=null&&(t.defaultChecked=!!u),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?t.name=""+Kn(U):t.removeAttribute("name")}function $s(t,e,n,i,r,u,C,U){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.type=u),e!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||e!=null)){ar(t);return}n=n!=null?""+Kn(n):"",e=e!=null?""+Kn(e):n,U||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=U?t.checked:!!i,t.defaultChecked=!!i,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(t.name=C),ar(t)}function rr(t,e,n){e==="number"&&Ar(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Aa(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Kn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function ns(t,e,n){if(e!=null&&(e=""+Kn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Kn(n):""}function is(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(o(92));if(Rt(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Kn(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),ar(t)}function Ca(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var as=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function to(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||as.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function eo(t,e,n){if(e!=null&&typeof e!="object")throw Error(o(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&to(t,r,i)}else for(var u in e)e.hasOwnProperty(u)&&to(t,u,e[u])}function Fi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),no=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cr(t){return no.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var sr=null;function rs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,Yi=null;function xr(t){var e=_a(t);if(e&&(t=e.stateNode)){var n=t[qn]||null;t:switch(t=e.stateNode,e.type){case"input":if(es(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Wn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[qn]||null;if(!r)throw Error(o(90));es(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&Qs(i)}break t;case"textarea":ns(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&Aa(t,!!n.multiple,e,!1)}}}var ss=!1;function io(t,e,n){if(ss)return t(e,n);ss=!0;try{var i=t(e);return i}finally{if(ss=!1,(Xi!==null||Yi!==null)&&(Ho(),Xi&&(e=Xi,t=Yi,Yi=Xi=null,xr(e),t)))for(e=0;e<t.length;e++)xr(t[e])}}function or(t,e){var n=t.stateNode;if(n===null)return null;var i=n[qn]||null;if(i===null)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(o(231,e,typeof n));return n}var E=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P=!1;if(E)try{var W={};Object.defineProperty(W,"passive",{get:function(){P=!0}}),window.addEventListener("test",W,W),window.removeEventListener("test",W,W)}catch{P=!1}var Q=null,tt=null,at=null;function dt(){if(at)return at;var t,e=tt,n=e.length,i,r="value"in Q?Q.value:Q.textContent,u=r.length;for(t=0;t<n&&e[t]===r[t];t++);var C=n-t;for(i=1;i<=C&&e[n-i]===r[u-i];i++);return at=r.slice(t,1<i?1-i:void 0)}function ot(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function J(){return!0}function ct(){return!1}function st(t){function e(n,i,r,u,C){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=u,this.target=C,this.currentTarget=null;for(var U in t)t.hasOwnProperty(U)&&(n=t[U],this[U]=n?n(u):u[U]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?J:ct,this.isPropagationStopped=ct,this}return h(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=J)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=J)},persist:function(){},isPersistent:J}),e}var wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tt=st(wt),xt=h({},wt,{view:0,detail:0}),It=st(xt),zt,Ft,ue,Wt=h({},xt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Je,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ue&&(ue&&t.type==="mousemove"?(zt=t.screenX-ue.screenX,Ft=t.screenY-ue.screenY):Ft=zt=0,ue=t),zt)},movementY:function(t){return"movementY"in t?t.movementY:Ft}}),Jt=st(Wt),ae=h({},Wt,{dataTransfer:0}),Vt=st(ae),se=h({},xt,{relatedTarget:0}),te=st(se),Re=h({},wt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ce=st(Re),we=h({},wt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oe=st(we),Ne=h({},wt,{data:0}),an=st(Ne),Xe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},en={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=en[t])?!!e[t]:!1}function Je(){return rn}var nn=h({},xt,{key:function(t){if(t.key){var e=Xe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ot(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Je,charCode:function(t){return t.type==="keypress"?ot(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ot(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dn=st(nn),gi=h({},Wt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jn=st(gi),vn=h({},xt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Je}),Vn=st(vn),Ti=h({},wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ie=st(Ti),$t=h({},Wt,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gt=st($t),Zt=h({},wt,{newState:0,oldState:0}),Xt=st(Zt),oe=[9,13,27,32],ce=E&&"CompositionEvent"in window,Yt=null;E&&"documentMode"in document&&(Yt=document.documentMode);var Ht=E&&"TextEvent"in window&&!Yt,pe=E&&(!ce||Yt&&8<Yt&&11>=Yt),be=" ",He=!1;function ze(t,e){switch(t){case"keyup":return oe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sn=!1;function ge(t,e){switch(t){case"compositionend":return bn(e);case"keypress":return e.which!==32?null:(He=!0,be);case"textInput":return t=e.data,t===be&&He?null:t;default:return null}}function An(t,e){if(Sn)return t==="compositionend"||!ce&&ze(t,e)?(t=dt(),at=tt=Q=null,Sn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pe&&e.locale!=="ko"?null:e.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ge(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ve[t.type]:e==="textarea"}function fn(t,e,n,i){Xi?Yi?Yi.push(i):Yi=[i]:Xi=i,e=Zo(e,"onChange"),0<e.length&&(n=new Tt("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Te=null,$n=null;function xa(t){Ah(t,0)}function Wi(t){var e=er(t);if(Qs(e))return t}function ji(t,e){if(t==="change")return e}var Ra=!1;if(E){var os;if(E){var Fn="oninput"in document;if(!Fn){var ls=document.createElement("div");ls.setAttribute("oninput","return;"),Fn=typeof ls.oninput=="function"}os=Fn}else os=!1;Ra=os&&(!document.documentMode||9<document.documentMode)}function ao(){Te&&(Te.detachEvent("onpropertychange",Ie),$n=Te=null)}function Ie(t){if(t.propertyName==="value"&&Wi($n)){var e=[];fn(e,$n,t,rs(t)),io(xa,e)}}function ml(t,e,n){t==="focusin"?(ao(),Te=e,$n=n,Te.attachEvent("onpropertychange",Ie)):t==="focusout"&&ao()}function zi(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wi($n)}function gl(t,e){if(t==="click")return Wi(e)}function vl(t,e){if(t==="input"||t==="change")return Wi(e)}function bl(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:bl;function wa(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!jt.call(e,r)||!jn(t[r],e[r]))return!1}return!0}function ro(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function so(t,e){var n=ro(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=ro(n)}}function oo(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oo(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mi(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ar(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ar(t.document)}return e}function cs(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var lo=E&&"documentMode"in document&&11>=document.documentMode,Zi=null,lr=null,Ta=null,Rr=!1;function Ii(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rr||Zi==null||Zi!==Ar(i)||(i=Zi,"selectionStart"in i&&cs(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ta&&wa(Ta,i)||(Ta=i,i=Zo(lr,"onSelect"),0<i.length&&(e=new Tt("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Zi)))}function Ki(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ma={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},cr={},wr={};E&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function ki(t){if(cr[t])return cr[t];if(!Ma[t])return t;var e=Ma[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wr)return cr[t]=e[n];return t}var us=ki("animationend"),co=ki("animationiteration"),Tr=ki("animationstart"),yl=ki("transitionrun"),_l=ki("transitionstart"),uo=ki("transitioncancel"),Nt=ki("transitionend"),he=new Map,_e="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_e.push("scrollEnd");function ye(t,e){he.set(t,e),Gi(e,[t])}var xe=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},de=[],$e=0,vi=0;function ka(){for(var t=$e,e=vi=$e=0;e<t;){var n=de[e];de[e++]=null;var i=de[e];de[e++]=null;var r=de[e];de[e++]=null;var u=de[e];if(de[e++]=null,i!==null&&r!==null){var C=i.pending;C===null?r.next=r:(r.next=C.next,C.next=r),i.pending=r}u!==0&&ds(n,r,u)}}function Qi(t,e,n,i){de[$e++]=t,de[$e++]=e,de[$e++]=n,de[$e++]=i,vi|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function bi(t,e,n,i){return Qi(t,e,n,i),Ji(t)}function yi(t,e){return Qi(t,null,null,e),Ji(t)}function ds(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,u=t.return;u!==null;)u.childLanes|=n,i=u.alternate,i!==null&&(i.childLanes|=n),u.tag===22&&(t=u.stateNode,t===null||t._visibility&1||(r=!0)),t=u,u=u.return;return t.tag===3?(u=t.stateNode,r&&e!==null&&(r=31-ut(n),t=u.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),u):null}function Ji(t){if(50<Ls)throw Ls=0,Mc=null,Error(o(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var li={};function of(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(t,e,n,i){return new of(t,e,n,i)}function El(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,e){var n=t.alternate;return n===null?(n=ci(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function ru(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ho(t,e,n,i,r,u){var C=0;if(i=t,typeof t=="function")El(t)&&(C=1);else if(typeof t=="string")C=hp(t,n,G.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case K:return t=ci(31,n,e,r),t.elementType=K,t.lanes=u,t;case S:return ur(n.children,r,u,e);case R:C=8,r|=24;break;case g:return t=ci(12,n,e,r|2),t.elementType=g,t.lanes=u,t;case w:return t=ci(13,n,e,r),t.elementType=w,t.lanes=u,t;case z:return t=ci(19,n,e,r),t.elementType=z,t.lanes=u,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I:C=10;break t;case O:C=9;break t;case q:C=11;break t;case Z:C=14;break t;case et:C=16,i=null;break t}C=29,n=Error(o(130,t===null?"null":typeof t,"")),i=null}return e=ci(C,n,e,r),e.elementType=t,e.type=i,e.lanes=u,e}function ur(t,e,n,i){return t=ci(7,t,i,e),t.lanes=n,t}function Sl(t,e,n){return t=ci(6,t,null,e),t.lanes=n,t}function su(t){var e=ci(18,null,null,0);return e.stateNode=t,e}function Al(t,e,n){return e=ci(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ou=new WeakMap;function _i(t,e){if(typeof t=="object"&&t!==null){var n=ou.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Mt(e)},ou.set(t,e),e)}return{value:t,source:e,stack:Mt(e)}}var Mr=[],kr=0,fo=null,hs=0,Ei=[],Si=0,Da=null,Bi=1,Ui="";function ta(t,e){Mr[kr++]=hs,Mr[kr++]=fo,fo=t,hs=e}function lu(t,e,n){Ei[Si++]=Bi,Ei[Si++]=Ui,Ei[Si++]=Da,Da=t;var i=Bi;t=Ui;var r=32-ut(i)-1;i&=~(1<<r),n+=1;var u=32-ut(e)+r;if(30<u){var C=r-r%5;u=(i&(1<<C)-1).toString(32),i>>=C,r-=C,Bi=1<<32-ut(e)+r|n<<r|i,Ui=u+t}else Bi=1<<u|n<<r|i,Ui=t}function Cl(t){t.return!==null&&(ta(t,1),lu(t,1,0))}function xl(t){for(;t===fo;)fo=Mr[--kr],Mr[kr]=null,hs=Mr[--kr],Mr[kr]=null;for(;t===Da;)Da=Ei[--Si],Ei[Si]=null,Ui=Ei[--Si],Ei[Si]=null,Bi=Ei[--Si],Ei[Si]=null}function cu(t,e){Ei[Si++]=Bi,Ei[Si++]=Ui,Ei[Si++]=Da,Bi=e.id,Ui=e.overflow,Da=t}var zn=null,sn=null,Fe=!1,Oa=null,Ai=!1,Rl=Error(o(519));function La(t){var e=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fs(_i(e,t)),Rl}function uu(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[kn]=t,e[qn]=i,n){case"dialog":ke("cancel",e),ke("close",e);break;case"iframe":case"object":case"embed":ke("load",e);break;case"video":case"audio":for(n=0;n<Ns.length;n++)ke(Ns[n],e);break;case"source":ke("error",e);break;case"img":case"image":case"link":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"input":ke("invalid",e),$s(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ke("invalid",e);break;case"textarea":ke("invalid",e),is(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||wh(e.textContent,n)?(i.popover!=null&&(ke("beforetoggle",e),ke("toggle",e)),i.onScroll!=null&&ke("scroll",e),i.onScrollEnd!=null&&ke("scrollend",e),i.onClick!=null&&(e.onclick=Qn),e=!0):e=!1,e||La(t,!0)}function du(t){for(zn=t.return;zn;)switch(zn.tag){case 5:case 31:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:zn=zn.return}}function Dr(t){if(t!==zn)return!1;if(!Fe)return du(t),Fe=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Vc(t.type,t.memoizedProps)),n=!n),n&&sn&&La(t),du(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));sn=Fh(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));sn=Fh(t)}else e===27?(e=sn,Ya(t.type)?(t=Zc,Zc=null,sn=t):sn=e):sn=zn?xi(t.stateNode.nextSibling):null;return!0}function dr(){sn=zn=null,Fe=!1}function wl(){var t=Oa;return t!==null&&(ii===null?ii=t:ii.push.apply(ii,t),Oa=null),t}function fs(t){Oa===null?Oa=[t]:Oa.push(t)}var Tl=y(null),hr=null,ea=null;function Pa(t,e,n){B(Tl,e._currentValue),e._currentValue=n}function na(t){t._currentValue=Tl.current,L(Tl)}function Ml(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function kl(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var u=r.dependencies;if(u!==null){var C=r.child;u=u.firstContext;t:for(;u!==null;){var U=u;u=r;for(var it=0;it<e.length;it++)if(U.context===e[it]){u.lanes|=n,U=u.alternate,U!==null&&(U.lanes|=n),Ml(u.return,n,t),i||(C=null);break t}u=U.next}}else if(r.tag===18){if(C=r.return,C===null)throw Error(o(341));C.lanes|=n,u=C.alternate,u!==null&&(u.lanes|=n),Ml(C,n,t),C=null}else C=r.child;if(C!==null)C.return=r;else for(C=r;C!==null;){if(C===t){C=null;break}if(r=C.sibling,r!==null){r.return=C.return,C=r;break}C=C.return}r=C}}function Or(t,e,n,i){t=null;for(var r=e,u=!1;r!==null;){if(!u){if((r.flags&524288)!==0)u=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var C=r.alternate;if(C===null)throw Error(o(387));if(C=C.memoizedProps,C!==null){var U=r.type;jn(r.pendingProps.value,C.value)||(t!==null?t.push(U):t=[U])}}else if(r===k.current){if(C=r.alternate,C===null)throw Error(o(387));C.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Bs):t=[Bs])}r=r.return}t!==null&&kl(e,t,n,i),e.flags|=262144}function po(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fr(t){hr=t,ea=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function In(t){return hu(hr,t)}function mo(t,e){return hr===null&&fr(t),hu(t,e)}function hu(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ea===null){if(t===null)throw Error(o(308));ea=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ea=ea.next=e;return n}var lf=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},cf=a.unstable_scheduleCallback,uf=a.unstable_NormalPriority,Cn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dl(){return{controller:new lf,data:new Map,refCount:0}}function ps(t){t.refCount--,t.refCount===0&&cf(uf,function(){t.controller.abort()})}var ms=null,Ol=0,Lr=0,Pr=null;function df(t,e){if(ms===null){var n=ms=[];Ol=0,Lr=Nc(),Pr={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Ol++,e.then(fu,fu),e}function fu(){if(--Ol===0&&ms!==null){Pr!==null&&(Pr.status="fulfilled");var t=ms;ms=null,Lr=0,Pr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function hf(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var pu=X.S;X.S=function(t,e){Qd=ne(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&df(t,e),pu!==null&&pu(t,e)};var pr=y(null);function Ll(){var t=pr.current;return t!==null?t:tn.pooledCache}function go(t,e){e===null?B(pr,pr.current):B(pr,e.pool)}function mu(){var t=Ll();return t===null?null:{parent:Cn._currentValue,pool:t}}var Nr=Error(o(460)),Pl=Error(o(474)),vo=Error(o(542)),bo={then:function(){}};function gu(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vu(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Qn,Qn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yu(t),t;default:if(typeof e.status=="string")e.then(Qn,Qn);else{if(t=tn,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yu(t),t}throw gr=e,Nr}}function mr(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(gr=n,Nr):n}}var gr=null;function bu(){if(gr===null)throw Error(o(459));var t=gr;return gr=null,t}function yu(t){if(t===Nr||t===vo)throw Error(o(483))}var Fr=null,gs=0;function yo(t){var e=gs;return gs+=1,Fr===null&&(Fr=[]),vu(Fr,t,e)}function vs(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function _o(t,e){throw e.$$typeof===_?Error(o(525)):(t=Object.prototype.toString.call(e),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function _u(t){function e(ft,lt){if(t){var gt=ft.deletions;gt===null?(ft.deletions=[lt],ft.flags|=16):gt.push(lt)}}function n(ft,lt){if(!t)return null;for(;lt!==null;)e(ft,lt),lt=lt.sibling;return null}function i(ft){for(var lt=new Map;ft!==null;)ft.key!==null?lt.set(ft.key,ft):lt.set(ft.index,ft),ft=ft.sibling;return lt}function r(ft,lt){return ft=$i(ft,lt),ft.index=0,ft.sibling=null,ft}function u(ft,lt,gt){return ft.index=gt,t?(gt=ft.alternate,gt!==null?(gt=gt.index,gt<lt?(ft.flags|=67108866,lt):gt):(ft.flags|=67108866,lt)):(ft.flags|=1048576,lt)}function C(ft){return t&&ft.alternate===null&&(ft.flags|=67108866),ft}function U(ft,lt,gt,Ot){return lt===null||lt.tag!==6?(lt=Sl(gt,ft.mode,Ot),lt.return=ft,lt):(lt=r(lt,gt),lt.return=ft,lt)}function it(ft,lt,gt,Ot){var le=gt.type;return le===S?kt(ft,lt,gt.props.children,Ot,gt.key):lt!==null&&(lt.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===et&&mr(le)===lt.type)?(lt=r(lt,gt.props),vs(lt,gt),lt.return=ft,lt):(lt=ho(gt.type,gt.key,gt.props,null,ft.mode,Ot),vs(lt,gt),lt.return=ft,lt)}function vt(ft,lt,gt,Ot){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==gt.containerInfo||lt.stateNode.implementation!==gt.implementation?(lt=Al(gt,ft.mode,Ot),lt.return=ft,lt):(lt=r(lt,gt.children||[]),lt.return=ft,lt)}function kt(ft,lt,gt,Ot,le){return lt===null||lt.tag!==7?(lt=ur(gt,ft.mode,Ot,le),lt.return=ft,lt):(lt=r(lt,gt),lt.return=ft,lt)}function Lt(ft,lt,gt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return lt=Sl(""+lt,ft.mode,gt),lt.return=ft,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case b:return gt=ho(lt.type,lt.key,lt.props,null,ft.mode,gt),vs(gt,lt),gt.return=ft,gt;case f:return lt=Al(lt,ft.mode,gt),lt.return=ft,lt;case et:return lt=mr(lt),Lt(ft,lt,gt)}if(Rt(lt)||yt(lt))return lt=ur(lt,ft.mode,gt,null),lt.return=ft,lt;if(typeof lt.then=="function")return Lt(ft,yo(lt),gt);if(lt.$$typeof===I)return Lt(ft,mo(ft,lt),gt);_o(ft,lt)}return null}function _t(ft,lt,gt,Ot){var le=lt!==null?lt.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return le!==null?null:U(ft,lt,""+gt,Ot);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case b:return gt.key===le?it(ft,lt,gt,Ot):null;case f:return gt.key===le?vt(ft,lt,gt,Ot):null;case et:return gt=mr(gt),_t(ft,lt,gt,Ot)}if(Rt(gt)||yt(gt))return le!==null?null:kt(ft,lt,gt,Ot,null);if(typeof gt.then=="function")return _t(ft,lt,yo(gt),Ot);if(gt.$$typeof===I)return _t(ft,lt,mo(ft,gt),Ot);_o(ft,gt)}return null}function At(ft,lt,gt,Ot,le){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number"||typeof Ot=="bigint")return ft=ft.get(gt)||null,U(lt,ft,""+Ot,le);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case b:return ft=ft.get(Ot.key===null?gt:Ot.key)||null,it(lt,ft,Ot,le);case f:return ft=ft.get(Ot.key===null?gt:Ot.key)||null,vt(lt,ft,Ot,le);case et:return Ot=mr(Ot),At(ft,lt,gt,Ot,le)}if(Rt(Ot)||yt(Ot))return ft=ft.get(gt)||null,kt(lt,ft,Ot,le,null);if(typeof Ot.then=="function")return At(ft,lt,gt,yo(Ot),le);if(Ot.$$typeof===I)return At(ft,lt,gt,mo(lt,Ot),le);_o(lt,Ot)}return null}function Kt(ft,lt,gt,Ot){for(var le=null,Be=null,ee=lt,Se=lt=0,Pe=null;ee!==null&&Se<gt.length;Se++){ee.index>Se?(Pe=ee,ee=null):Pe=ee.sibling;var Ue=_t(ft,ee,gt[Se],Ot);if(Ue===null){ee===null&&(ee=Pe);break}t&&ee&&Ue.alternate===null&&e(ft,ee),lt=u(Ue,lt,Se),Be===null?le=Ue:Be.sibling=Ue,Be=Ue,ee=Pe}if(Se===gt.length)return n(ft,ee),Fe&&ta(ft,Se),le;if(ee===null){for(;Se<gt.length;Se++)ee=Lt(ft,gt[Se],Ot),ee!==null&&(lt=u(ee,lt,Se),Be===null?le=ee:Be.sibling=ee,Be=ee);return Fe&&ta(ft,Se),le}for(ee=i(ee);Se<gt.length;Se++)Pe=At(ee,ft,Se,gt[Se],Ot),Pe!==null&&(t&&Pe.alternate!==null&&ee.delete(Pe.key===null?Se:Pe.key),lt=u(Pe,lt,Se),Be===null?le=Pe:Be.sibling=Pe,Be=Pe);return t&&ee.forEach(function(Ja){return e(ft,Ja)}),Fe&&ta(ft,Se),le}function me(ft,lt,gt,Ot){if(gt==null)throw Error(o(151));for(var le=null,Be=null,ee=lt,Se=lt=0,Pe=null,Ue=gt.next();ee!==null&&!Ue.done;Se++,Ue=gt.next()){ee.index>Se?(Pe=ee,ee=null):Pe=ee.sibling;var Ja=_t(ft,ee,Ue.value,Ot);if(Ja===null){ee===null&&(ee=Pe);break}t&&ee&&Ja.alternate===null&&e(ft,ee),lt=u(Ja,lt,Se),Be===null?le=Ja:Be.sibling=Ja,Be=Ja,ee=Pe}if(Ue.done)return n(ft,ee),Fe&&ta(ft,Se),le;if(ee===null){for(;!Ue.done;Se++,Ue=gt.next())Ue=Lt(ft,Ue.value,Ot),Ue!==null&&(lt=u(Ue,lt,Se),Be===null?le=Ue:Be.sibling=Ue,Be=Ue);return Fe&&ta(ft,Se),le}for(ee=i(ee);!Ue.done;Se++,Ue=gt.next())Ue=At(ee,ft,Se,Ue.value,Ot),Ue!==null&&(t&&Ue.alternate!==null&&ee.delete(Ue.key===null?Se:Ue.key),lt=u(Ue,lt,Se),Be===null?le=Ue:Be.sibling=Ue,Be=Ue);return t&&ee.forEach(function(Ap){return e(ft,Ap)}),Fe&&ta(ft,Se),le}function Qe(ft,lt,gt,Ot){if(typeof gt=="object"&&gt!==null&&gt.type===S&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case b:t:{for(var le=gt.key;lt!==null;){if(lt.key===le){if(le=gt.type,le===S){if(lt.tag===7){n(ft,lt.sibling),Ot=r(lt,gt.props.children),Ot.return=ft,ft=Ot;break t}}else if(lt.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===et&&mr(le)===lt.type){n(ft,lt.sibling),Ot=r(lt,gt.props),vs(Ot,gt),Ot.return=ft,ft=Ot;break t}n(ft,lt);break}else e(ft,lt);lt=lt.sibling}gt.type===S?(Ot=ur(gt.props.children,ft.mode,Ot,gt.key),Ot.return=ft,ft=Ot):(Ot=ho(gt.type,gt.key,gt.props,null,ft.mode,Ot),vs(Ot,gt),Ot.return=ft,ft=Ot)}return C(ft);case f:t:{for(le=gt.key;lt!==null;){if(lt.key===le)if(lt.tag===4&&lt.stateNode.containerInfo===gt.containerInfo&&lt.stateNode.implementation===gt.implementation){n(ft,lt.sibling),Ot=r(lt,gt.children||[]),Ot.return=ft,ft=Ot;break t}else{n(ft,lt);break}else e(ft,lt);lt=lt.sibling}Ot=Al(gt,ft.mode,Ot),Ot.return=ft,ft=Ot}return C(ft);case et:return gt=mr(gt),Qe(ft,lt,gt,Ot)}if(Rt(gt))return Kt(ft,lt,gt,Ot);if(yt(gt)){if(le=yt(gt),typeof le!="function")throw Error(o(150));return gt=le.call(gt),me(ft,lt,gt,Ot)}if(typeof gt.then=="function")return Qe(ft,lt,yo(gt),Ot);if(gt.$$typeof===I)return Qe(ft,lt,mo(ft,gt),Ot);_o(ft,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint"?(gt=""+gt,lt!==null&&lt.tag===6?(n(ft,lt.sibling),Ot=r(lt,gt),Ot.return=ft,ft=Ot):(n(ft,lt),Ot=Sl(gt,ft.mode,Ot),Ot.return=ft,ft=Ot),C(ft)):n(ft,lt)}return function(ft,lt,gt,Ot){try{gs=0;var le=Qe(ft,lt,gt,Ot);return Fr=null,le}catch(ee){if(ee===Nr||ee===vo)throw ee;var Be=ci(29,ee,null,ft.mode);return Be.lanes=Ot,Be.return=ft,Be}finally{}}}var vr=_u(!0),Eu=_u(!1),Na=!1;function Nl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fl(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ja(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(qe&2)!==0){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Ji(t),ds(t,null,n),e}return Qi(t,i,e,n),Ji(t)}function bs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ga(t,n)}}function jl(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var C={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?r=u=C:u=u.next=C,n=n.next}while(n!==null);u===null?r=u=e:u=u.next=e}else r=u=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var zl=!1;function ys(){if(zl){var t=Pr;if(t!==null)throw t}}function _s(t,e,n,i){zl=!1;var r=t.updateQueue;Na=!1;var u=r.firstBaseUpdate,C=r.lastBaseUpdate,U=r.shared.pending;if(U!==null){r.shared.pending=null;var it=U,vt=it.next;it.next=null,C===null?u=vt:C.next=vt,C=it;var kt=t.alternate;kt!==null&&(kt=kt.updateQueue,U=kt.lastBaseUpdate,U!==C&&(U===null?kt.firstBaseUpdate=vt:U.next=vt,kt.lastBaseUpdate=it))}if(u!==null){var Lt=r.baseState;C=0,kt=vt=it=null,U=u;do{var _t=U.lane&-536870913,At=_t!==U.lane;if(At?(Le&_t)===_t:(i&_t)===_t){_t!==0&&_t===Lr&&(zl=!0),kt!==null&&(kt=kt.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});t:{var Kt=t,me=U;_t=e;var Qe=n;switch(me.tag){case 1:if(Kt=me.payload,typeof Kt=="function"){Lt=Kt.call(Qe,Lt,_t);break t}Lt=Kt;break t;case 3:Kt.flags=Kt.flags&-65537|128;case 0:if(Kt=me.payload,_t=typeof Kt=="function"?Kt.call(Qe,Lt,_t):Kt,_t==null)break t;Lt=h({},Lt,_t);break t;case 2:Na=!0}}_t=U.callback,_t!==null&&(t.flags|=64,At&&(t.flags|=8192),At=r.callbacks,At===null?r.callbacks=[_t]:At.push(_t))}else At={lane:_t,tag:U.tag,payload:U.payload,callback:U.callback,next:null},kt===null?(vt=kt=At,it=Lt):kt=kt.next=At,C|=_t;if(U=U.next,U===null){if(U=r.shared.pending,U===null)break;At=U,U=At.next,At.next=null,r.lastBaseUpdate=At,r.shared.pending=null}}while(!0);kt===null&&(it=Lt),r.baseState=it,r.firstBaseUpdate=vt,r.lastBaseUpdate=kt,u===null&&(r.shared.lanes=0),Ha|=C,t.lanes=C,t.memoizedState=Lt}}function Su(t,e){if(typeof t!="function")throw Error(o(191,t));t.call(e)}function Au(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Su(n[t],e)}var jr=y(null),Eo=y(0);function Cu(t,e){t=da,B(Eo,t),B(jr,e),da=t|e.baseLanes}function Il(){B(Eo,da),B(jr,jr.current)}function Bl(){da=Eo.current,L(jr),L(Eo)}var ui=y(null),Ci=null;function za(t){var e=t.alternate;B(yn,yn.current&1),B(ui,t),Ci===null&&(e===null||jr.current!==null||e.memoizedState!==null)&&(Ci=t)}function Ul(t){B(yn,yn.current),B(ui,t),Ci===null&&(Ci=t)}function xu(t){t.tag===22?(B(yn,yn.current),B(ui,t),Ci===null&&(Ci=t)):Ia()}function Ia(){B(yn,yn.current),B(ui,ui.current)}function di(t){L(ui),Ci===t&&(Ci=null),L(yn)}var yn=y(0);function So(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Yc(n)||Wc(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ia=0,Ee=null,Ze=null,xn=null,Ao=!1,zr=!1,br=!1,Co=0,Es=0,Ir=null,ff=0;function pn(){throw Error(o(321))}function Hl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function ql(t,e,n,i,r,u){return ia=u,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,X.H=t===null||t.memoizedState===null?ld:ac,br=!1,u=n(i,r),br=!1,zr&&(u=wu(e,n,i,r)),Ru(t),u}function Ru(t){X.H=Cs;var e=Ze!==null&&Ze.next!==null;if(ia=0,xn=Ze=Ee=null,Ao=!1,Es=0,Ir=null,e)throw Error(o(300));t===null||Rn||(t=t.dependencies,t!==null&&po(t)&&(Rn=!0))}function wu(t,e,n,i){Ee=t;var r=0;do{if(zr&&(Ir=null),Es=0,zr=!1,25<=r)throw Error(o(301));if(r+=1,xn=Ze=null,t.updateQueue!=null){var u=t.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}X.H=cd,u=e(n,i)}while(zr);return u}function pf(){var t=X.H,e=t.useState()[0];return e=typeof e.then=="function"?Ss(e):e,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ee.flags|=1024),e}function Vl(){var t=Co!==0;return Co=0,t}function Gl(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Xl(t){if(Ao){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ao=!1}ia=0,xn=Ze=Ee=null,zr=!1,Es=Co=0,Ir=null}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Ee.memoizedState=xn=t:xn=xn.next=t,xn}function _n(){if(Ze===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=xn===null?Ee.memoizedState:xn.next;if(e!==null)xn=e,Ze=t;else{if(t===null)throw Ee.alternate===null?Error(o(467)):Error(o(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},xn===null?Ee.memoizedState=xn=t:xn=xn.next=t}return xn}function xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ss(t){var e=Es;return Es+=1,Ir===null&&(Ir=[]),t=vu(Ir,t,e),e=Ee,(xn===null?e.memoizedState:xn.next)===null&&(e=e.alternate,X.H=e===null||e.memoizedState===null?ld:ac),t}function Ro(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ss(t);if(t.$$typeof===I)return In(t)}throw Error(o(438,String(t)))}function Yl(t){var e=null,n=Ee.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Ee.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=xo(),Ee.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=ht;return e.index++,n}function aa(t,e){return typeof e=="function"?e(t):e}function wo(t){var e=_n();return Wl(e,Ze,t)}function Wl(t,e,n){var i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=n;var r=t.baseQueue,u=i.pending;if(u!==null){if(r!==null){var C=r.next;r.next=u.next,u.next=C}e.baseQueue=r=u,i.pending=null}if(u=t.baseState,r===null)t.memoizedState=u;else{e=r.next;var U=C=null,it=null,vt=e,kt=!1;do{var Lt=vt.lane&-536870913;if(Lt!==vt.lane?(Le&Lt)===Lt:(ia&Lt)===Lt){var _t=vt.revertLane;if(_t===0)it!==null&&(it=it.next={lane:0,revertLane:0,gesture:null,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),Lt===Lr&&(kt=!0);else if((ia&_t)===_t){vt=vt.next,_t===Lr&&(kt=!0);continue}else Lt={lane:0,revertLane:vt.revertLane,gesture:null,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},it===null?(U=it=Lt,C=u):it=it.next=Lt,Ee.lanes|=_t,Ha|=_t;Lt=vt.action,br&&n(u,Lt),u=vt.hasEagerState?vt.eagerState:n(u,Lt)}else _t={lane:Lt,revertLane:vt.revertLane,gesture:vt.gesture,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},it===null?(U=it=_t,C=u):it=it.next=_t,Ee.lanes|=Lt,Ha|=Lt;vt=vt.next}while(vt!==null&&vt!==e);if(it===null?C=u:it.next=U,!jn(u,t.memoizedState)&&(Rn=!0,kt&&(n=Pr,n!==null)))throw n;t.memoizedState=u,t.baseState=C,t.baseQueue=it,i.lastRenderedState=u}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Zl(t){var e=_n(),n=e.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,u=e.memoizedState;if(r!==null){n.pending=null;var C=r=r.next;do u=t(u,C.action),C=C.next;while(C!==r);jn(u,e.memoizedState)||(Rn=!0),e.memoizedState=u,e.baseQueue===null&&(e.baseState=u),n.lastRenderedState=u}return[u,i]}function Tu(t,e,n){var i=Ee,r=_n(),u=Fe;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=e();var C=!jn((Ze||r).memoizedState,n);if(C&&(r.memoizedState=n,Rn=!0),r=r.queue,Jl(Du.bind(null,i,r,t),[t]),r.getSnapshot!==e||C||xn!==null&&xn.memoizedState.tag&1){if(i.flags|=2048,Br(9,{destroy:void 0},ku.bind(null,i,r,n,e),null),tn===null)throw Error(o(349));u||(ia&127)!==0||Mu(i,e,n)}return n}function Mu(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e=xo(),Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ku(t,e,n,i){e.value=n,e.getSnapshot=i,Ou(e)&&Lu(t)}function Du(t,e,n){return n(function(){Ou(e)&&Lu(t)})}function Ou(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function Lu(t){var e=yi(t,2);e!==null&&ai(e,t,2)}function Kl(t){var e=Zn();if(typeof t=="function"){var n=t;if(t=n(),br){pt(!0);try{n()}finally{pt(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:t},e}function Pu(t,e,n,i){return t.baseState=n,Wl(t,Ze,typeof i=="function"?i:aa)}function mf(t,e,n,i,r){if(ko(t))throw Error(o(485));if(t=e.action,t!==null){var u={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){u.listeners.push(C)}};X.T!==null?n(!0):u.isTransition=!1,i(u),n=e.pending,n===null?(u.next=e.pending=u,Nu(e,u)):(u.next=n.next,e.pending=n.next=u)}}function Nu(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var u=X.T,C={};X.T=C;try{var U=n(r,i),it=X.S;it!==null&&it(C,U),Fu(t,e,U)}catch(vt){Ql(t,e,vt)}finally{u!==null&&C.types!==null&&(u.types=C.types),X.T=u}}else try{u=n(r,i),Fu(t,e,u)}catch(vt){Ql(t,e,vt)}}function Fu(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){ju(t,e,i)},function(i){return Ql(t,e,i)}):ju(t,e,n)}function ju(t,e,n){e.status="fulfilled",e.value=n,zu(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Nu(t,n)))}function Ql(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,zu(e),e=e.next;while(e!==i)}t.action=null}function zu(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Iu(t,e){return e}function Bu(t,e){if(Fe){var n=tn.formState;if(n!==null){t:{var i=Ee;if(Fe){if(sn){e:{for(var r=sn,u=Ai;r.nodeType!==8;){if(!u){r=null;break e}if(r=xi(r.nextSibling),r===null){r=null;break e}}u=r.data,r=u==="F!"||u==="F"?r:null}if(r){sn=xi(r.nextSibling),i=r.data==="F!";break t}}La(i)}i=!1}i&&(e=n[0])}}return n=Zn(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iu,lastRenderedState:e},n.queue=i,n=rd.bind(null,Ee,i),i.dispatch=n,i=Kl(!1),u=ic.bind(null,Ee,!1,i.queue),i=Zn(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=mf.bind(null,Ee,r,u,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function Uu(t){var e=_n();return Hu(e,Ze,t)}function Hu(t,e,n){if(e=Wl(t,e,Iu)[0],t=wo(aa)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Ss(e)}catch(C){throw C===Nr?vo:C}else i=e;e=_n();var r=e.queue,u=r.dispatch;return n!==e.memoizedState&&(Ee.flags|=2048,Br(9,{destroy:void 0},gf.bind(null,r,n),null)),[i,u,t]}function gf(t,e){t.action=e}function qu(t){var e=_n(),n=Ze;if(n!==null)return Hu(e,n,t);_n(),e=e.memoizedState,n=_n();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Br(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=Ee.updateQueue,e===null&&(e=xo(),Ee.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Vu(){return _n().memoizedState}function To(t,e,n,i){var r=Zn();Ee.flags|=t,r.memoizedState=Br(1|e,{destroy:void 0},n,i===void 0?null:i)}function Mo(t,e,n,i){var r=_n();i=i===void 0?null:i;var u=r.memoizedState.inst;Ze!==null&&i!==null&&Hl(i,Ze.memoizedState.deps)?r.memoizedState=Br(e,u,n,i):(Ee.flags|=t,r.memoizedState=Br(1|e,u,n,i))}function Gu(t,e){To(8390656,8,t,e)}function Jl(t,e){Mo(2048,8,t,e)}function vf(t){Ee.flags|=4;var e=Ee.updateQueue;if(e===null)e=xo(),Ee.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Xu(t){var e=_n().memoizedState;return vf({ref:e,nextImpl:t}),function(){if((qe&2)!==0)throw Error(o(440));return e.impl.apply(void 0,arguments)}}function Yu(t,e){return Mo(4,2,t,e)}function Wu(t,e){return Mo(4,4,t,e)}function Zu(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ku(t,e,n){n=n!=null?n.concat([t]):null,Mo(4,4,Zu.bind(null,e,t),n)}function $l(){}function Qu(t,e){var n=_n();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Hl(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Ju(t,e){var n=_n();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Hl(e,i[1]))return i[0];if(i=t(),br){pt(!0);try{t()}finally{pt(!1)}}return n.memoizedState=[i,e],i}function tc(t,e,n){return n===void 0||(ia&1073741824)!==0&&(Le&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=$d(),Ee.lanes|=t,Ha|=t,n)}function $u(t,e,n,i){return jn(n,e)?n:jr.current!==null?(t=tc(t,n,i),jn(t,e)||(Rn=!0),t):(ia&42)===0||(ia&1073741824)!==0&&(Le&261930)===0?(Rn=!0,t.memoizedState=n):(t=$d(),Ee.lanes|=t,Ha|=t,e)}function td(t,e,n,i,r){var u=j.p;j.p=u!==0&&8>u?u:8;var C=X.T,U={};X.T=U,ic(t,!1,e,n);try{var it=r(),vt=X.S;if(vt!==null&&vt(U,it),it!==null&&typeof it=="object"&&typeof it.then=="function"){var kt=hf(it,i);As(t,e,kt,pi(t))}else As(t,e,i,pi(t))}catch(Lt){As(t,e,{then:function(){},status:"rejected",reason:Lt},pi())}finally{j.p=u,C!==null&&U.types!==null&&(C.types=U.types),X.T=C}}function bf(){}function ec(t,e,n,i){if(t.tag!==5)throw Error(o(476));var r=ed(t).queue;td(t,r,e,M,n===null?bf:function(){return nd(t),n(i)})}function ed(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:M},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function nd(t){var e=ed(t);e.next===null&&(e=t.alternate.memoizedState),As(t,e.next.queue,{},pi())}function nc(){return In(Bs)}function id(){return _n().memoizedState}function ad(){return _n().memoizedState}function yf(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=pi();t=Fa(n);var i=ja(e,t,n);i!==null&&(ai(i,e,n),bs(i,e,n)),e={cache:Dl()},t.payload=e;return}e=e.return}}function _f(t,e,n){var i=pi();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ko(t)?sd(e,n):(n=bi(t,e,n,i),n!==null&&(ai(n,t,i),od(n,e,i)))}function rd(t,e,n){var i=pi();As(t,e,n,i)}function As(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ko(t))sd(e,r);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=e.lastRenderedReducer,u!==null))try{var C=e.lastRenderedState,U=u(C,n);if(r.hasEagerState=!0,r.eagerState=U,jn(U,C))return Qi(t,e,r,0),tn===null&&ka(),!1}catch{}finally{}if(n=bi(t,e,r,i),n!==null)return ai(n,t,i),od(n,e,i),!0}return!1}function ic(t,e,n,i){if(i={lane:2,revertLane:Nc(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ko(t)){if(e)throw Error(o(479))}else e=bi(t,n,i,2),e!==null&&ai(e,t,2)}function ko(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function sd(t,e){zr=Ao=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function od(t,e,n){if((n&4194048)!==0){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ga(t,n)}}var Cs={readContext:In,use:Ro,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn,useHostTransitionStatus:pn,useFormState:pn,useActionState:pn,useOptimistic:pn,useMemoCache:pn,useCacheRefresh:pn};Cs.useEffectEvent=pn;var ld={readContext:In,use:Ro,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:Gu,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,To(4194308,4,Zu.bind(null,e,t),n)},useLayoutEffect:function(t,e){return To(4194308,4,t,e)},useInsertionEffect:function(t,e){To(4,2,t,e)},useMemo:function(t,e){var n=Zn();e=e===void 0?null:e;var i=t();if(br){pt(!0);try{t()}finally{pt(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Zn();if(n!==void 0){var r=n(e);if(br){pt(!0);try{n(e)}finally{pt(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=_f.bind(null,Ee,t),[i.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:function(t){t=Kl(t);var e=t.queue,n=rd.bind(null,Ee,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:$l,useDeferredValue:function(t,e){var n=Zn();return tc(n,t,e)},useTransition:function(){var t=Kl(!1);return t=td.bind(null,Ee,t.queue,!0,!1),Zn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Ee,r=Zn();if(Fe){if(n===void 0)throw Error(o(407));n=n()}else{if(n=e(),tn===null)throw Error(o(349));(Le&127)!==0||Mu(i,e,n)}r.memoizedState=n;var u={value:n,getSnapshot:e};return r.queue=u,Gu(Du.bind(null,i,u,t),[t]),i.flags|=2048,Br(9,{destroy:void 0},ku.bind(null,i,u,n,e),null),n},useId:function(){var t=Zn(),e=tn.identifierPrefix;if(Fe){var n=Ui,i=Bi;n=(i&~(1<<32-ut(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Co++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=ff++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:nc,useFormState:Bu,useActionState:Bu,useOptimistic:function(t){var e=Zn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=ic.bind(null,Ee,!0,n),n.dispatch=e,[t,e]},useMemoCache:Yl,useCacheRefresh:function(){return Zn().memoizedState=yf.bind(null,Ee)},useEffectEvent:function(t){var e=Zn(),n={impl:t};return e.memoizedState=n,function(){if((qe&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},ac={readContext:In,use:Ro,useCallback:Qu,useContext:In,useEffect:Jl,useImperativeHandle:Ku,useInsertionEffect:Yu,useLayoutEffect:Wu,useMemo:Ju,useReducer:wo,useRef:Vu,useState:function(){return wo(aa)},useDebugValue:$l,useDeferredValue:function(t,e){var n=_n();return $u(n,Ze.memoizedState,t,e)},useTransition:function(){var t=wo(aa)[0],e=_n().memoizedState;return[typeof t=="boolean"?t:Ss(t),e]},useSyncExternalStore:Tu,useId:id,useHostTransitionStatus:nc,useFormState:Uu,useActionState:Uu,useOptimistic:function(t,e){var n=_n();return Pu(n,Ze,t,e)},useMemoCache:Yl,useCacheRefresh:ad};ac.useEffectEvent=Xu;var cd={readContext:In,use:Ro,useCallback:Qu,useContext:In,useEffect:Jl,useImperativeHandle:Ku,useInsertionEffect:Yu,useLayoutEffect:Wu,useMemo:Ju,useReducer:Zl,useRef:Vu,useState:function(){return Zl(aa)},useDebugValue:$l,useDeferredValue:function(t,e){var n=_n();return Ze===null?tc(n,t,e):$u(n,Ze.memoizedState,t,e)},useTransition:function(){var t=Zl(aa)[0],e=_n().memoizedState;return[typeof t=="boolean"?t:Ss(t),e]},useSyncExternalStore:Tu,useId:id,useHostTransitionStatus:nc,useFormState:qu,useActionState:qu,useOptimistic:function(t,e){var n=_n();return Ze!==null?Pu(n,Ze,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Yl,useCacheRefresh:ad};cd.useEffectEvent=Xu;function rc(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:h({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sc={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=pi(),r=Fa(i);r.payload=e,n!=null&&(r.callback=n),e=ja(t,r,i),e!==null&&(ai(e,t,i),bs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=pi(),r=Fa(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=ja(t,r,i),e!==null&&(ai(e,t,i),bs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pi(),i=Fa(n);i.tag=2,e!=null&&(i.callback=e),e=ja(t,i,n),e!==null&&(ai(e,t,n),bs(e,t,n))}};function ud(t,e,n,i,r,u,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,u,C):e.prototype&&e.prototype.isPureReactComponent?!wa(n,i)||!wa(r,u):!0}function dd(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&sc.enqueueReplaceState(e,e.state,null)}function yr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=h({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function hd(t){xe(t)}function fd(t){console.error(t)}function pd(t){xe(t)}function Do(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function md(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function oc(t,e,n){return n=Fa(n),n.tag=3,n.payload={element:null},n.callback=function(){Do(t,e)},n}function gd(t){return t=Fa(t),t.tag=3,t}function vd(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var u=i.value;t.payload=function(){return r(u)},t.callback=function(){md(e,n,i)}}var C=n.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(t.callback=function(){md(e,n,i),typeof r!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var U=i.stack;this.componentDidCatch(i.value,{componentStack:U!==null?U:""})})}function Ef(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Or(e,n,r,!0),n=ui.current,n!==null){switch(n.tag){case 31:case 13:return Ci===null?qo():n.alternate===null&&mn===0&&(mn=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===bo?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Oc(t,i,r)),!1;case 22:return n.flags|=65536,i===bo?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Oc(t,i,r)),!1}throw Error(o(435,n.tag))}return Oc(t,i,r),qo(),!1}if(Fe)return e=ui.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==Rl&&(t=Error(o(422),{cause:i}),fs(_i(t,n)))):(i!==Rl&&(e=Error(o(423),{cause:i}),fs(_i(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=_i(i,n),r=oc(t.stateNode,i,r),jl(t,r),mn!==4&&(mn=2)),!1;var u=Error(o(520),{cause:i});if(u=_i(u,n),Os===null?Os=[u]:Os.push(u),mn!==4&&(mn=2),e===null)return!0;i=_i(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=oc(n.stateNode,i,t),jl(n,t),!1;case 1:if(e=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(qa===null||!qa.has(u))))return n.flags|=65536,r&=-r,n.lanes|=r,r=gd(r),vd(r,t,n,i),jl(n,r),!1}n=n.return}while(n!==null);return!1}var lc=Error(o(461)),Rn=!1;function Bn(t,e,n,i){e.child=t===null?Eu(e,null,n,i):vr(e,t.child,n,i)}function bd(t,e,n,i,r){n=n.render;var u=e.ref;if("ref"in i){var C={};for(var U in i)U!=="ref"&&(C[U]=i[U])}else C=i;return fr(e),i=ql(t,e,n,C,u,r),U=Vl(),t!==null&&!Rn?(Gl(t,e,r),ra(t,e,r)):(Fe&&U&&Cl(e),e.flags|=1,Bn(t,e,i,r),e.child)}function yd(t,e,n,i,r){if(t===null){var u=n.type;return typeof u=="function"&&!El(u)&&u.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=u,_d(t,e,u,i,r)):(t=ho(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(u=t.child,!gc(t,r)){var C=u.memoizedProps;if(n=n.compare,n=n!==null?n:wa,n(C,i)&&t.ref===e.ref)return ra(t,e,r)}return e.flags|=1,t=$i(u,i),t.ref=e.ref,t.return=e,e.child=t}function _d(t,e,n,i,r){if(t!==null){var u=t.memoizedProps;if(wa(u,i)&&t.ref===e.ref)if(Rn=!1,e.pendingProps=i=u,gc(t,r))(t.flags&131072)!==0&&(Rn=!0);else return e.lanes=t.lanes,ra(t,e,r)}return cc(t,e,n,i,r)}function Ed(t,e,n,i){var r=i.children,u=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((e.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~u}else i=0,e.child=null;return Sd(t,e,u,n,i)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&go(e,u!==null?u.cachePool:null),u!==null?Cu(e,u):Il(),xu(e);else return i=e.lanes=536870912,Sd(t,e,u!==null?u.baseLanes|n:n,n,i)}else u!==null?(go(e,u.cachePool),Cu(e,u),Ia(),e.memoizedState=null):(t!==null&&go(e,null),Il(),Ia());return Bn(t,e,r,n),e.child}function xs(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Sd(t,e,n,i,r){var u=Ll();return u=u===null?null:{parent:Cn._currentValue,pool:u},e.memoizedState={baseLanes:n,cachePool:u},t!==null&&go(e,null),Il(),xu(e),t!==null&&Or(t,e,i,!0),e.childLanes=r,null}function Oo(t,e){return e=Po({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Ad(t,e,n){return vr(e,t.child,null,n),t=Oo(e,e.pendingProps),t.flags|=2,di(e),e.memoizedState=null,t}function Sf(t,e,n){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Fe){if(i.mode==="hidden")return t=Oo(e,i),e.lanes=536870912,xs(null,t);if(Ul(e),(t=sn)?(t=Nh(t,Ai),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Da!==null?{id:Bi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},n=su(t),n.return=e,e.child=n,zn=e,sn=null)):t=null,t===null)throw La(e);return e.lanes=536870912,null}return Oo(e,i)}var u=t.memoizedState;if(u!==null){var C=u.dehydrated;if(Ul(e),r)if(e.flags&256)e.flags&=-257,e=Ad(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(o(558));else if(Rn||Or(t,e,n,!1),r=(n&t.childLanes)!==0,Rn||r){if(i=tn,i!==null&&(C=Pi(i,n),C!==0&&C!==u.retryLane))throw u.retryLane=C,yi(t,C),ai(i,t,C),lc;qo(),e=Ad(t,e,n)}else t=u.treeContext,sn=xi(C.nextSibling),zn=e,Fe=!0,Oa=null,Ai=!1,t!==null&&cu(e,t),e=Oo(e,i),e.flags|=4096;return e}return t=$i(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Lo(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function cc(t,e,n,i,r){return fr(e),n=ql(t,e,n,i,void 0,r),i=Vl(),t!==null&&!Rn?(Gl(t,e,r),ra(t,e,r)):(Fe&&i&&Cl(e),e.flags|=1,Bn(t,e,n,r),e.child)}function Cd(t,e,n,i,r,u){return fr(e),e.updateQueue=null,n=wu(e,i,n,r),Ru(t),i=Vl(),t!==null&&!Rn?(Gl(t,e,u),ra(t,e,u)):(Fe&&i&&Cl(e),e.flags|=1,Bn(t,e,n,u),e.child)}function xd(t,e,n,i,r){if(fr(e),e.stateNode===null){var u=li,C=n.contextType;typeof C=="object"&&C!==null&&(u=In(C)),u=new n(i,u),e.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=sc,e.stateNode=u,u._reactInternals=e,u=e.stateNode,u.props=i,u.state=e.memoizedState,u.refs={},Nl(e),C=n.contextType,u.context=typeof C=="object"&&C!==null?In(C):li,u.state=e.memoizedState,C=n.getDerivedStateFromProps,typeof C=="function"&&(rc(e,n,C,i),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(C=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),C!==u.state&&sc.enqueueReplaceState(u,u.state,null),_s(e,i,u,r),ys(),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){u=e.stateNode;var U=e.memoizedProps,it=yr(n,U);u.props=it;var vt=u.context,kt=n.contextType;C=li,typeof kt=="object"&&kt!==null&&(C=In(kt));var Lt=n.getDerivedStateFromProps;kt=typeof Lt=="function"||typeof u.getSnapshotBeforeUpdate=="function",U=e.pendingProps!==U,kt||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(U||vt!==C)&&dd(e,u,i,C),Na=!1;var _t=e.memoizedState;u.state=_t,_s(e,i,u,r),ys(),vt=e.memoizedState,U||_t!==vt||Na?(typeof Lt=="function"&&(rc(e,n,Lt,i),vt=e.memoizedState),(it=Na||ud(e,n,it,i,_t,vt,C))?(kt||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=vt),u.props=i,u.state=vt,u.context=C,i=it):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{u=e.stateNode,Fl(t,e),C=e.memoizedProps,kt=yr(n,C),u.props=kt,Lt=e.pendingProps,_t=u.context,vt=n.contextType,it=li,typeof vt=="object"&&vt!==null&&(it=In(vt)),U=n.getDerivedStateFromProps,(vt=typeof U=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(C!==Lt||_t!==it)&&dd(e,u,i,it),Na=!1,_t=e.memoizedState,u.state=_t,_s(e,i,u,r),ys();var At=e.memoizedState;C!==Lt||_t!==At||Na||t!==null&&t.dependencies!==null&&po(t.dependencies)?(typeof U=="function"&&(rc(e,n,U,i),At=e.memoizedState),(kt=Na||ud(e,n,kt,i,_t,At,it)||t!==null&&t.dependencies!==null&&po(t.dependencies))?(vt||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,At,it),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,At,it)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||C===t.memoizedProps&&_t===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&_t===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=At),u.props=i,u.state=At,u.context=it,i=kt):(typeof u.componentDidUpdate!="function"||C===t.memoizedProps&&_t===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&_t===t.memoizedState||(e.flags|=1024),i=!1)}return u=i,Lo(t,e),i=(e.flags&128)!==0,u||i?(u=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:u.render(),e.flags|=1,t!==null&&i?(e.child=vr(e,t.child,null,r),e.child=vr(e,null,n,r)):Bn(t,e,n,r),e.memoizedState=u.state,t=e.child):t=ra(t,e,r),t}function Rd(t,e,n,i){return dr(),e.flags|=256,Bn(t,e,n,i),e.child}var uc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dc(t){return{baseLanes:t,cachePool:mu()}}function hc(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=fi),t}function wd(t,e,n){var i=e.pendingProps,r=!1,u=(e.flags&128)!==0,C;if((C=u)||(C=t!==null&&t.memoizedState===null?!1:(yn.current&2)!==0),C&&(r=!0,e.flags&=-129),C=(e.flags&32)!==0,e.flags&=-33,t===null){if(Fe){if(r?za(e):Ia(),(t=sn)?(t=Nh(t,Ai),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Da!==null?{id:Bi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},n=su(t),n.return=e,e.child=n,zn=e,sn=null)):t=null,t===null)throw La(e);return Wc(t)?e.lanes=32:e.lanes=536870912,null}var U=i.children;return i=i.fallback,r?(Ia(),r=e.mode,U=Po({mode:"hidden",children:U},r),i=ur(i,r,n,null),U.return=e,i.return=e,U.sibling=i,e.child=U,i=e.child,i.memoizedState=dc(n),i.childLanes=hc(t,C,n),e.memoizedState=uc,xs(null,i)):(za(e),fc(e,U))}var it=t.memoizedState;if(it!==null&&(U=it.dehydrated,U!==null)){if(u)e.flags&256?(za(e),e.flags&=-257,e=pc(t,e,n)):e.memoizedState!==null?(Ia(),e.child=t.child,e.flags|=128,e=null):(Ia(),U=i.fallback,r=e.mode,i=Po({mode:"visible",children:i.children},r),U=ur(U,r,n,null),U.flags|=2,i.return=e,U.return=e,i.sibling=U,e.child=i,vr(e,t.child,null,n),i=e.child,i.memoizedState=dc(n),i.childLanes=hc(t,C,n),e.memoizedState=uc,e=xs(null,i));else if(za(e),Wc(U)){if(C=U.nextSibling&&U.nextSibling.dataset,C)var vt=C.dgst;C=vt,i=Error(o(419)),i.stack="",i.digest=C,fs({value:i,source:null,stack:null}),e=pc(t,e,n)}else if(Rn||Or(t,e,n,!1),C=(n&t.childLanes)!==0,Rn||C){if(C=tn,C!==null&&(i=Pi(C,n),i!==0&&i!==it.retryLane))throw it.retryLane=i,yi(t,i),ai(C,t,i),lc;Yc(U)||qo(),e=pc(t,e,n)}else Yc(U)?(e.flags|=192,e.child=t.child,e=null):(t=it.treeContext,sn=xi(U.nextSibling),zn=e,Fe=!0,Oa=null,Ai=!1,t!==null&&cu(e,t),e=fc(e,i.children),e.flags|=4096);return e}return r?(Ia(),U=i.fallback,r=e.mode,it=t.child,vt=it.sibling,i=$i(it,{mode:"hidden",children:i.children}),i.subtreeFlags=it.subtreeFlags&65011712,vt!==null?U=$i(vt,U):(U=ur(U,r,n,null),U.flags|=2),U.return=e,i.return=e,i.sibling=U,e.child=i,xs(null,i),i=e.child,U=t.child.memoizedState,U===null?U=dc(n):(r=U.cachePool,r!==null?(it=Cn._currentValue,r=r.parent!==it?{parent:it,pool:it}:r):r=mu(),U={baseLanes:U.baseLanes|n,cachePool:r}),i.memoizedState=U,i.childLanes=hc(t,C,n),e.memoizedState=uc,xs(t.child,i)):(za(e),n=t.child,t=n.sibling,n=$i(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(C=e.deletions,C===null?(e.deletions=[t],e.flags|=16):C.push(t)),e.child=n,e.memoizedState=null,n)}function fc(t,e){return e=Po({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Po(t,e){return t=ci(22,t,null,e),t.lanes=0,t}function pc(t,e,n){return vr(e,t.child,null,n),t=fc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Td(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Ml(t.return,e,n)}function mc(t,e,n,i,r,u){var C=t.memoizedState;C===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:u}:(C.isBackwards=e,C.rendering=null,C.renderingStartTime=0,C.last=i,C.tail=n,C.tailMode=r,C.treeForkCount=u)}function Md(t,e,n){var i=e.pendingProps,r=i.revealOrder,u=i.tail;i=i.children;var C=yn.current,U=(C&2)!==0;if(U?(C=C&1|2,e.flags|=128):C&=1,B(yn,C),Bn(t,e,i,n),i=Fe?hs:0,!U&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Td(t,n,e);else if(t.tag===19)Td(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&So(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),mc(e,!1,r,n,u,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&So(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}mc(e,!0,n,null,u,i);break;case"together":mc(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function ra(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ha|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Or(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(o(153));if(e.child!==null){for(t=e.child,n=$i(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$i(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&po(t)))}function Af(t,e,n){switch(e.tag){case 3:N(e,e.stateNode.containerInfo),Pa(e,Cn,t.memoizedState.cache),dr();break;case 27:case 5:Y(e);break;case 4:N(e,e.stateNode.containerInfo);break;case 10:Pa(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Ul(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(za(e),e.flags|=128,null):(n&e.child.childLanes)!==0?wd(t,e,n):(za(e),t=ra(t,e,n),t!==null?t.sibling:null);za(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Or(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return Md(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),B(yn,yn.current),i)break;return null;case 22:return e.lanes=0,Ed(t,e,n,e.pendingProps);case 24:Pa(e,Cn,t.memoizedState.cache)}return ra(t,e,n)}function kd(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Rn=!0;else{if(!gc(t,n)&&(e.flags&128)===0)return Rn=!1,Af(t,e,n);Rn=(t.flags&131072)!==0}else Rn=!1,Fe&&(e.flags&1048576)!==0&&lu(e,hs,e.index);switch(e.lanes=0,e.tag){case 16:t:{var i=e.pendingProps;if(t=mr(e.elementType),e.type=t,typeof t=="function")El(t)?(i=yr(t,i),e.tag=1,e=xd(null,e,t,i,n)):(e.tag=0,e=cc(null,e,t,i,n));else{if(t!=null){var r=t.$$typeof;if(r===q){e.tag=11,e=bd(null,e,t,i,n);break t}else if(r===Z){e.tag=14,e=yd(null,e,t,i,n);break t}}throw e=Et(t)||t,Error(o(306,e,""))}}return e;case 0:return cc(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=yr(i,e.pendingProps),xd(t,e,i,r,n);case 3:t:{if(N(e,e.stateNode.containerInfo),t===null)throw Error(o(387));i=e.pendingProps;var u=e.memoizedState;r=u.element,Fl(t,e),_s(e,i,null,n);var C=e.memoizedState;if(i=C.cache,Pa(e,Cn,i),i!==u.cache&&kl(e,[Cn],n,!0),ys(),i=C.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:C.cache},e.updateQueue.baseState=u,e.memoizedState=u,e.flags&256){e=Rd(t,e,i,n);break t}else if(i!==r){r=_i(Error(o(424)),e),fs(r),e=Rd(t,e,i,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(sn=xi(t.firstChild),zn=e,Fe=!0,Oa=null,Ai=!0,n=Eu(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(dr(),i===r){e=ra(t,e,n);break t}Bn(t,e,i,n)}e=e.child}return e;case 26:return Lo(t,e),t===null?(n=Uh(e.type,null,e.pendingProps,null))?e.memoizedState=n:Fe||(n=e.type,t=e.pendingProps,i=Ko(v.current).createElement(n),i[kn]=e,i[qn]=t,Un(i,n,t),dn(i),e.stateNode=i):e.memoizedState=Uh(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Y(e),t===null&&Fe&&(i=e.stateNode=zh(e.type,e.pendingProps,v.current),zn=e,Ai=!0,r=sn,Ya(e.type)?(Zc=r,sn=xi(i.firstChild)):sn=r),Bn(t,e,e.pendingProps.children,n),Lo(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Fe&&((r=i=sn)&&(i=$f(i,e.type,e.pendingProps,Ai),i!==null?(e.stateNode=i,zn=e,sn=xi(i.firstChild),Ai=!1,r=!0):r=!1),r||La(e)),Y(e),r=e.type,u=e.pendingProps,C=t!==null?t.memoizedProps:null,i=u.children,Vc(r,u)?i=null:C!==null&&Vc(r,C)&&(e.flags|=32),e.memoizedState!==null&&(r=ql(t,e,pf,null,null,n),Bs._currentValue=r),Lo(t,e),Bn(t,e,i,n),e.child;case 6:return t===null&&Fe&&((t=n=sn)&&(n=tp(n,e.pendingProps,Ai),n!==null?(e.stateNode=n,zn=e,sn=null,t=!0):t=!1),t||La(e)),null;case 13:return wd(t,e,n);case 4:return N(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=vr(e,null,i,n):Bn(t,e,i,n),e.child;case 11:return bd(t,e,e.type,e.pendingProps,n);case 7:return Bn(t,e,e.pendingProps,n),e.child;case 8:return Bn(t,e,e.pendingProps.children,n),e.child;case 12:return Bn(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Pa(e,e.type,i.value),Bn(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,fr(e),r=In(r),i=i(r),e.flags|=1,Bn(t,e,i,n),e.child;case 14:return yd(t,e,e.type,e.pendingProps,n);case 15:return _d(t,e,e.type,e.pendingProps,n);case 19:return Md(t,e,n);case 31:return Sf(t,e,n);case 22:return Ed(t,e,n,e.pendingProps);case 24:return fr(e),i=In(Cn),t===null?(r=Ll(),r===null&&(r=tn,u=Dl(),r.pooledCache=u,u.refCount++,u!==null&&(r.pooledCacheLanes|=n),r=u),e.memoizedState={parent:i,cache:r},Nl(e),Pa(e,Cn,r)):((t.lanes&n)!==0&&(Fl(t,e),_s(e,null,null,n),ys()),r=t.memoizedState,u=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Pa(e,Cn,i)):(i=u.cache,Pa(e,Cn,i),i!==r.cache&&kl(e,[Cn],n,!0))),Bn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(o(156,e.tag))}function sa(t){t.flags|=4}function vc(t,e,n,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(ih())t.flags|=8192;else throw gr=bo,Pl}else t.flags&=-16777217}function Dd(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xh(e))if(ih())t.flags|=8192;else throw gr=bo,Pl}function No(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Vi():536870912,t.lanes|=e,Vr|=e)}function Rs(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function on(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Cf(t,e,n){var i=e.pendingProps;switch(xl(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(e),null;case 1:return on(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),na(Cn),V(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Dr(e)?sa(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,wl())),on(e),null;case 26:var r=e.type,u=e.memoizedState;return t===null?(sa(e),u!==null?(on(e),Dd(e,u)):(on(e),vc(e,r,null,i,n))):u?u!==t.memoizedState?(sa(e),on(e),Dd(e,u)):(on(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&sa(e),on(e),vc(e,r,t,i,n)),null;case 27:if($(e),n=v.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&sa(e);else{if(!i){if(e.stateNode===null)throw Error(o(166));return on(e),null}t=G.current,Dr(e)?uu(e):(t=zh(r,i,n),e.stateNode=t,sa(e))}return on(e),null;case 5:if($(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&sa(e);else{if(!i){if(e.stateNode===null)throw Error(o(166));return on(e),null}if(u=G.current,Dr(e))uu(e);else{var C=Ko(v.current);switch(u){case 1:u=C.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:u=C.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":u=C.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":u=C.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":u=C.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof i.is=="string"?C.createElement("select",{is:i.is}):C.createElement("select"),i.multiple?u.multiple=!0:i.size&&(u.size=i.size);break;default:u=typeof i.is=="string"?C.createElement(r,{is:i.is}):C.createElement(r)}}u[kn]=e,u[qn]=i;t:for(C=e.child;C!==null;){if(C.tag===5||C.tag===6)u.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break t;for(;C.sibling===null;){if(C.return===null||C.return===e)break t;C=C.return}C.sibling.return=C.return,C=C.sibling}e.stateNode=u;t:switch(Un(u,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&sa(e)}}return on(e),vc(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&sa(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(o(166));if(t=v.current,Dr(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=zn,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[kn]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||wh(t.nodeValue,n)),t||La(e,!0)}else t=Ko(t).createTextNode(i),t[kn]=e,e.stateNode=t}return on(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Dr(e),n!==null){if(t===null){if(!i)throw Error(o(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[kn]=e}else dr(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;on(e),t=!1}else n=wl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(di(e),e):(di(e),null);if((e.flags&128)!==0)throw Error(o(558))}return on(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Dr(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(o(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(o(317));r[kn]=e}else dr(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;on(e),r=!1}else r=wl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(di(e),e):(di(e),null)}return di(e),(e.flags&128)!==0?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),No(e,e.updateQueue),on(e),null);case 4:return V(),t===null&&Ic(e.stateNode.containerInfo),on(e),null;case 10:return na(e.type),on(e),null;case 19:if(L(yn),i=e.memoizedState,i===null)return on(e),null;if(r=(e.flags&128)!==0,u=i.rendering,u===null)if(r)Rs(i,!1);else{if(mn!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(u=So(t),u!==null){for(e.flags|=128,Rs(i,!1),t=u.updateQueue,e.updateQueue=t,No(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)ru(n,t),n=n.sibling;return B(yn,yn.current&1|2),Fe&&ta(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&ne()>Bo&&(e.flags|=128,r=!0,Rs(i,!1),e.lanes=4194304)}else{if(!r)if(t=So(u),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,No(e,t),Rs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!Fe)return on(e),null}else 2*ne()-i.renderingStartTime>Bo&&n!==536870912&&(e.flags|=128,r=!0,Rs(i,!1),e.lanes=4194304);i.isBackwards?(u.sibling=e.child,e.child=u):(t=i.last,t!==null?t.sibling=u:e.child=u,i.last=u)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ne(),t.sibling=null,n=yn.current,B(yn,r?n&1|2:n&1),Fe&&ta(e,i.treeForkCount),t):(on(e),null);case 22:case 23:return di(e),Bl(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?(n&536870912)!==0&&(e.flags&128)===0&&(on(e),e.subtreeFlags&6&&(e.flags|=8192)):on(e),n=e.updateQueue,n!==null&&No(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&L(pr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),na(Cn),on(e),null;case 25:return null;case 30:return null}throw Error(o(156,e.tag))}function xf(t,e){switch(xl(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return na(Cn),V(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return $(e),null;case 31:if(e.memoizedState!==null){if(di(e),e.alternate===null)throw Error(o(340));dr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(di(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(o(340));dr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return L(yn),null;case 4:return V(),null;case 10:return na(e.type),null;case 22:case 23:return di(e),Bl(),t!==null&&L(pr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return na(Cn),null;case 25:return null;default:return null}}function Od(t,e){switch(xl(e),e.tag){case 3:na(Cn),V();break;case 26:case 27:case 5:$(e);break;case 4:V();break;case 31:e.memoizedState!==null&&di(e);break;case 13:di(e);break;case 19:L(yn);break;case 10:na(e.type);break;case 22:case 23:di(e),Bl(),t!==null&&L(pr);break;case 24:na(Cn)}}function ws(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var u=n.create,C=n.inst;i=u(),C.destroy=i}n=n.next}while(n!==r)}}catch(U){We(e,e.return,U)}}function Ba(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var u=r.next;i=u;do{if((i.tag&t)===t){var C=i.inst,U=C.destroy;if(U!==void 0){C.destroy=void 0,r=e;var it=n,vt=U;try{vt()}catch(kt){We(r,it,kt)}}}i=i.next}while(i!==u)}}catch(kt){We(e,e.return,kt)}}function Ld(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Au(e,n)}catch(i){We(t,t.return,i)}}}function Pd(t,e,n){n.props=yr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){We(t,e,i)}}function Ts(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){We(t,e,r)}}function Hi(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){We(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function Nd(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){We(t,t.return,r)}}function bc(t,e,n){try{var i=t.stateNode;Yf(i,t.type,n,e),i[qn]=e}catch(r){We(t,t.return,r)}}function Fd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ya(t.type)||t.tag===4}function yc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Fd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ya(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _c(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qn));else if(i!==4&&(i===27&&Ya(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(_c(t,e,n),t=t.sibling;t!==null;)_c(t,e,n),t=t.sibling}function Fo(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Ya(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Fo(t,e,n),t=t.sibling;t!==null;)Fo(t,e,n),t=t.sibling}function jd(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Un(e,i,n),e[kn]=t,e[qn]=n}catch(u){We(t,t.return,u)}}var oa=!1,wn=!1,Ec=!1,zd=typeof WeakSet=="function"?WeakSet:Set,Ln=null;function Rf(t,e){if(t=t.containerInfo,Hc=il,t=Mi(t),cs(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break t}var C=0,U=-1,it=-1,vt=0,kt=0,Lt=t,_t=null;e:for(;;){for(var At;Lt!==n||r!==0&&Lt.nodeType!==3||(U=C+r),Lt!==u||i!==0&&Lt.nodeType!==3||(it=C+i),Lt.nodeType===3&&(C+=Lt.nodeValue.length),(At=Lt.firstChild)!==null;)_t=Lt,Lt=At;for(;;){if(Lt===t)break e;if(_t===n&&++vt===r&&(U=C),_t===u&&++kt===i&&(it=C),(At=Lt.nextSibling)!==null)break;Lt=_t,_t=Lt.parentNode}Lt=At}n=U===-1||it===-1?null:{start:U,end:it}}else n=null}n=n||{start:0,end:0}}else n=null;for(qc={focusedElem:t,selectionRange:n},il=!1,Ln=e;Ln!==null;)if(e=Ln,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ln=t;else for(;Ln!==null;){switch(e=Ln,u=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&u!==null){t=void 0,n=e,r=u.memoizedProps,u=u.memoizedState,i=n.stateNode;try{var Kt=yr(n.type,r);t=i.getSnapshotBeforeUpdate(Kt,u),i.__reactInternalSnapshotBeforeUpdate=t}catch(me){We(n,n.return,me)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Xc(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=e.sibling,t!==null){t.return=e.return,Ln=t;break}Ln=e.return}}function Id(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ca(t,n),i&4&&ws(5,n);break;case 1:if(ca(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(C){We(n,n.return,C)}else{var r=yr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(C){We(n,n.return,C)}}i&64&&Ld(n),i&512&&Ts(n,n.return);break;case 3:if(ca(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Au(t,e)}catch(C){We(n,n.return,C)}}break;case 27:e===null&&i&4&&jd(n);case 26:case 5:ca(t,n),e===null&&i&4&&Nd(n),i&512&&Ts(n,n.return);break;case 12:ca(t,n);break;case 31:ca(t,n),i&4&&Hd(t,n);break;case 13:ca(t,n),i&4&&qd(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Nf.bind(null,n),ep(t,n))));break;case 22:if(i=n.memoizedState!==null||oa,!i){e=e!==null&&e.memoizedState!==null||wn,r=oa;var u=wn;oa=i,(wn=e)&&!u?ua(t,n,(n.subtreeFlags&8772)!==0):ca(t,n),oa=r,wn=u}break;case 30:break;default:ca(t,n)}}function Bd(t){var e=t.alternate;e!==null&&(t.alternate=null,Bd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ts(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var cn=null,ti=!1;function la(t,e,n){for(n=n.child;n!==null;)Ud(t,e,n),n=n.sibling}function Ud(t,e,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Pn,n)}catch{}switch(n.tag){case 26:wn||Hi(n,e),la(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wn||Hi(n,e);var i=cn,r=ti;Ya(n.type)&&(cn=n.stateNode,ti=!1),la(t,e,n),js(n.stateNode),cn=i,ti=r;break;case 5:wn||Hi(n,e);case 6:if(i=cn,r=ti,cn=null,la(t,e,n),cn=i,ti=r,cn!==null)if(ti)try{(cn.nodeType===9?cn.body:cn.nodeName==="HTML"?cn.ownerDocument.body:cn).removeChild(n.stateNode)}catch(u){We(n,e,u)}else try{cn.removeChild(n.stateNode)}catch(u){We(n,e,u)}break;case 18:cn!==null&&(ti?(t=cn,Lh(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Jr(t)):Lh(cn,n.stateNode));break;case 4:i=cn,r=ti,cn=n.stateNode.containerInfo,ti=!0,la(t,e,n),cn=i,ti=r;break;case 0:case 11:case 14:case 15:Ba(2,n,e),wn||Ba(4,n,e),la(t,e,n);break;case 1:wn||(Hi(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Pd(n,e,i)),la(t,e,n);break;case 21:la(t,e,n);break;case 22:wn=(i=wn)||n.memoizedState!==null,la(t,e,n),wn=i;break;default:la(t,e,n)}}function Hd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Jr(t)}catch(n){We(e,e.return,n)}}}function qd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jr(t)}catch(n){We(e,e.return,n)}}function wf(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new zd),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new zd),e;default:throw Error(o(435,t.tag))}}function jo(t,e){var n=wf(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var r=Ff.bind(null,t,i);i.then(r,r)}})}function ei(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],u=t,C=e,U=C;t:for(;U!==null;){switch(U.tag){case 27:if(Ya(U.type)){cn=U.stateNode,ti=!1;break t}break;case 5:cn=U.stateNode,ti=!1;break t;case 3:case 4:cn=U.stateNode.containerInfo,ti=!0;break t}U=U.return}if(cn===null)throw Error(o(160));Ud(u,C,r),cn=null,ti=!1,u=r.alternate,u!==null&&(u.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Vd(e,t),e=e.sibling}var Di=null;function Vd(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ei(e,t),ni(t),i&4&&(Ba(3,t,t.return),ws(3,t),Ba(5,t,t.return));break;case 1:ei(e,t),ni(t),i&512&&(wn||n===null||Hi(n,n.return)),i&64&&oa&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Di;if(ei(e,t),ni(t),i&512&&(wn||n===null||Hi(n,n.return)),i&4){var u=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){t:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":u=r.getElementsByTagName("title")[0],(!u||u[tr]||u[kn]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=r.createElement(i),r.head.insertBefore(u,r.querySelector("head > title"))),Un(u,i,n),u[kn]=t,dn(u),i=u;break t;case"link":var C=Vh("link","href",r).get(i+(n.href||""));if(C){for(var U=0;U<C.length;U++)if(u=C[U],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){C.splice(U,1);break e}}u=r.createElement(i),Un(u,i,n),r.head.appendChild(u);break;case"meta":if(C=Vh("meta","content",r).get(i+(n.content||""))){for(U=0;U<C.length;U++)if(u=C[U],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){C.splice(U,1);break e}}u=r.createElement(i),Un(u,i,n),r.head.appendChild(u);break;default:throw Error(o(468,i))}u[kn]=t,dn(u),i=u}t.stateNode=i}else Gh(r,t.type,t.stateNode);else t.stateNode=qh(r,i,t.memoizedProps);else u!==i?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,i===null?Gh(r,t.type,t.stateNode):qh(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&bc(t,t.memoizedProps,n.memoizedProps)}break;case 27:ei(e,t),ni(t),i&512&&(wn||n===null||Hi(n,n.return)),n!==null&&i&4&&bc(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ei(e,t),ni(t),i&512&&(wn||n===null||Hi(n,n.return)),t.flags&32){r=t.stateNode;try{Ca(r,"")}catch(Kt){We(t,t.return,Kt)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,bc(t,r,n!==null?n.memoizedProps:r)),i&1024&&(Ec=!0);break;case 6:if(ei(e,t),ni(t),i&4){if(t.stateNode===null)throw Error(o(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(Kt){We(t,t.return,Kt)}}break;case 3:if($o=null,r=Di,Di=Qo(e.containerInfo),ei(e,t),Di=r,ni(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Jr(e.containerInfo)}catch(Kt){We(t,t.return,Kt)}Ec&&(Ec=!1,Gd(t));break;case 4:i=Di,Di=Qo(t.stateNode.containerInfo),ei(e,t),ni(t),Di=i;break;case 12:ei(e,t),ni(t);break;case 31:ei(e,t),ni(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,jo(t,i)));break;case 13:ei(e,t),ni(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Io=ne()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,jo(t,i)));break;case 22:r=t.memoizedState!==null;var it=n!==null&&n.memoizedState!==null,vt=oa,kt=wn;if(oa=vt||r,wn=kt||it,ei(e,t),wn=kt,oa=vt,ni(t),i&8192)t:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||it||oa||wn||_r(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){it=n=e;try{if(u=it.stateNode,r)C=u.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{U=it.stateNode;var Lt=it.memoizedProps.style,_t=Lt!=null&&Lt.hasOwnProperty("display")?Lt.display:null;U.style.display=_t==null||typeof _t=="boolean"?"":(""+_t).trim()}}catch(Kt){We(it,it.return,Kt)}}}else if(e.tag===6){if(n===null){it=e;try{it.stateNode.nodeValue=r?"":it.memoizedProps}catch(Kt){We(it,it.return,Kt)}}}else if(e.tag===18){if(n===null){it=e;try{var At=it.stateNode;r?Ph(At,!0):Ph(it.stateNode,!1)}catch(Kt){We(it,it.return,Kt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,jo(t,n))));break;case 19:ei(e,t),ni(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,jo(t,i)));break;case 30:break;case 21:break;default:ei(e,t),ni(t)}}function ni(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Fd(i)){n=i;break}i=i.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var r=n.stateNode,u=yc(t);Fo(t,u,r);break;case 5:var C=n.stateNode;n.flags&32&&(Ca(C,""),n.flags&=-33);var U=yc(t);Fo(t,U,C);break;case 3:case 4:var it=n.stateNode.containerInfo,vt=yc(t);_c(t,vt,it);break;default:throw Error(o(161))}}catch(kt){We(t,t.return,kt)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Gd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Gd(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ca(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Id(t,e.alternate,e),e=e.sibling}function _r(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ba(4,e,e.return),_r(e);break;case 1:Hi(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Pd(e,e.return,n),_r(e);break;case 27:js(e.stateNode);case 26:case 5:Hi(e,e.return),_r(e);break;case 22:e.memoizedState===null&&_r(e);break;case 30:_r(e);break;default:_r(e)}t=t.sibling}}function ua(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,u=e,C=u.flags;switch(u.tag){case 0:case 11:case 15:ua(r,u,n),ws(4,u);break;case 1:if(ua(r,u,n),i=u,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(vt){We(i,i.return,vt)}if(i=u,r=i.updateQueue,r!==null){var U=i.stateNode;try{var it=r.shared.hiddenCallbacks;if(it!==null)for(r.shared.hiddenCallbacks=null,r=0;r<it.length;r++)Su(it[r],U)}catch(vt){We(i,i.return,vt)}}n&&C&64&&Ld(u),Ts(u,u.return);break;case 27:jd(u);case 26:case 5:ua(r,u,n),n&&i===null&&C&4&&Nd(u),Ts(u,u.return);break;case 12:ua(r,u,n);break;case 31:ua(r,u,n),n&&C&4&&Hd(r,u);break;case 13:ua(r,u,n),n&&C&4&&qd(r,u);break;case 22:u.memoizedState===null&&ua(r,u,n),Ts(u,u.return);break;case 30:break;default:ua(r,u,n)}e=e.sibling}}function Sc(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ps(n))}function Ac(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ps(t))}function Oi(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xd(t,e,n,i),e=e.sibling}function Xd(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Oi(t,e,n,i),r&2048&&ws(9,e);break;case 1:Oi(t,e,n,i);break;case 3:Oi(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ps(t)));break;case 12:if(r&2048){Oi(t,e,n,i),t=e.stateNode;try{var u=e.memoizedProps,C=u.id,U=u.onPostCommit;typeof U=="function"&&U(C,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(it){We(e,e.return,it)}}else Oi(t,e,n,i);break;case 31:Oi(t,e,n,i);break;case 13:Oi(t,e,n,i);break;case 23:break;case 22:u=e.stateNode,C=e.alternate,e.memoizedState!==null?u._visibility&2?Oi(t,e,n,i):Ms(t,e):u._visibility&2?Oi(t,e,n,i):(u._visibility|=2,Ur(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&Sc(C,e);break;case 24:Oi(t,e,n,i),r&2048&&Ac(e.alternate,e);break;default:Oi(t,e,n,i)}}function Ur(t,e,n,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var u=t,C=e,U=n,it=i,vt=C.flags;switch(C.tag){case 0:case 11:case 15:Ur(u,C,U,it,r),ws(8,C);break;case 23:break;case 22:var kt=C.stateNode;C.memoizedState!==null?kt._visibility&2?Ur(u,C,U,it,r):Ms(u,C):(kt._visibility|=2,Ur(u,C,U,it,r)),r&&vt&2048&&Sc(C.alternate,C);break;case 24:Ur(u,C,U,it,r),r&&vt&2048&&Ac(C.alternate,C);break;default:Ur(u,C,U,it,r)}e=e.sibling}}function Ms(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:Ms(n,i),r&2048&&Sc(i.alternate,i);break;case 24:Ms(n,i),r&2048&&Ac(i.alternate,i);break;default:Ms(n,i)}e=e.sibling}}var ks=8192;function Hr(t,e,n){if(t.subtreeFlags&ks)for(t=t.child;t!==null;)Yd(t,e,n),t=t.sibling}function Yd(t,e,n){switch(t.tag){case 26:Hr(t,e,n),t.flags&ks&&t.memoizedState!==null&&fp(n,Di,t.memoizedState,t.memoizedProps);break;case 5:Hr(t,e,n);break;case 3:case 4:var i=Di;Di=Qo(t.stateNode.containerInfo),Hr(t,e,n),Di=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ks,ks=16777216,Hr(t,e,n),ks=i):Hr(t,e,n));break;default:Hr(t,e,n)}}function Wd(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ds(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ln=i,Kd(i,t)}Wd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zd(t),t=t.sibling}function Zd(t){switch(t.tag){case 0:case 11:case 15:Ds(t),t.flags&2048&&Ba(9,t,t.return);break;case 3:Ds(t);break;case 12:Ds(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,zo(t)):Ds(t);break;default:Ds(t)}}function zo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ln=i,Kd(i,t)}Wd(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ba(8,e,e.return),zo(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,zo(e));break;default:zo(e)}t=t.sibling}}function Kd(t,e){for(;Ln!==null;){var n=Ln;switch(n.tag){case 0:case 11:case 15:Ba(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ps(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ln=i;else t:for(n=t;Ln!==null;){i=Ln;var r=i.sibling,u=i.return;if(Bd(i),i===n){Ln=null;break t}if(r!==null){r.return=u,Ln=r;break t}Ln=u}}}var Tf={getCacheForType:function(t){var e=In(Cn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return In(Cn).controller.signal}},Mf=typeof WeakMap=="function"?WeakMap:Map,qe=0,tn=null,Me=null,Le=0,Ye=0,hi=null,Ua=!1,qr=!1,Cc=!1,da=0,mn=0,Ha=0,Er=0,xc=0,fi=0,Vr=0,Os=null,ii=null,Rc=!1,Io=0,Qd=0,Bo=1/0,Uo=null,qa=null,On=0,Va=null,Gr=null,ha=0,wc=0,Tc=null,Jd=null,Ls=0,Mc=null;function pi(){return(qe&2)!==0&&Le!==0?Le&-Le:X.T!==null?Nc():va()}function $d(){if(fi===0)if((Le&536870912)===0||Fe){var t=ri;ri<<=1,(ri&3932160)===0&&(ri=262144),fi=t}else fi=536870912;return t=ui.current,t!==null&&(t.flags|=32),fi}function ai(t,e,n){(t===tn&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Xr(t,0),Ga(t,Le,fi,!1)),mi(t,n),((qe&2)===0||t!==tn)&&(t===tn&&((qe&2)===0&&(Er|=n),mn===4&&Ga(t,Le,fi,!1)),qi(t))}function th(t,e,n){if((qe&6)!==0)throw Error(o(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Hn(t,e),r=i?Of(t,e):Dc(t,e,!0),u=i;do{if(r===0){qr&&!i&&Ga(t,e,0,!1);break}else{if(n=t.current.alternate,u&&!kf(n)){r=Dc(t,e,!1),u=!1;continue}if(r===2){if(u=e,t.errorRecoveryDisabledLanes&u)var C=0;else C=t.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){e=C;t:{var U=t;r=Os;var it=U.current.memoizedState.isDehydrated;if(it&&(Xr(U,C).flags|=256),C=Dc(U,C,!1),C!==2){if(Cc&&!it){U.errorRecoveryDisabledLanes|=u,Er|=u,r=4;break t}u=ii,ii=r,u!==null&&(ii===null?ii=u:ii.push.apply(ii,u))}r=C}if(u=!1,r!==2)continue}}if(r===1){Xr(t,0),Ga(t,e,0,!0);break}t:{switch(i=t,u=r,u){case 0:case 1:throw Error(o(345));case 4:if((e&4194048)!==e)break;case 6:Ga(i,e,fi,!Ua);break t;case 2:ii=null;break;case 3:case 5:break;default:throw Error(o(329))}if((e&62914560)===e&&(r=Io+300-ne(),10<r)){if(Ga(i,e,fi,!Ua),gn(i,0,!0)!==0)break t;ha=e,i.timeoutHandle=Dh(eh.bind(null,i,n,ii,Uo,Rc,e,fi,Er,Vr,Ua,u,"Throttled",-0,0),r);break t}eh(i,n,ii,Uo,Rc,e,fi,Er,Vr,Ua,u,null,-0,0)}}break}while(!0);qi(t)}function eh(t,e,n,i,r,u,C,U,it,vt,kt,Lt,_t,At){if(t.timeoutHandle=-1,Lt=e.subtreeFlags,Lt&8192||(Lt&16785408)===16785408){Lt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},Yd(e,u,Lt);var Kt=(u&62914560)===u?Io-ne():(u&4194048)===u?Qd-ne():0;if(Kt=pp(Lt,Kt),Kt!==null){ha=u,t.cancelPendingCommit=Kt(ch.bind(null,t,e,u,n,i,r,C,U,it,kt,Lt,null,_t,At)),Ga(t,u,C,!vt);return}}ch(t,e,u,n,i,r,C,U,it)}function kf(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],u=r.getSnapshot;r=r.value;try{if(!jn(u(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ga(t,e,n,i){e&=~xc,e&=~Er,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var u=31-ut(r),C=1<<u;i[u]=-1,r&=~C}n!==0&&ma(t,n,e)}function Ho(){return(qe&6)===0?(Ps(0),!1):!0}function kc(){if(Me!==null){if(Ye===0)var t=Me.return;else t=Me,ea=hr=null,Xl(t),Fr=null,gs=0,t=Me;for(;t!==null;)Od(t.alternate,t),t=t.return;Me=null}}function Xr(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Kf(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),ha=0,kc(),tn=t,Me=n=$i(t.current,null),Le=e,Ye=0,hi=null,Ua=!1,qr=Hn(t,e),Cc=!1,Vr=fi=xc=Er=Ha=mn=0,ii=Os=null,Rc=!1,(e&8)!==0&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-ut(i),u=1<<r;e|=t[r],i&=~u}return da=e,ka(),n}function nh(t,e){Ee=null,X.H=Cs,e===Nr||e===vo?(e=bu(),Ye=3):e===Pl?(e=bu(),Ye=4):Ye=e===lc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,hi=e,Me===null&&(mn=1,Do(t,_i(e,t.current)))}function ih(){var t=ui.current;return t===null?!0:(Le&4194048)===Le?Ci===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Ci:!1}function ah(){var t=X.H;return X.H=Cs,t===null?Cs:t}function rh(){var t=X.A;return X.A=Tf,t}function qo(){mn=4,Ua||(Le&4194048)!==Le&&ui.current!==null||(qr=!0),(Ha&134217727)===0&&(Er&134217727)===0||tn===null||Ga(tn,Le,fi,!1)}function Dc(t,e,n){var i=qe;qe|=2;var r=ah(),u=rh();(tn!==t||Le!==e)&&(Uo=null,Xr(t,e)),e=!1;var C=mn;t:do try{if(Ye!==0&&Me!==null){var U=Me,it=hi;switch(Ye){case 8:kc(),C=6;break t;case 3:case 2:case 9:case 6:ui.current===null&&(e=!0);var vt=Ye;if(Ye=0,hi=null,Yr(t,U,it,vt),n&&qr){C=0;break t}break;default:vt=Ye,Ye=0,hi=null,Yr(t,U,it,vt)}}Df(),C=mn;break}catch(kt){nh(t,kt)}while(!0);return e&&t.shellSuspendCounter++,ea=hr=null,qe=i,X.H=r,X.A=u,Me===null&&(tn=null,Le=0,ka()),C}function Df(){for(;Me!==null;)sh(Me)}function Of(t,e){var n=qe;qe|=2;var i=ah(),r=rh();tn!==t||Le!==e?(Uo=null,Bo=ne()+500,Xr(t,e)):qr=Hn(t,e);t:do try{if(Ye!==0&&Me!==null){e=Me;var u=hi;e:switch(Ye){case 1:Ye=0,hi=null,Yr(t,e,u,1);break;case 2:case 9:if(gu(u)){Ye=0,hi=null,oh(e);break}e=function(){Ye!==2&&Ye!==9||tn!==t||(Ye=7),qi(t)},u.then(e,e);break t;case 3:Ye=7;break t;case 4:Ye=5;break t;case 7:gu(u)?(Ye=0,hi=null,oh(e)):(Ye=0,hi=null,Yr(t,e,u,7));break;case 5:var C=null;switch(Me.tag){case 26:C=Me.memoizedState;case 5:case 27:var U=Me;if(C?Xh(C):U.stateNode.complete){Ye=0,hi=null;var it=U.sibling;if(it!==null)Me=it;else{var vt=U.return;vt!==null?(Me=vt,Vo(vt)):Me=null}break e}}Ye=0,hi=null,Yr(t,e,u,5);break;case 6:Ye=0,hi=null,Yr(t,e,u,6);break;case 8:kc(),mn=6;break t;default:throw Error(o(462))}}Lf();break}catch(kt){nh(t,kt)}while(!0);return ea=hr=null,X.H=i,X.A=r,qe=n,Me!==null?0:(tn=null,Le=0,ka(),mn)}function Lf(){for(;Me!==null&&!re();)sh(Me)}function sh(t){var e=kd(t.alternate,t,da);t.memoizedProps=t.pendingProps,e===null?Vo(t):Me=e}function oh(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Cd(n,e,e.pendingProps,e.type,void 0,Le);break;case 11:e=Cd(n,e,e.pendingProps,e.type.render,e.ref,Le);break;case 5:Xl(e);default:Od(n,e),e=Me=ru(e,da),e=kd(n,e,da)}t.memoizedProps=t.pendingProps,e===null?Vo(t):Me=e}function Yr(t,e,n,i){ea=hr=null,Xl(e),Fr=null,gs=0;var r=e.return;try{if(Ef(t,r,e,n,Le)){mn=1,Do(t,_i(n,t.current)),Me=null;return}}catch(u){if(r!==null)throw Me=r,u;mn=1,Do(t,_i(n,t.current)),Me=null;return}e.flags&32768?(Fe||i===1?t=!0:qr||(Le&536870912)!==0?t=!1:(Ua=t=!0,(i===2||i===9||i===3||i===6)&&(i=ui.current,i!==null&&i.tag===13&&(i.flags|=16384))),lh(e,t)):Vo(e)}function Vo(t){var e=t;do{if((e.flags&32768)!==0){lh(e,Ua);return}t=e.return;var n=Cf(e.alternate,e,da);if(n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);mn===0&&(mn=5)}function lh(t,e){do{var n=xf(t.alternate,t);if(n!==null){n.flags&=32767,Me=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Me=t;return}Me=t=n}while(t!==null);mn=6,Me=null}function ch(t,e,n,i,r,u,C,U,it){t.cancelPendingCommit=null;do Go();while(On!==0);if((qe&6)!==0)throw Error(o(327));if(e!==null){if(e===t.current)throw Error(o(177));if(u=e.lanes|e.childLanes,u|=vi,pa(t,n,u,C,U,it),t===tn&&(Me=tn=null,Le=0),Gr=e,Va=t,ha=n,wc=u,Tc=r,Jd=i,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jf(Gn,function(){return ph(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||i){i=X.T,X.T=null,r=j.p,j.p=2,C=qe,qe|=4;try{Rf(t,e,n)}finally{qe=C,j.p=r,X.T=i}}On=1,uh(),dh(),hh()}}function uh(){if(On===1){On=0;var t=Va,e=Gr,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=X.T,X.T=null;var i=j.p;j.p=2;var r=qe;qe|=4;try{Vd(e,t);var u=qc,C=Mi(t.containerInfo),U=u.focusedElem,it=u.selectionRange;if(C!==U&&U&&U.ownerDocument&&oo(U.ownerDocument.documentElement,U)){if(it!==null&&cs(U)){var vt=it.start,kt=it.end;if(kt===void 0&&(kt=vt),"selectionStart"in U)U.selectionStart=vt,U.selectionEnd=Math.min(kt,U.value.length);else{var Lt=U.ownerDocument||document,_t=Lt&&Lt.defaultView||window;if(_t.getSelection){var At=_t.getSelection(),Kt=U.textContent.length,me=Math.min(it.start,Kt),Qe=it.end===void 0?me:Math.min(it.end,Kt);!At.extend&&me>Qe&&(C=Qe,Qe=me,me=C);var ft=so(U,me),lt=so(U,Qe);if(ft&&lt&&(At.rangeCount!==1||At.anchorNode!==ft.node||At.anchorOffset!==ft.offset||At.focusNode!==lt.node||At.focusOffset!==lt.offset)){var gt=Lt.createRange();gt.setStart(ft.node,ft.offset),At.removeAllRanges(),me>Qe?(At.addRange(gt),At.extend(lt.node,lt.offset)):(gt.setEnd(lt.node,lt.offset),At.addRange(gt))}}}}for(Lt=[],At=U;At=At.parentNode;)At.nodeType===1&&Lt.push({element:At,left:At.scrollLeft,top:At.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Lt.length;U++){var Ot=Lt[U];Ot.element.scrollLeft=Ot.left,Ot.element.scrollTop=Ot.top}}il=!!Hc,qc=Hc=null}finally{qe=r,j.p=i,X.T=n}}t.current=e,On=2}}function dh(){if(On===2){On=0;var t=Va,e=Gr,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=X.T,X.T=null;var i=j.p;j.p=2;var r=qe;qe|=4;try{Id(t,e.alternate,e)}finally{qe=r,j.p=i,X.T=n}}On=3}}function hh(){if(On===4||On===3){On=0,ve();var t=Va,e=Gr,n=ha,i=Jd;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?On=5:(On=0,Gr=Va=null,fh(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(qa=null),wi(n),e=e.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Pn,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=X.T,r=j.p,j.p=2,X.T=null;try{for(var u=t.onRecoverableError,C=0;C<i.length;C++){var U=i[C];u(U.value,{componentStack:U.stack})}}finally{X.T=e,j.p=r}}(ha&3)!==0&&Go(),qi(t),r=t.pendingLanes,(n&261930)!==0&&(r&42)!==0?t===Mc?Ls++:(Ls=0,Mc=t):Ls=0,Ps(0)}}function fh(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ps(e)))}function Go(){return uh(),dh(),hh(),ph()}function ph(){if(On!==5)return!1;var t=Va,e=wc;wc=0;var n=wi(ha),i=X.T,r=j.p;try{j.p=32>n?32:n,X.T=null,n=Tc,Tc=null;var u=Va,C=ha;if(On=0,Gr=Va=null,ha=0,(qe&6)!==0)throw Error(o(331));var U=qe;if(qe|=4,Zd(u.current),Xd(u,u.current,C,n),qe=U,Ps(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Pn,u)}catch{}return!0}finally{j.p=r,X.T=i,fh(t,e)}}function mh(t,e,n){e=_i(n,e),e=oc(t.stateNode,e,2),t=ja(t,e,2),t!==null&&(mi(t,2),qi(t))}function We(t,e,n){if(t.tag===3)mh(t,t,n);else for(;e!==null;){if(e.tag===3){mh(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(qa===null||!qa.has(i))){t=_i(n,t),n=gd(2),i=ja(e,n,2),i!==null&&(vd(n,i,e,t),mi(i,2),qi(i));break}}e=e.return}}function Oc(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Mf;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(Cc=!0,r.add(n),t=Pf.bind(null,t,e,n),e.then(t,t))}function Pf(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,tn===t&&(Le&n)===n&&(mn===4||mn===3&&(Le&62914560)===Le&&300>ne()-Io?(qe&2)===0&&Xr(t,0):xc|=n,Vr===Le&&(Vr=0)),qi(t)}function gh(t,e){e===0&&(e=Vi()),t=yi(t,e),t!==null&&(mi(t,e),qi(t))}function Nf(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gh(t,n)}function Ff(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(o(314))}i!==null&&i.delete(e),gh(t,n)}function jf(t,e){return qt(t,e)}var Xo=null,Wr=null,Lc=!1,Yo=!1,Pc=!1,Xa=0;function qi(t){t!==Wr&&t.next===null&&(Wr===null?Xo=Wr=t:Wr=Wr.next=t),Yo=!0,Lc||(Lc=!0,If())}function Ps(t,e){if(!Pc&&Yo){Pc=!0;do for(var n=!1,i=Xo;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var u=0;else{var C=i.suspendedLanes,U=i.pingedLanes;u=(1<<31-ut(42|t)+1)-1,u&=r&~(C&~U),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,_h(i,u))}else u=Le,u=gn(i,i===tn?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(u&3)===0||Hn(i,u)||(n=!0,_h(i,u));i=i.next}while(n);Pc=!1}}function zf(){vh()}function vh(){Yo=Lc=!1;var t=0;Xa!==0&&Zf()&&(t=Xa);for(var e=ne(),n=null,i=Xo;i!==null;){var r=i.next,u=bh(i,e);u===0?(i.next=null,n===null?Xo=r:n.next=r,r===null&&(Wr=n)):(n=i,(t!==0||(u&3)!==0)&&(Yo=!0)),i=r}On!==0&&On!==5||Ps(t),Xa!==0&&(Xa=0)}function bh(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,u=t.pendingLanes&-62914561;0<u;){var C=31-ut(u),U=1<<C,it=r[C];it===-1?((U&n)===0||(U&i)!==0)&&(r[C]=oi(U,e)):it<=e&&(t.expiredLanes|=U),u&=~U}if(e=tn,n=Le,n=gn(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Qt(i),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Hn(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Qt(i),wi(n)){case 2:case 8:n=un;break;case 32:n=Gn;break;case 268435456:n=Xn;break;default:n=Gn}return i=yh.bind(null,t),n=qt(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Qt(i),t.callbackPriority=2,t.callbackNode=null,2}function yh(t,e){if(On!==0&&On!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Go()&&t.callbackNode!==n)return null;var i=Le;return i=gn(t,t===tn?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(th(t,i,e),bh(t,ne()),t.callbackNode!=null&&t.callbackNode===n?yh.bind(null,t):null)}function _h(t,e){if(Go())return null;th(t,e,!0)}function If(){Qf(function(){(qe&6)!==0?qt(Tn,zf):vh()})}function Nc(){if(Xa===0){var t=Lr;t===0&&(t=Ae,Ae<<=1,(Ae&261888)===0&&(Ae=256)),Xa=t}return Xa}function Eh(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cr(""+t)}function Sh(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Bf(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var u=Eh((r[qn]||null).action),C=i.submitter;C&&(e=(e=C[qn]||null)?Eh(e.formAction):C.getAttribute("formAction"),e!==null&&(u=e,C=null));var U=new Tt("action","action",null,i,r);t.push({event:U,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Xa!==0){var it=C?Sh(r,C):new FormData(r);ec(n,{pending:!0,data:it,method:r.method,action:u},null,it)}}else typeof u=="function"&&(U.preventDefault(),it=C?Sh(r,C):new FormData(r),ec(n,{pending:!0,data:it,method:r.method,action:u},u,it))},currentTarget:r}]})}}for(var Fc=0;Fc<_e.length;Fc++){var jc=_e[Fc],Uf=jc.toLowerCase(),Hf=jc[0].toUpperCase()+jc.slice(1);ye(Uf,"on"+Hf)}ye(us,"onAnimationEnd"),ye(co,"onAnimationIteration"),ye(Tr,"onAnimationStart"),ye("dblclick","onDoubleClick"),ye("focusin","onFocus"),ye("focusout","onBlur"),ye(yl,"onTransitionRun"),ye(_l,"onTransitionStart"),ye(uo,"onTransitionCancel"),ye(Nt,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ns));function Ah(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var u=void 0;if(e)for(var C=i.length-1;0<=C;C--){var U=i[C],it=U.instance,vt=U.currentTarget;if(U=U.listener,it!==u&&r.isPropagationStopped())break t;u=U,r.currentTarget=vt;try{u(r)}catch(kt){xe(kt)}r.currentTarget=null,u=it}else for(C=0;C<i.length;C++){if(U=i[C],it=U.instance,vt=U.currentTarget,U=U.listener,it!==u&&r.isPropagationStopped())break t;u=U,r.currentTarget=vt;try{u(r)}catch(kt){xe(kt)}r.currentTarget=null,u=it}}}}function ke(t,e){var n=e[$r];n===void 0&&(n=e[$r]=new Set);var i=t+"__bubble";n.has(i)||(Ch(e,t,2,!1),n.add(i))}function zc(t,e,n){var i=0;e&&(i|=4),Ch(n,t,i,e)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function Ic(t){if(!t[Wo]){t[Wo]=!0,Xs.forEach(function(n){n!=="selectionchange"&&(qf.has(n)||zc(n,!1,t),zc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wo]||(e[Wo]=!0,zc("selectionchange",!1,e))}}function Ch(t,e,n,i){switch($h(e)){case 2:var r=vp;break;case 8:r=bp;break;default:r=tu}n=r.bind(null,e,n,t),r=void 0,!P||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Bc(t,e,n,i,r){var u=i;if((e&1)===0&&(e&2)===0&&i!==null)t:for(;;){if(i===null)return;var C=i.tag;if(C===3||C===4){var U=i.stateNode.containerInfo;if(U===r)break;if(C===4)for(C=i.return;C!==null;){var it=C.tag;if((it===3||it===4)&&C.stateNode.containerInfo===r)return;C=C.return}for(;U!==null;){if(C=ya(U),C===null)return;if(it=C.tag,it===5||it===6||it===26||it===27){i=u=C;continue t}U=U.parentNode}}i=i.return}io(function(){var vt=u,kt=rs(n),Lt=[];t:{var _t=he.get(t);if(_t!==void 0){var At=Tt,Kt=t;switch(t){case"keypress":if(ot(n)===0)break t;case"keydown":case"keyup":At=Dn;break;case"focusin":Kt="focus",At=te;break;case"focusout":Kt="blur",At=te;break;case"beforeblur":case"afterblur":At=te;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":At=Jt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":At=Vt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":At=Vn;break;case us:case co:case Tr:At=Ce;break;case Nt:At=ie;break;case"scroll":case"scrollend":At=It;break;case"wheel":At=Gt;break;case"copy":case"cut":case"paste":At=Oe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":At=Jn;break;case"toggle":case"beforetoggle":At=Xt}var me=(e&4)!==0,Qe=!me&&(t==="scroll"||t==="scrollend"),ft=me?_t!==null?_t+"Capture":null:_t;me=[];for(var lt=vt,gt;lt!==null;){var Ot=lt;if(gt=Ot.stateNode,Ot=Ot.tag,Ot!==5&&Ot!==26&&Ot!==27||gt===null||ft===null||(Ot=or(lt,ft),Ot!=null&&me.push(Fs(lt,Ot,gt))),Qe)break;lt=lt.return}0<me.length&&(_t=new At(_t,Kt,null,n,kt),Lt.push({event:_t,listeners:me}))}}if((e&7)===0){t:{if(_t=t==="mouseover"||t==="pointerover",At=t==="mouseout"||t==="pointerout",_t&&n!==sr&&(Kt=n.relatedTarget||n.fromElement)&&(ya(Kt)||Kt[ba]))break t;if((At||_t)&&(_t=kt.window===kt?kt:(_t=kt.ownerDocument)?_t.defaultView||_t.parentWindow:window,At?(Kt=n.relatedTarget||n.toElement,At=vt,Kt=Kt?ya(Kt):null,Kt!==null&&(Qe=l(Kt),me=Kt.tag,Kt!==Qe||me!==5&&me!==27&&me!==6)&&(Kt=null)):(At=null,Kt=vt),At!==Kt)){if(me=Jt,Ot="onMouseLeave",ft="onMouseEnter",lt="mouse",(t==="pointerout"||t==="pointerover")&&(me=Jn,Ot="onPointerLeave",ft="onPointerEnter",lt="pointer"),Qe=At==null?_t:er(At),gt=Kt==null?_t:er(Kt),_t=new me(Ot,lt+"leave",At,n,kt),_t.target=Qe,_t.relatedTarget=gt,Ot=null,ya(kt)===vt&&(me=new me(ft,lt+"enter",Kt,n,kt),me.target=gt,me.relatedTarget=Qe,Ot=me),Qe=Ot,At&&Kt)e:{for(me=Vf,ft=At,lt=Kt,gt=0,Ot=ft;Ot;Ot=me(Ot))gt++;Ot=0;for(var le=lt;le;le=me(le))Ot++;for(;0<gt-Ot;)ft=me(ft),gt--;for(;0<Ot-gt;)lt=me(lt),Ot--;for(;gt--;){if(ft===lt||lt!==null&&ft===lt.alternate){me=ft;break e}ft=me(ft),lt=me(lt)}me=null}else me=null;At!==null&&xh(Lt,_t,At,me,!1),Kt!==null&&Qe!==null&&xh(Lt,Qe,Kt,me,!0)}}t:{if(_t=vt?er(vt):window,At=_t.nodeName&&_t.nodeName.toLowerCase(),At==="select"||At==="input"&&_t.type==="file")var Be=ji;else if(Ge(_t))if(Ra)Be=vl;else{Be=zi;var ee=ml}else At=_t.nodeName,!At||At.toLowerCase()!=="input"||_t.type!=="checkbox"&&_t.type!=="radio"?vt&&Fi(vt.elementType)&&(Be=ji):Be=gl;if(Be&&(Be=Be(t,vt))){fn(Lt,Be,n,kt);break t}ee&&ee(t,_t,vt),t==="focusout"&&vt&&_t.type==="number"&&vt.memoizedProps.value!=null&&rr(_t,"number",_t.value)}switch(ee=vt?er(vt):window,t){case"focusin":(Ge(ee)||ee.contentEditable==="true")&&(Zi=ee,lr=vt,Ta=null);break;case"focusout":Ta=lr=Zi=null;break;case"mousedown":Rr=!0;break;case"contextmenu":case"mouseup":case"dragend":Rr=!1,Ii(Lt,n,kt);break;case"selectionchange":if(lo)break;case"keydown":case"keyup":Ii(Lt,n,kt)}var Se;if(ce)t:{switch(t){case"compositionstart":var Pe="onCompositionStart";break t;case"compositionend":Pe="onCompositionEnd";break t;case"compositionupdate":Pe="onCompositionUpdate";break t}Pe=void 0}else Sn?ze(t,n)&&(Pe="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Pe="onCompositionStart");Pe&&(pe&&n.locale!=="ko"&&(Sn||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Sn&&(Se=dt()):(Q=kt,tt="value"in Q?Q.value:Q.textContent,Sn=!0)),ee=Zo(vt,Pe),0<ee.length&&(Pe=new an(Pe,t,null,n,kt),Lt.push({event:Pe,listeners:ee}),Se?Pe.data=Se:(Se=bn(n),Se!==null&&(Pe.data=Se)))),(Se=Ht?ge(t,n):An(t,n))&&(Pe=Zo(vt,"onBeforeInput"),0<Pe.length&&(ee=new an("onBeforeInput","beforeinput",null,n,kt),Lt.push({event:ee,listeners:Pe}),ee.data=Se)),Bf(Lt,t,vt,n,kt)}Ah(Lt,e)})}function Fs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zo(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,u=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||u===null||(r=or(t,n),r!=null&&i.unshift(Fs(t,r,u)),r=or(t,e),r!=null&&i.push(Fs(t,r,u))),t.tag===3)return i;t=t.return}return[]}function Vf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xh(t,e,n,i,r){for(var u=e._reactName,C=[];n!==null&&n!==i;){var U=n,it=U.alternate,vt=U.stateNode;if(U=U.tag,it!==null&&it===i)break;U!==5&&U!==26&&U!==27||vt===null||(it=vt,r?(vt=or(n,u),vt!=null&&C.unshift(Fs(n,vt,it))):r||(vt=or(n,u),vt!=null&&C.push(Fs(n,vt,it)))),n=n.return}C.length!==0&&t.push({event:e,listeners:C})}var Gf=/\r\n?/g,Xf=/\u0000|\uFFFD/g;function Rh(t){return(typeof t=="string"?t:""+t).replace(Gf,`
`).replace(Xf,"")}function wh(t,e){return e=Rh(e),Rh(t)===e}function Ke(t,e,n,i,r,u){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Ca(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Ca(t,""+i);break;case"className":Sr(t,"class",i);break;case"tabIndex":Sr(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Sr(t,n,i);break;case"style":eo(t,i,u);break;case"data":if(e!=="object"){Sr(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Cr(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(e!=="input"&&Ke(t,e,"name",r.name,r,null),Ke(t,e,"formEncType",r.formEncType,r,null),Ke(t,e,"formMethod",r.formMethod,r,null),Ke(t,e,"formTarget",r.formTarget,r,null)):(Ke(t,e,"encType",r.encType,r,null),Ke(t,e,"method",r.method,r,null),Ke(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Cr(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Qn);break;case"onScroll":i!=null&&ke("scroll",t);break;case"onScrollEnd":i!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Cr(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ke("beforetoggle",t),ke("toggle",t),ir(t,"popover",i);break;case"xlinkActuate":Yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Yn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Yn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Yn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Yn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ir(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=pl.get(n)||n,ir(t,n,i))}}function Uc(t,e,n,i,r,u){switch(n){case"style":eo(t,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Ca(t,i):(typeof i=="number"||typeof i=="bigint")&&Ca(t,""+i);break;case"onScroll":i!=null&&ke("scroll",t);break;case"onScrollEnd":i!=null&&ke("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ys.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),u=t[qn]||null,u=u!=null?u[n]:null,typeof u=="function"&&t.removeEventListener(e,u,r),typeof i=="function")){typeof u!="function"&&u!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break t}n in t?t[n]=i:i===!0?t.setAttribute(n,""):ir(t,n,i)}}}function Un(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var i=!1,r=!1,u;for(u in n)if(n.hasOwnProperty(u)){var C=n[u];if(C!=null)switch(u){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:Ke(t,e,u,C,n,null)}}r&&Ke(t,e,"srcSet",n.srcSet,n,null),i&&Ke(t,e,"src",n.src,n,null);return;case"input":ke("invalid",t);var U=u=C=r=null,it=null,vt=null;for(i in n)if(n.hasOwnProperty(i)){var kt=n[i];if(kt!=null)switch(i){case"name":r=kt;break;case"type":C=kt;break;case"checked":it=kt;break;case"defaultChecked":vt=kt;break;case"value":u=kt;break;case"defaultValue":U=kt;break;case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(o(137,e));break;default:Ke(t,e,i,kt,n,null)}}$s(t,u,U,it,vt,C,r,!1);return;case"select":ke("invalid",t),i=C=u=null;for(r in n)if(n.hasOwnProperty(r)&&(U=n[r],U!=null))switch(r){case"value":u=U;break;case"defaultValue":C=U;break;case"multiple":i=U;default:Ke(t,e,r,U,n,null)}e=u,n=C,t.multiple=!!i,e!=null?Aa(t,!!i,e,!1):n!=null&&Aa(t,!!i,n,!0);return;case"textarea":ke("invalid",t),u=r=i=null;for(C in n)if(n.hasOwnProperty(C)&&(U=n[C],U!=null))switch(C){case"value":i=U;break;case"defaultValue":r=U;break;case"children":u=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(91));break;default:Ke(t,e,C,U,n,null)}is(t,i,r,u);return;case"option":for(it in n)if(n.hasOwnProperty(it)&&(i=n[it],i!=null))switch(it){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ke(t,e,it,i,n,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(i=0;i<Ns.length;i++)ke(Ns[i],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(vt in n)if(n.hasOwnProperty(vt)&&(i=n[vt],i!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:Ke(t,e,vt,i,n,null)}return;default:if(Fi(e)){for(kt in n)n.hasOwnProperty(kt)&&(i=n[kt],i!==void 0&&Uc(t,e,kt,i,n,void 0));return}}for(U in n)n.hasOwnProperty(U)&&(i=n[U],i!=null&&Ke(t,e,U,i,n,null))}function Yf(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,u=null,C=null,U=null,it=null,vt=null,kt=null;for(At in n){var Lt=n[At];if(n.hasOwnProperty(At)&&Lt!=null)switch(At){case"checked":break;case"value":break;case"defaultValue":it=Lt;default:i.hasOwnProperty(At)||Ke(t,e,At,null,i,Lt)}}for(var _t in i){var At=i[_t];if(Lt=n[_t],i.hasOwnProperty(_t)&&(At!=null||Lt!=null))switch(_t){case"type":u=At;break;case"name":r=At;break;case"checked":vt=At;break;case"defaultChecked":kt=At;break;case"value":C=At;break;case"defaultValue":U=At;break;case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(o(137,e));break;default:At!==Lt&&Ke(t,e,_t,At,i,Lt)}}es(t,C,U,it,vt,kt,u,r);return;case"select":At=C=U=_t=null;for(u in n)if(it=n[u],n.hasOwnProperty(u)&&it!=null)switch(u){case"value":break;case"multiple":At=it;default:i.hasOwnProperty(u)||Ke(t,e,u,null,i,it)}for(r in i)if(u=i[r],it=n[r],i.hasOwnProperty(r)&&(u!=null||it!=null))switch(r){case"value":_t=u;break;case"defaultValue":U=u;break;case"multiple":C=u;default:u!==it&&Ke(t,e,r,u,i,it)}e=U,n=C,i=At,_t!=null?Aa(t,!!n,_t,!1):!!i!=!!n&&(e!=null?Aa(t,!!n,e,!0):Aa(t,!!n,n?[]:"",!1));return;case"textarea":At=_t=null;for(U in n)if(r=n[U],n.hasOwnProperty(U)&&r!=null&&!i.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Ke(t,e,U,null,i,r)}for(C in i)if(r=i[C],u=n[C],i.hasOwnProperty(C)&&(r!=null||u!=null))switch(C){case"value":_t=r;break;case"defaultValue":At=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(o(91));break;default:r!==u&&Ke(t,e,C,r,i,u)}ns(t,_t,At);return;case"option":for(var Kt in n)if(_t=n[Kt],n.hasOwnProperty(Kt)&&_t!=null&&!i.hasOwnProperty(Kt))switch(Kt){case"selected":t.selected=!1;break;default:Ke(t,e,Kt,null,i,_t)}for(it in i)if(_t=i[it],At=n[it],i.hasOwnProperty(it)&&_t!==At&&(_t!=null||At!=null))switch(it){case"selected":t.selected=_t&&typeof _t!="function"&&typeof _t!="symbol";break;default:Ke(t,e,it,_t,i,At)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in n)_t=n[me],n.hasOwnProperty(me)&&_t!=null&&!i.hasOwnProperty(me)&&Ke(t,e,me,null,i,_t);for(vt in i)if(_t=i[vt],At=n[vt],i.hasOwnProperty(vt)&&_t!==At&&(_t!=null||At!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(o(137,e));break;default:Ke(t,e,vt,_t,i,At)}return;default:if(Fi(e)){for(var Qe in n)_t=n[Qe],n.hasOwnProperty(Qe)&&_t!==void 0&&!i.hasOwnProperty(Qe)&&Uc(t,e,Qe,void 0,i,_t);for(kt in i)_t=i[kt],At=n[kt],!i.hasOwnProperty(kt)||_t===At||_t===void 0&&At===void 0||Uc(t,e,kt,_t,i,At);return}}for(var ft in n)_t=n[ft],n.hasOwnProperty(ft)&&_t!=null&&!i.hasOwnProperty(ft)&&Ke(t,e,ft,null,i,_t);for(Lt in i)_t=i[Lt],At=n[Lt],!i.hasOwnProperty(Lt)||_t===At||_t==null&&At==null||Ke(t,e,Lt,_t,i,At)}function Th(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Wf(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],u=r.transferSize,C=r.initiatorType,U=r.duration;if(u&&U&&Th(C)){for(C=0,U=r.responseEnd,i+=1;i<n.length;i++){var it=n[i],vt=it.startTime;if(vt>U)break;var kt=it.transferSize,Lt=it.initiatorType;kt&&Th(Lt)&&(it=it.responseEnd,C+=kt*(it<U?1:(U-vt)/(it-vt)))}if(--i,e+=8*(u+C)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Hc=null,qc=null;function Ko(t){return t.nodeType===9?t:t.ownerDocument}function Mh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kh(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Vc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gc=null;function Zf(){var t=window.event;return t&&t.type==="popstate"?t===Gc?!1:(Gc=t,!0):(Gc=null,!1)}var Dh=typeof setTimeout=="function"?setTimeout:void 0,Kf=typeof clearTimeout=="function"?clearTimeout:void 0,Oh=typeof Promise=="function"?Promise:void 0,Qf=typeof queueMicrotask=="function"?queueMicrotask:typeof Oh<"u"?function(t){return Oh.resolve(null).then(t).catch(Jf)}:Dh;function Jf(t){setTimeout(function(){throw t})}function Ya(t){return t==="head"}function Lh(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(r),Jr(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")js(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,js(n);for(var u=n.firstChild;u;){var C=u.nextSibling,U=u.nodeName;u[tr]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=C}}else n==="body"&&js(t.ownerDocument.body);n=r}while(n);Jr(e)}function Ph(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Xc(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Xc(n),ts(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function $f(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[tr])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(u=t.getAttribute("rel"),u==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(u!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(u=t.getAttribute("src"),(u!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&u&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var u=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===u)return t}else return t;if(t=xi(t.nextSibling),t===null)break}return null}function tp(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=xi(t.nextSibling),t===null))return null;return t}function Nh(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=xi(t.nextSibling),t===null))return null;return t}function Yc(t){return t.data==="$?"||t.data==="$~"}function Wc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ep(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function xi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Zc=null;function Fh(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return xi(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function jh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function zh(t,e,n){switch(e=Ko(n),t){case"html":if(t=e.documentElement,!t)throw Error(o(452));return t;case"head":if(t=e.head,!t)throw Error(o(453));return t;case"body":if(t=e.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function js(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ts(t)}var Ri=new Map,Ih=new Set;function Qo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fa=j.d;j.d={f:np,r:ip,D:ap,C:rp,L:sp,m:op,X:cp,S:lp,M:up};function np(){var t=fa.f(),e=Ho();return t||e}function ip(t){var e=_a(t);e!==null&&e.tag===5&&e.type==="form"?nd(e):fa.r(t)}var Zr=typeof document>"u"?null:document;function Bh(t,e,n){var i=Zr;if(i&&typeof e=="string"&&e){var r=Wn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Ih.has(r)||(Ih.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),Un(e,"link",t),dn(e),i.head.appendChild(e)))}}function ap(t){fa.D(t),Bh("dns-prefetch",t,null)}function rp(t,e){fa.C(t,e),Bh("preconnect",t,e)}function sp(t,e,n){fa.L(t,e,n);var i=Zr;if(i&&t&&e){var r='link[rel="preload"][as="'+Wn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Wn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Wn(n.imageSizes)+'"]')):r+='[href="'+Wn(t)+'"]';var u=r;switch(e){case"style":u=Kr(t);break;case"script":u=Qr(t)}Ri.has(u)||(t=h({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Ri.set(u,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(zs(u))||e==="script"&&i.querySelector(Is(u))||(e=i.createElement("link"),Un(e,"link",t),dn(e),i.head.appendChild(e)))}}function op(t,e){fa.m(t,e);var n=Zr;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Wn(i)+'"][href="'+Wn(t)+'"]',u=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Qr(t)}if(!Ri.has(u)&&(t=h({rel:"modulepreload",href:t},e),Ri.set(u,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Is(u)))return}i=n.createElement("link"),Un(i,"link",t),dn(i),n.head.appendChild(i)}}}function lp(t,e,n){fa.S(t,e,n);var i=Zr;if(i&&t){var r=Ea(i).hoistableStyles,u=Kr(t);e=e||"default";var C=r.get(u);if(!C){var U={loading:0,preload:null};if(C=i.querySelector(zs(u)))U.loading=5;else{t=h({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Ri.get(u))&&Kc(t,n);var it=C=i.createElement("link");dn(it),Un(it,"link",t),it._p=new Promise(function(vt,kt){it.onload=vt,it.onerror=kt}),it.addEventListener("load",function(){U.loading|=1}),it.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Jo(C,e,i)}C={type:"stylesheet",instance:C,count:1,state:U},r.set(u,C)}}}function cp(t,e){fa.X(t,e);var n=Zr;if(n&&t){var i=Ea(n).hoistableScripts,r=Qr(t),u=i.get(r);u||(u=n.querySelector(Is(r)),u||(t=h({src:t,async:!0},e),(e=Ri.get(r))&&Qc(t,e),u=n.createElement("script"),dn(u),Un(u,"link",t),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(r,u))}}function up(t,e){fa.M(t,e);var n=Zr;if(n&&t){var i=Ea(n).hoistableScripts,r=Qr(t),u=i.get(r);u||(u=n.querySelector(Is(r)),u||(t=h({src:t,async:!0,type:"module"},e),(e=Ri.get(r))&&Qc(t,e),u=n.createElement("script"),dn(u),Un(u,"link",t),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(r,u))}}function Uh(t,e,n,i){var r=(r=v.current)?Qo(r):null;if(!r)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Kr(n.href),n=Ea(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Kr(n.href);var u=Ea(r).hoistableStyles,C=u.get(t);if(C||(r=r.ownerDocument||r,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(t,C),(u=r.querySelector(zs(t)))&&!u._p&&(C.instance=u,C.state.loading=5),Ri.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ri.set(t,n),u||dp(r,t,n,C.state))),e&&i===null)throw Error(o(528,""));return C}if(e&&i!==null)throw Error(o(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Qr(n),n=Ea(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Kr(t){return'href="'+Wn(t)+'"'}function zs(t){return'link[rel="stylesheet"]['+t+"]"}function Hh(t){return h({},t,{"data-precedence":t.precedence,precedence:null})}function dp(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Un(e,"link",n),dn(e),t.head.appendChild(e))}function Qr(t){return'[src="'+Wn(t)+'"]'}function Is(t){return"script[async]"+t}function qh(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Wn(n.href)+'"]');if(i)return e.instance=i,dn(i),i;var r=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),dn(i),Un(i,"style",r),Jo(i,n.precedence,t),e.instance=i;case"stylesheet":r=Kr(n.href);var u=t.querySelector(zs(r));if(u)return e.state.loading|=4,e.instance=u,dn(u),u;i=Hh(n),(r=Ri.get(r))&&Kc(i,r),u=(t.ownerDocument||t).createElement("link"),dn(u);var C=u;return C._p=new Promise(function(U,it){C.onload=U,C.onerror=it}),Un(u,"link",i),e.state.loading|=4,Jo(u,n.precedence,t),e.instance=u;case"script":return u=Qr(n.src),(r=t.querySelector(Is(u)))?(e.instance=r,dn(r),r):(i=n,(r=Ri.get(u))&&(i=h({},n),Qc(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),dn(r),Un(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(o(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(i=e.instance,e.state.loading|=4,Jo(i,n.precedence,t));return e.instance}function Jo(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,u=r,C=0;C<i.length;C++){var U=i[C];if(U.dataset.precedence===e)u=U;else if(u!==r)break}u?u.parentNode.insertBefore(t,u.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Kc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Qc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var $o=null;function Vh(t,e,n){if($o===null){var i=new Map,r=$o=new Map;r.set(n,i)}else r=$o,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var u=n[r];if(!(u[tr]||u[kn]||t==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var C=u.getAttribute(e)||"";C=t+C;var U=i.get(C);U?U.push(u):i.set(C,[u])}}return i}function Gh(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function hp(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Xh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function fp(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var r=Kr(i.href),u=e.querySelector(zs(r));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=tl.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=u,dn(u);return}u=e.ownerDocument||e,i=Hh(i),(r=Ri.get(r))&&Kc(i,r),u=u.createElement("link"),dn(u);var C=u;C._p=new Promise(function(U,it){C.onload=U,C.onerror=it}),Un(u,"link",i),n.instance=u}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=tl.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Jc=0;function pp(t,e){return t.stylesheets&&t.count===0&&nl(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&nl(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4+e);0<t.imgBytes&&Jc===0&&(Jc=62500*Wf());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nl(t,t.stylesheets),t.unsuspend)){var u=t.unsuspend;t.unsuspend=null,u()}},(t.imgBytes>Jc?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function tl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var el=null;function nl(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,el=new Map,e.forEach(mp,t),el=null,tl.call(t))}function mp(t,e){if(!(e.state.loading&4)){var n=el.get(t);if(n)var i=n.get(null);else{n=new Map,el.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<r.length;u++){var C=r[u];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(n.set(C.dataset.precedence,C),i=C)}i&&n.set(null,i)}r=e.instance,C=r.getAttribute("data-precedence"),u=n.get(C)||i,u===i&&n.set(null,r),n.set(C,r),this.count++,i=tl.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),u?u.parentNode.insertBefore(r,u.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Bs={$$typeof:I,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function gp(t,e,n,i,r,u,C,U,it){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ln(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ln(0),this.hiddenUpdates=ln(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=u,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=it,this.incompleteTransitions=new Map}function Yh(t,e,n,i,r,u,C,U,it,vt,kt,Lt){return t=new gp(t,e,n,C,it,vt,kt,Lt,U),e=1,u===!0&&(e|=24),u=ci(3,null,null,e),t.current=u,u.stateNode=t,e=Dl(),e.refCount++,t.pooledCache=e,e.refCount++,u.memoizedState={element:i,isDehydrated:n,cache:e},Nl(u),t}function Wh(t){return t?(t=li,t):li}function Zh(t,e,n,i,r,u){r=Wh(r),i.context===null?i.context=r:i.pendingContext=r,i=Fa(e),i.payload={element:n},u=u===void 0?null:u,u!==null&&(i.callback=u),n=ja(t,i,e),n!==null&&(ai(n,t,e),bs(n,t,e))}function Kh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $c(t,e){Kh(t,e),(t=t.alternate)&&Kh(t,e)}function Qh(t){if(t.tag===13||t.tag===31){var e=yi(t,67108864);e!==null&&ai(e,t,67108864),$c(t,67108864)}}function Jh(t){if(t.tag===13||t.tag===31){var e=pi();e=Mn(e);var n=yi(t,e);n!==null&&ai(n,t,e),$c(t,e)}}var il=!0;function vp(t,e,n,i){var r=X.T;X.T=null;var u=j.p;try{j.p=2,tu(t,e,n,i)}finally{j.p=u,X.T=r}}function bp(t,e,n,i){var r=X.T;X.T=null;var u=j.p;try{j.p=8,tu(t,e,n,i)}finally{j.p=u,X.T=r}}function tu(t,e,n,i){if(il){var r=eu(i);if(r===null)Bc(t,e,i,al,n),tf(t,i);else if(_p(r,t,e,n,i))i.stopPropagation();else if(tf(t,i),e&4&&-1<yp.indexOf(t)){for(;r!==null;){var u=_a(r);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var C=Nn(u.pendingLanes);if(C!==0){var U=u;for(U.pendingLanes|=2,U.entangledLanes|=2;C;){var it=1<<31-ut(C);U.entanglements[1]|=it,C&=~it}qi(u),(qe&6)===0&&(Bo=ne()+500,Ps(0))}}break;case 31:case 13:U=yi(u,2),U!==null&&ai(U,u,2),Ho(),$c(u,2)}if(u=eu(i),u===null&&Bc(t,e,i,al,n),u===r)break;r=u}r!==null&&i.stopPropagation()}else Bc(t,e,i,null,n)}}function eu(t){return t=rs(t),nu(t)}var al=null;function nu(t){if(al=null,t=ya(t),t!==null){var e=l(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=T(e),t!==null)return t;t=null}else if(n===31){if(t=F(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return al=t,null}function $h(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case Tn:return 2;case un:return 8;case Gn:case En:return 32;case Xn:return 268435456;default:return 32}default:return 32}}var iu=!1,Wa=null,Za=null,Ka=null,Us=new Map,Hs=new Map,Qa=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tf(t,e){switch(t){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":Us.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(e.pointerId)}}function qs(t,e,n,i,r,u){return t===null||t.nativeEvent!==u?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:u,targetContainers:[r]},e!==null&&(e=_a(e),e!==null&&Qh(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function _p(t,e,n,i,r){switch(e){case"focusin":return Wa=qs(Wa,t,e,n,i,r),!0;case"dragenter":return Za=qs(Za,t,e,n,i,r),!0;case"mouseover":return Ka=qs(Ka,t,e,n,i,r),!0;case"pointerover":var u=r.pointerId;return Us.set(u,qs(Us.get(u)||null,t,e,n,i,r)),!0;case"gotpointercapture":return u=r.pointerId,Hs.set(u,qs(Hs.get(u)||null,t,e,n,i,r)),!0}return!1}function ef(t){var e=ya(t.target);if(e!==null){var n=l(e);if(n!==null){if(e=n.tag,e===13){if(e=T(n),e!==null){t.blockedOn=e,Vs(t.priority,function(){Jh(n)});return}}else if(e===31){if(e=F(n),e!==null){t.blockedOn=e,Vs(t.priority,function(){Jh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eu(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);sr=i,n.target.dispatchEvent(i),sr=null}else return e=_a(n),e!==null&&Qh(e),t.blockedOn=n,!1;e.shift()}return!0}function nf(t,e,n){rl(t)&&n.delete(e)}function Ep(){iu=!1,Wa!==null&&rl(Wa)&&(Wa=null),Za!==null&&rl(Za)&&(Za=null),Ka!==null&&rl(Ka)&&(Ka=null),Us.forEach(nf),Hs.forEach(nf)}function sl(t,e){t.blockedOn===e&&(t.blockedOn=null,iu||(iu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ep)))}var ol=null;function af(t){ol!==t&&(ol=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ol===t&&(ol=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(nu(i||n)===null)continue;break}var u=_a(n);u!==null&&(t.splice(e,3),e-=3,ec(u,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Jr(t){function e(it){return sl(it,t)}Wa!==null&&sl(Wa,t),Za!==null&&sl(Za,t),Ka!==null&&sl(Ka,t),Us.forEach(e),Hs.forEach(e);for(var n=0;n<Qa.length;n++){var i=Qa[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Qa.length&&(n=Qa[0],n.blockedOn===null);)ef(n),n.blockedOn===null&&Qa.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],u=n[i+1],C=r[qn]||null;if(typeof u=="function")C||af(n);else if(C){var U=null;if(u&&u.hasAttribute("formAction")){if(r=u,C=u[qn]||null)U=C.formAction;else if(nu(r)!==null)continue}else U=C.action;typeof U=="function"?n[i+1]=U:(n.splice(i,3),i-=3),af(n)}}}function rf(){function t(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(C){return r=C})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function au(t){this._internalRoot=t}ll.prototype.render=au.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(o(409));var n=e.current,i=pi();Zh(n,i,t,e,null,null)},ll.prototype.unmount=au.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zh(t.current,2,null,t,null,null),Ho(),e[ba]=null}};function ll(t){this._internalRoot=t}ll.prototype.unstable_scheduleHydration=function(t){if(t){var e=va();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qa.length&&e!==0&&e<Qa[n].priority;n++);Qa.splice(n,0,t),n===0&&ef(t)}};var sf=c.version;if(sf!=="19.2.0")throw Error(o(527,sf,"19.2.0"));j.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=d(e),t=t!==null?s(t):null,t=t===null?null:t.stateNode,t};var Sp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{Pn=cl.inject(Sp),Pt=cl}catch{}}return reactDomClient_production.createRoot=function(t,e){if(!p(t))throw Error(o(299));var n=!1,i="",r=hd,u=fd,C=pd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(u=e.onCaughtError),e.onRecoverableError!==void 0&&(C=e.onRecoverableError)),e=Yh(t,1,!1,null,null,n,i,null,r,u,C,rf),t[ba]=e.current,Ic(t),new au(e)},reactDomClient_production.hydrateRoot=function(t,e,n){if(!p(t))throw Error(o(299));var i=!1,r="",u=hd,C=fd,U=pd,it=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(C=n.onCaughtError),n.onRecoverableError!==void 0&&(U=n.onRecoverableError),n.formState!==void 0&&(it=n.formState)),e=Yh(t,1,!0,e,n??null,i,r,it,u,C,U,rf),e.context=Wh(null),n=e.current,i=pi(),i=Mn(i),r=Fa(i),r.callback=null,ja(n,r,i),n=i,e.current.lanes=n,mi(e,n),qi(e),t[ba]=e.current,Ic(t),new ll(e)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(c){console.error(c)}}return a(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);var reactExports=requireReact();var PopStateEventType="popstate";function createBrowserHistory(a={}){function c(o,p){let{pathname:l,search:T,hash:F}=o.location;return createLocation("",{pathname:l,search:T,hash:F},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function m(o,p){return typeof p=="string"?p:createPath(p)}return getUrlBasedHistory(c,m,null,a)}function invariant(a,c){if(a===!1||a===null||typeof a>"u")throw new Error(c)}function warning(a,c){if(!a){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(a,c){return{usr:a.state,key:a.key,idx:c}}function createLocation(a,c,m=null,o){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof c=="string"?parsePath(c):c,state:m,key:c&&c.key||o||createKey()}}function createPath({pathname:a="/",search:c="",hash:m=""}){return c&&c!=="?"&&(a+=c.charAt(0)==="?"?c:"?"+c),m&&m!=="#"&&(a+=m.charAt(0)==="#"?m:"#"+m),a}function parsePath(a){let c={};if(a){let m=a.indexOf("#");m>=0&&(c.hash=a.substring(m),a=a.substring(0,m));let o=a.indexOf("?");o>=0&&(c.search=a.substring(o),a=a.substring(0,o)),a&&(c.pathname=a)}return c}function getUrlBasedHistory(a,c,m,o={}){let{window:p=document.defaultView,v5Compat:l=!1}=o,T=p.history,F="POP",D=null,d=s();d==null&&(d=0,T.replaceState({...T.state,idx:d},""));function s(){return(T.state||{idx:null}).idx}function h(){F="POP";let R=s(),g=R==null?null:R-d;d=R,D&&D({action:F,location:S.location,delta:g})}function _(R,g){F="PUSH";let O=createLocation(S.location,R,g);d=s()+1;let I=getHistoryState(O,d),q=S.createHref(O);try{T.pushState(I,"",q)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;p.location.assign(q)}l&&D&&D({action:F,location:S.location,delta:1})}function b(R,g){F="REPLACE";let O=createLocation(S.location,R,g);d=s();let I=getHistoryState(O,d),q=S.createHref(O);T.replaceState(I,"",q),l&&D&&D({action:F,location:S.location,delta:0})}function f(R){return createBrowserURLImpl(R)}let S={get action(){return F},get location(){return a(p,T)},listen(R){if(D)throw new Error("A history only accepts one active listener");return p.addEventListener(PopStateEventType,h),D=R,()=>{p.removeEventListener(PopStateEventType,h),D=null}},createHref(R){return c(p,R)},createURL:f,encodeLocation(R){let g=f(R);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:_,replace:b,go(R){return T.go(R)}};return S}function createBrowserURLImpl(a,c=!1){let m="http://localhost";typeof window<"u"&&(m=window.location.origin!=="null"?window.location.origin:window.location.href),invariant(m,"No window.location.(origin|href) available to create URL");let o=typeof a=="string"?a:createPath(a);return o=o.replace(/ $/,"%20"),!c&&o.startsWith("//")&&(o=m+o),new URL(o,m)}function matchRoutes(a,c,m="/"){return matchRoutesImpl(a,c,m,!1)}function matchRoutesImpl(a,c,m,o){let p=typeof c=="string"?parsePath(c):c,l=stripBasename(p.pathname||"/",m);if(l==null)return null;let T=flattenRoutes(a);rankRouteBranches(T);let F=null;for(let D=0;F==null&&D<T.length;++D){let d=decodePath(l);F=matchRouteBranch(T[D],d,o)}return F}function flattenRoutes(a,c=[],m=[],o="",p=!1){let l=(T,F,D=p,d)=>{let s={relativePath:d===void 0?T.path||"":d,caseSensitive:T.caseSensitive===!0,childrenIndex:F,route:T};if(s.relativePath.startsWith("/")){if(!s.relativePath.startsWith(o)&&D)return;invariant(s.relativePath.startsWith(o),`Absolute route path "${s.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(o.length)}let h=joinPaths([o,s.relativePath]),_=m.concat(s);T.children&&T.children.length>0&&(invariant(T.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),flattenRoutes(T.children,c,_,h,D)),!(T.path==null&&!T.index)&&c.push({path:h,score:computeScore(h,T.index),routesMeta:_})};return a.forEach((T,F)=>{if(T.path===""||!T.path?.includes("?"))l(T,F);else for(let D of explodeOptionalSegments(T.path))l(T,F,!0,D)}),c}function explodeOptionalSegments(a){let c=a.split("/");if(c.length===0)return[];let[m,...o]=c,p=m.endsWith("?"),l=m.replace(/\?$/,"");if(o.length===0)return p?[l,""]:[l];let T=explodeOptionalSegments(o.join("/")),F=[];return F.push(...T.map(D=>D===""?l:[l,D].join("/"))),p&&F.push(...T),F.map(D=>a.startsWith("/")&&D===""?"/":D)}function rankRouteBranches(a){a.sort((c,m)=>c.score!==m.score?m.score-c.score:compareIndexes(c.routesMeta.map(o=>o.childrenIndex),m.routesMeta.map(o=>o.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=a=>a==="*";function computeScore(a,c){let m=a.split("/"),o=m.length;return m.some(isSplat)&&(o+=splatPenalty),c&&(o+=indexRouteValue),m.filter(p=>!isSplat(p)).reduce((p,l)=>p+(paramRe.test(l)?dynamicSegmentValue:l===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(a,c){return a.length===c.length&&a.slice(0,-1).every((o,p)=>o===c[p])?a[a.length-1]-c[c.length-1]:0}function matchRouteBranch(a,c,m=!1){let{routesMeta:o}=a,p={},l="/",T=[];for(let F=0;F<o.length;++F){let D=o[F],d=F===o.length-1,s=l==="/"?c:c.slice(l.length)||"/",h=matchPath({path:D.relativePath,caseSensitive:D.caseSensitive,end:d},s),_=D.route;if(!h&&d&&m&&!o[o.length-1].route.index&&(h=matchPath({path:D.relativePath,caseSensitive:D.caseSensitive,end:!1},s)),!h)return null;Object.assign(p,h.params),T.push({params:p,pathname:joinPaths([l,h.pathname]),pathnameBase:normalizePathname(joinPaths([l,h.pathnameBase])),route:_}),h.pathnameBase!=="/"&&(l=joinPaths([l,h.pathnameBase]))}return T}function matchPath(a,c){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[m,o]=compilePath(a.path,a.caseSensitive,a.end),p=c.match(m);if(!p)return null;let l=p[0],T=l.replace(/(.)\/+$/,"$1"),F=p.slice(1);return{params:o.reduce((d,{paramName:s,isOptional:h},_)=>{if(s==="*"){let f=F[_]||"";T=l.slice(0,l.length-f.length).replace(/(.)\/+$/,"$1")}const b=F[_];return h&&!b?d[s]=void 0:d[s]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:T,pattern:a}}function compilePath(a,c=!1,m=!0){warning(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let o=[],p="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(T,F,D)=>(o.push({paramName:F,isOptional:D!=null}),D?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(o.push({paramName:"*"}),p+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):m?p+="\\/*$":a!==""&&a!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,c?void 0:"i"),o]}function decodePath(a){try{return a.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return warning(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${c}).`),a}}function stripBasename(a,c){if(c==="/")return a;if(!a.toLowerCase().startsWith(c.toLowerCase()))return null;let m=c.endsWith("/")?c.length-1:c.length,o=a.charAt(m);return o&&o!=="/"?null:a.slice(m)||"/"}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=a=>ABSOLUTE_URL_REGEX.test(a);function resolvePath(a,c="/"){let{pathname:m,search:o="",hash:p=""}=typeof a=="string"?parsePath(a):a,l;if(m)if(isAbsoluteUrl(m))l=m;else{if(m.includes("//")){let T=m;m=m.replace(/\/\/+/g,"/"),warning(!1,`Pathnames cannot have embedded double slashes - normalizing ${T} -> ${m}`)}m.startsWith("/")?l=resolvePathname(m.substring(1),"/"):l=resolvePathname(m,c)}else l=c;return{pathname:l,search:normalizeSearch(o),hash:normalizeHash(p)}}function resolvePathname(a,c){let m=c.replace(/\/+$/,"").split("/");return a.split("/").forEach(p=>{p===".."?m.length>1&&m.pop():p!=="."&&m.push(p)}),m.length>1?m.join("/"):"/"}function getInvalidPathError(a,c,m,o){return`Cannot include a '${a}' character in a manually specified \`to.${c}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${m}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(a){return a.filter((c,m)=>m===0||c.route.path&&c.route.path.length>0)}function getResolveToMatches(a){let c=getPathContributingMatches(a);return c.map((m,o)=>o===c.length-1?m.pathname:m.pathnameBase)}function resolveTo(a,c,m,o=!1){let p;typeof a=="string"?p=parsePath(a):(p={...a},invariant(!p.pathname||!p.pathname.includes("?"),getInvalidPathError("?","pathname","search",p)),invariant(!p.pathname||!p.pathname.includes("#"),getInvalidPathError("#","pathname","hash",p)),invariant(!p.search||!p.search.includes("#"),getInvalidPathError("#","search","hash",p)));let l=a===""||p.pathname==="",T=l?"/":p.pathname,F;if(T==null)F=m;else{let h=c.length-1;if(!o&&T.startsWith("..")){let _=T.split("/");for(;_[0]==="..";)_.shift(),h-=1;p.pathname=_.join("/")}F=h>=0?c[h]:"/"}let D=resolvePath(p,F),d=T&&T!=="/"&&T.endsWith("/"),s=(l||T===".")&&m.endsWith("/");return!D.pathname.endsWith("/")&&(d||s)&&(D.pathname+="/"),D}var joinPaths=a=>a.join("/").replace(/\/\/+/g,"/"),normalizePathname=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,normalizeHash=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function isRouteErrorResponse(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(a,{relative:c}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:m,navigator:o}=reactExports.useContext(NavigationContext),{hash:p,pathname:l,search:T}=useResolvedPath(a,{relative:c}),F=l;return m!=="/"&&(F=l==="/"?m:joinPaths([m,l])),o.createHref({pathname:F,search:T,hash:p})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(a){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(a)}function useNavigate(){let{isDataRoute:a}=reactExports.useContext(RouteContext);return a?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let a=reactExports.useContext(DataRouterContext),{basename:c,navigator:m}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:p}=useLocation(),l=JSON.stringify(getResolveToMatches(o)),T=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{T.current=!0}),reactExports.useCallback((D,d={})=>{if(warning(T.current,navigateEffectWarning),!T.current)return;if(typeof D=="number"){m.go(D);return}let s=resolveTo(D,JSON.parse(l),p,d.relative==="path");a==null&&c!=="/"&&(s.pathname=s.pathname==="/"?c:joinPaths([c,s.pathname])),(d.replace?m.replace:m.push)(s,d.state,d)},[c,m,l,p,a])}reactExports.createContext(null);function useParams(){let{matches:a}=reactExports.useContext(RouteContext),c=a[a.length-1];return c?c.params:{}}function useResolvedPath(a,{relative:c}={}){let{matches:m}=reactExports.useContext(RouteContext),{pathname:o}=useLocation(),p=JSON.stringify(getResolveToMatches(m));return reactExports.useMemo(()=>resolveTo(a,JSON.parse(p),o,c==="path"),[a,p,o,c])}function useRoutes(a,c){return useRoutesImpl(a,c)}function useRoutesImpl(a,c,m,o,p){invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=reactExports.useContext(NavigationContext),{matches:T}=reactExports.useContext(RouteContext),F=T[T.length-1],D=F?F.params:{},d=F?F.pathname:"/",s=F?F.pathnameBase:"/",h=F&&F.route;{let O=h&&h.path||"";warningOnce(d,!h||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let _=useLocation(),b;if(c){let O=typeof c=="string"?parsePath(c):c;invariant(s==="/"||O.pathname?.startsWith(s),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${s}" but pathname "${O.pathname}" was given in the \`location\` prop.`),b=O}else b=_;let f=b.pathname||"/",S=f;if(s!=="/"){let O=s.replace(/^\//,"").split("/");S="/"+f.replace(/^\//,"").split("/").slice(O.length).join("/")}let R=matchRoutes(a,{pathname:S});warning(h||R!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),warning(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=_renderMatches(R&&R.map(O=>Object.assign({},O,{params:Object.assign({},D,O.params),pathname:joinPaths([s,l.encodeLocation?l.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?s:joinPaths([s,l.encodeLocation?l.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),T,m,o,p);return c&&g?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},g):g}function DefaultErrorComponent(){let a=useRouteError(),c=isRouteErrorResponse(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),m=a instanceof Error?a.stack:null,o="rgba(200,200,200, 0.5)",p={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},T=null;return console.error("Error handled by React Router default ErrorBoundary:",a),T=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:l},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:l},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},c),m?reactExports.createElement("pre",{style:p},m):null,T)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,c){return c.location!==a.location||c.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:c.error,location:c.location,revalidation:a.revalidation||c.revalidation}}componentDidCatch(a,c){this.props.onError?this.props.onError(a,c):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:a,match:c,children:m}){let o=reactExports.useContext(DataRouterContext);return o&&o.static&&o.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=c.route.id),reactExports.createElement(RouteContext.Provider,{value:a},m)}function _renderMatches(a,c=[],m=null,o=null,p=null){if(a==null){if(!m)return null;if(m.errors)a=m.matches;else if(c.length===0&&!m.initialized&&m.matches.length>0)a=m.matches;else return null}let l=a,T=m?.errors;if(T!=null){let s=l.findIndex(h=>h.route.id&&T?.[h.route.id]!==void 0);invariant(s>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(T).join(",")}`),l=l.slice(0,Math.min(l.length,s+1))}let F=!1,D=-1;if(m)for(let s=0;s<l.length;s++){let h=l[s];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(D=s),h.route.id){let{loaderData:_,errors:b}=m,f=h.route.loader&&!_.hasOwnProperty(h.route.id)&&(!b||b[h.route.id]===void 0);if(h.route.lazy||f){F=!0,D>=0?l=l.slice(0,D+1):l=[l[0]];break}}}let d=m&&o?(s,h)=>{o(s,{location:m.location,params:m.matches?.[0]?.params??{},errorInfo:h})}:void 0;return l.reduceRight((s,h,_)=>{let b,f=!1,S=null,R=null;m&&(b=T&&h.route.id?T[h.route.id]:void 0,S=h.route.errorElement||defaultErrorElement,F&&(D<0&&_===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,R=null):D===_&&(f=!0,R=h.route.hydrateFallbackElement||null)));let g=c.concat(l.slice(0,_+1)),O=()=>{let I;return b?I=S:f?I=R:h.route.Component?I=reactExports.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=s,reactExports.createElement(RenderedRoute,{match:h,routeContext:{outlet:s,matches:g,isDataRoute:m!=null},children:I})};return m&&(h.route.ErrorBoundary||h.route.errorElement||_===0)?reactExports.createElement(RenderErrorBoundary,{location:m.location,revalidation:m.revalidation,component:S,error:b,children:O(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:d}):O()},null)}function getDataRouterConsoleError(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(a){let c=reactExports.useContext(DataRouterContext);return invariant(c,getDataRouterConsoleError(a)),c}function useDataRouterState(a){let c=reactExports.useContext(DataRouterStateContext);return invariant(c,getDataRouterConsoleError(a)),c}function useRouteContext(a){let c=reactExports.useContext(RouteContext);return invariant(c,getDataRouterConsoleError(a)),c}function useCurrentRouteId(a){let c=useRouteContext(a),m=c.matches[c.matches.length-1];return invariant(m.route.id,`${a} can only be used on routes that contain a unique "id"`),m.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let a=reactExports.useContext(RouteErrorContext),c=useDataRouterState("useRouteError"),m=useCurrentRouteId("useRouteError");return a!==void 0?a:c.errors?.[m]}function useNavigateStable(){let{router:a}=useDataRouterContext("useNavigate"),c=useCurrentRouteId("useNavigate"),m=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{m.current=!0}),reactExports.useCallback(async(p,l={})=>{warning(m.current,navigateEffectWarning),m.current&&(typeof p=="number"?a.navigate(p):await a.navigate(p,{fromRouteId:c,...l}))},[a,c])}var alreadyWarned={};function warningOnce(a,c,m){!c&&!alreadyWarned[a]&&(alreadyWarned[a]=!0,warning(!1,m))}reactExports.memo(DataRoutes);function DataRoutes({routes:a,future:c,state:m,unstable_onError:o}){return useRoutesImpl(a,void 0,m,o,c)}function Route(a){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:a="/",children:c=null,location:m,navigationType:o="POP",navigator:p,static:l=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let T=a.replace(/^\/*/,"/"),F=reactExports.useMemo(()=>({basename:T,navigator:p,static:l,future:{}}),[T,p,l]);typeof m=="string"&&(m=parsePath(m));let{pathname:D="/",search:d="",hash:s="",state:h=null,key:_="default"}=m,b=reactExports.useMemo(()=>{let f=stripBasename(D,T);return f==null?null:{location:{pathname:f,search:d,hash:s,state:h,key:_},navigationType:o}},[T,D,d,s,h,_,o]);return warning(b!=null,`<Router basename="${T}"> is not able to match the URL "${D}${d}${s}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:reactExports.createElement(NavigationContext.Provider,{value:F},reactExports.createElement(LocationContext.Provider,{children:c,value:b}))}function Routes({children:a,location:c}){return useRoutes(createRoutesFromChildren(a),c)}function createRoutesFromChildren(a,c=[]){let m=[];return reactExports.Children.forEach(a,(o,p)=>{if(!reactExports.isValidElement(o))return;let l=[...c,p];if(o.type===reactExports.Fragment){m.push.apply(m,createRoutesFromChildren(o.props.children,l));return}invariant(o.type===Route,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!o.props.index||!o.props.children,"An index route cannot have child routes.");let T={id:o.props.id||l.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(T.children=createRoutesFromChildren(o.props.children,l)),m.push(T)}),m}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(a){return a!=null&&typeof a.tagName=="string"}function isButtonElement(a){return isHtmlElement(a)&&a.tagName.toLowerCase()==="button"}function isFormElement(a){return isHtmlElement(a)&&a.tagName.toLowerCase()==="form"}function isInputElement(a){return isHtmlElement(a)&&a.tagName.toLowerCase()==="input"}function isModifiedEvent(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function shouldProcessLinkClick(a,c){return a.button===0&&(!c||c==="_self")&&!isModifiedEvent(a)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(a){return a!=null&&!supportedFormEncTypes.has(a)?(warning(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):a}function getFormSubmissionInfo(a,c){let m,o,p,l,T;if(isFormElement(a)){let F=a.getAttribute("action");o=F?stripBasename(F,c):null,m=a.getAttribute("method")||defaultMethod,p=getFormEncType(a.getAttribute("enctype"))||defaultEncType,l=new FormData(a)}else if(isButtonElement(a)||isInputElement(a)&&(a.type==="submit"||a.type==="image")){let F=a.form;if(F==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let D=a.getAttribute("formaction")||F.getAttribute("action");if(o=D?stripBasename(D,c):null,m=a.getAttribute("formmethod")||F.getAttribute("method")||defaultMethod,p=getFormEncType(a.getAttribute("formenctype"))||getFormEncType(F.getAttribute("enctype"))||defaultEncType,l=new FormData(F,a),!isFormDataSubmitterSupported()){let{name:d,type:s,value:h}=a;if(s==="image"){let _=d?`${d}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else d&&l.append(d,h)}}else{if(isHtmlElement(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');m=defaultMethod,o=null,p=defaultEncType,T=a}return l&&p==="text/plain"&&(T=l,l=void 0),{action:o,method:m.toLowerCase(),encType:p,formData:l,body:T}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(a,c){if(a===!1||a===null||typeof a>"u")throw new Error(c)}function singleFetchUrl(a,c,m){let o=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return o.pathname==="/"?o.pathname=`_root.${m}`:c&&stripBasename(o.pathname,c)==="/"?o.pathname=`${c.replace(/\/$/,"")}/_root.${m}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${m}`,o}async function loadRouteModule(a,c){if(a.id in c)return c[a.id];try{let m=await import(a.module);return c[a.id]=m,m}catch(m){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(m),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function getKeyedPrefetchLinks(a,c,m){let o=await Promise.all(a.map(async p=>{let l=c.routes[p.route.id];if(l){let T=await loadRouteModule(l,m);return T.links?T.links():[]}return[]}));return dedupeLinkDescriptors(o.flat(1).filter(isHtmlLinkDescriptor).filter(p=>p.rel==="stylesheet"||p.rel==="preload").map(p=>p.rel==="stylesheet"?{...p,rel:"prefetch",as:"style"}:{...p,rel:"prefetch"}))}function getNewMatchesForLinks(a,c,m,o,p,l){let T=(D,d)=>m[d]?D.route.id!==m[d].route.id:!0,F=(D,d)=>m[d].pathname!==D.pathname||m[d].route.path?.endsWith("*")&&m[d].params["*"]!==D.params["*"];return l==="assets"?c.filter((D,d)=>T(D,d)||F(D,d)):l==="data"?c.filter((D,d)=>{let s=o.routes[D.route.id];if(!s||!s.hasLoader)return!1;if(T(D,d)||F(D,d))return!0;if(D.route.shouldRevalidate){let h=D.route.shouldRevalidate({currentUrl:new URL(p.pathname+p.search+p.hash,window.origin),currentParams:m[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:D.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function getModuleLinkHrefs(a,c,{includeHydrateFallback:m}={}){return dedupeHrefs(a.map(o=>{let p=c.routes[o.route.id];if(!p)return[];let l=[p.module];return p.clientActionModule&&(l=l.concat(p.clientActionModule)),p.clientLoaderModule&&(l=l.concat(p.clientLoaderModule)),m&&p.hydrateFallbackModule&&(l=l.concat(p.hydrateFallbackModule)),p.imports&&(l=l.concat(p.imports)),l}).flat(1))}function dedupeHrefs(a){return[...new Set(a)]}function sortKeys(a){let c={},m=Object.keys(a).sort();for(let o of m)c[o]=a[o];return c}function dedupeLinkDescriptors(a,c){let m=new Set;return new Set(c),a.reduce((o,p)=>{let l=JSON.stringify(sortKeys(p));return m.has(l)||(m.add(l),o.push({key:l,link:p})),o},[])}function useDataRouterContext2(){let a=reactExports.useContext(DataRouterContext);return invariant2(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function useDataRouterStateContext(){let a=reactExports.useContext(DataRouterStateContext);return invariant2(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let a=reactExports.useContext(FrameworkContext);return invariant2(a,"You must render this element inside a <HydratedRouter> element"),a}function usePrefetchBehavior(a,c){let m=reactExports.useContext(FrameworkContext),[o,p]=reactExports.useState(!1),[l,T]=reactExports.useState(!1),{onFocus:F,onBlur:D,onMouseEnter:d,onMouseLeave:s,onTouchStart:h}=c,_=reactExports.useRef(null);reactExports.useEffect(()=>{if(a==="render"&&T(!0),a==="viewport"){let S=g=>{g.forEach(O=>{T(O.isIntersecting)})},R=new IntersectionObserver(S,{threshold:.5});return _.current&&R.observe(_.current),()=>{R.disconnect()}}},[a]),reactExports.useEffect(()=>{if(o){let S=setTimeout(()=>{T(!0)},100);return()=>{clearTimeout(S)}}},[o]);let b=()=>{p(!0)},f=()=>{p(!1),T(!1)};return m?a!=="intent"?[l,_,{}]:[l,_,{onFocus:composeEventHandlers(F,b),onBlur:composeEventHandlers(D,f),onMouseEnter:composeEventHandlers(d,b),onMouseLeave:composeEventHandlers(s,f),onTouchStart:composeEventHandlers(h,b)}]:[!1,_,{}]}function composeEventHandlers(a,c){return m=>{a&&a(m),m.defaultPrevented||c(m)}}function PrefetchPageLinks({page:a,...c}){let{router:m}=useDataRouterContext2(),o=reactExports.useMemo(()=>matchRoutes(m.routes,a,m.basename),[m.routes,a,m.basename]);return o?reactExports.createElement(PrefetchPageLinksImpl,{page:a,matches:o,...c}):null}function useKeyedPrefetchLinks(a){let{manifest:c,routeModules:m}=useFrameworkContext(),[o,p]=reactExports.useState([]);return reactExports.useEffect(()=>{let l=!1;return getKeyedPrefetchLinks(a,c,m).then(T=>{l||p(T)}),()=>{l=!0}},[a,c,m]),o}function PrefetchPageLinksImpl({page:a,matches:c,...m}){let o=useLocation(),{manifest:p,routeModules:l}=useFrameworkContext(),{basename:T}=useDataRouterContext2(),{loaderData:F,matches:D}=useDataRouterStateContext(),d=reactExports.useMemo(()=>getNewMatchesForLinks(a,c,D,p,o,"data"),[a,c,D,p,o]),s=reactExports.useMemo(()=>getNewMatchesForLinks(a,c,D,p,o,"assets"),[a,c,D,p,o]),h=reactExports.useMemo(()=>{if(a===o.pathname+o.search+o.hash)return[];let f=new Set,S=!1;if(c.forEach(g=>{let O=p.routes[g.route.id];!O||!O.hasLoader||(!d.some(I=>I.route.id===g.route.id)&&g.route.id in F&&l[g.route.id]?.shouldRevalidate||O.hasClientLoader?S=!0:f.add(g.route.id))}),f.size===0)return[];let R=singleFetchUrl(a,T,"data");return S&&f.size>0&&R.searchParams.set("_routes",c.filter(g=>f.has(g.route.id)).map(g=>g.route.id).join(",")),[R.pathname+R.search]},[T,F,o,p,d,c,a,l]),_=reactExports.useMemo(()=>getModuleLinkHrefs(s,p),[s,p]),b=useKeyedPrefetchLinks(s);return reactExports.createElement(reactExports.Fragment,null,h.map(f=>reactExports.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...m})),_.map(f=>reactExports.createElement("link",{key:f,rel:"modulepreload",href:f,...m})),b.map(({key:f,link:S})=>reactExports.createElement("link",{key:f,nonce:m.nonce,...S})))}function mergeRefs(...a){return c=>{a.forEach(m=>{typeof m=="function"?m(c):m!=null&&(m.current=c)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.9.6")}catch{}function BrowserRouter({basename:a,children:c,window:m}){let o=reactExports.useRef();o.current==null&&(o.current=createBrowserHistory({window:m,v5Compat:!0}));let p=o.current,[l,T]=reactExports.useState({action:p.action,location:p.location}),F=reactExports.useCallback(D=>{reactExports.startTransition(()=>T(D))},[T]);return reactExports.useLayoutEffect(()=>p.listen(F),[p,F]),reactExports.createElement(Router,{basename:a,children:c,location:l.location,navigationType:l.action,navigator:p})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:c,discover:m="render",prefetch:o="none",relative:p,reloadDocument:l,replace:T,state:F,target:D,to:d,preventScrollReset:s,viewTransition:h,..._},b){let{basename:f}=reactExports.useContext(NavigationContext),S=typeof d=="string"&&ABSOLUTE_URL_REGEX2.test(d),R,g=!1;if(typeof d=="string"&&S&&(R=d,isBrowser))try{let K=new URL(window.location.href),ht=d.startsWith("//")?new URL(K.protocol+d):new URL(d),nt=stripBasename(ht.pathname,f);ht.origin===K.origin&&nt!=null?d=nt+ht.search+ht.hash:g=!0}catch{warning(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=useHref(d,{relative:p}),[I,q,w]=usePrefetchBehavior(o,_),z=useLinkClickHandler(d,{replace:T,state:F,target:D,preventScrollReset:s,relative:p,viewTransition:h});function Z(K){c&&c(K),K.defaultPrevented||z(K)}let et=reactExports.createElement("a",{..._,...w,href:R||O,onClick:g||l?c:Z,ref:mergeRefs(b,q),target:D,"data-discover":!S&&m==="render"?"true":void 0});return I&&!S?reactExports.createElement(reactExports.Fragment,null,et,reactExports.createElement(PrefetchPageLinks,{page:O})):et});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":c="page",caseSensitive:m=!1,className:o="",end:p=!1,style:l,to:T,viewTransition:F,children:D,...d},s){let h=useResolvedPath(T,{relative:d.relative}),_=useLocation(),b=reactExports.useContext(DataRouterStateContext),{navigator:f,basename:S}=reactExports.useContext(NavigationContext),R=b!=null&&useViewTransitionState(h)&&F===!0,g=f.encodeLocation?f.encodeLocation(h).pathname:h.pathname,O=_.pathname,I=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;m||(O=O.toLowerCase(),I=I?I.toLowerCase():null,g=g.toLowerCase()),I&&S&&(I=stripBasename(I,S)||I);const q=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let w=O===g||!p&&O.startsWith(g)&&O.charAt(q)==="/",z=I!=null&&(I===g||!p&&I.startsWith(g)&&I.charAt(g.length)==="/"),Z={isActive:w,isPending:z,isTransitioning:R},et=w?c:void 0,K;typeof o=="function"?K=o(Z):K=[o,w?"active":null,z?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ht=typeof l=="function"?l(Z):l;return reactExports.createElement(Link,{...d,"aria-current":et,className:K,ref:s,style:ht,to:T,viewTransition:F},typeof D=="function"?D(Z):D)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:a="render",fetcherKey:c,navigate:m,reloadDocument:o,replace:p,state:l,method:T=defaultMethod,action:F,onSubmit:D,relative:d,preventScrollReset:s,viewTransition:h,..._},b)=>{let f=useSubmit(),S=useFormAction(F,{relative:d}),R=T.toLowerCase()==="get"?"get":"post",g=typeof F=="string"&&ABSOLUTE_URL_REGEX2.test(F),O=I=>{if(D&&D(I),I.defaultPrevented)return;I.preventDefault();let q=I.nativeEvent.submitter,w=q?.getAttribute("formmethod")||T;f(q||I.currentTarget,{fetcherKey:c,method:w,navigate:m,replace:p,state:l,relative:d,preventScrollReset:s,viewTransition:h})};return reactExports.createElement("form",{ref:b,method:R,action:S,onSubmit:o?D:O,..._,"data-discover":!g&&a==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(a){let c=reactExports.useContext(DataRouterContext);return invariant(c,getDataRouterConsoleError2(a)),c}function useLinkClickHandler(a,{target:c,replace:m,state:o,preventScrollReset:p,relative:l,viewTransition:T}={}){let F=useNavigate(),D=useLocation(),d=useResolvedPath(a,{relative:l});return reactExports.useCallback(s=>{if(shouldProcessLinkClick(s,c)){s.preventDefault();let h=m!==void 0?m:createPath(D)===createPath(d);F(a,{replace:h,state:o,preventScrollReset:p,relative:l,viewTransition:T})}},[D,F,d,m,o,c,a,p,l,T])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:a}=useDataRouterContext3("useSubmit"),{basename:c}=reactExports.useContext(NavigationContext),m=useRouteId();return reactExports.useCallback(async(o,p={})=>{let{action:l,method:T,encType:F,formData:D,body:d}=getFormSubmissionInfo(o,c);if(p.navigate===!1){let s=p.fetcherKey||getUniqueFetcherId();await a.fetch(s,m,p.action||l,{preventScrollReset:p.preventScrollReset,formData:D,body:d,formMethod:p.method||T,formEncType:p.encType||F,flushSync:p.flushSync})}else await a.navigate(p.action||l,{preventScrollReset:p.preventScrollReset,formData:D,body:d,formMethod:p.method||T,formEncType:p.encType||F,replace:p.replace,state:p.state,fromRouteId:m,flushSync:p.flushSync,viewTransition:p.viewTransition})},[a,c,m])}function useFormAction(a,{relative:c}={}){let{basename:m}=reactExports.useContext(NavigationContext),o=reactExports.useContext(RouteContext);invariant(o,"useFormAction must be used inside a RouteContext");let[p]=o.matches.slice(-1),l={...useResolvedPath(a||".",{relative:c})},T=useLocation();if(a==null){l.search=T.search;let F=new URLSearchParams(l.search),D=F.getAll("index");if(D.some(s=>s==="")){F.delete("index"),D.filter(h=>h).forEach(h=>F.append("index",h));let s=F.toString();l.search=s?`?${s}`:""}}return(!a||a===".")&&p.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),m!=="/"&&(l.pathname=l.pathname==="/"?m:joinPaths([m,l.pathname])),createPath(l)}function useViewTransitionState(a,{relative:c}={}){let m=reactExports.useContext(ViewTransitionContext);invariant(m!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=useDataRouterContext3("useViewTransitionState"),p=useResolvedPath(a,{relative:c});if(!m.isTransitioning)return!1;let l=stripBasename(m.currentLocation.pathname,o)||m.currentLocation.pathname,T=stripBasename(m.nextLocation.pathname,o)||m.nextLocation.pathname;return matchPath(p.pathname,T)!=null||matchPath(p.pathname,l)!=null}var reactDomExports=requireReactDom();const books=[{id:0,title:"Designing with the Mind in Mind",subtitle:"Simple Guide to Understanding User Interface Design Guidelines",author:"Jeff Johnson",image:"https://m.media-amazon.com/images/I/71i1WQlxYIL._AC_UF1000,1000_QL80_.jpg",files:["/iris25/books/designing-with-the-mind-in-mind/Chapter-1---Our-Perception-is-Biased.pdf","/iris25/books/designing-with-the-mind-in-mind/Chapter-2---Our-Vision-is-Optimized-to-See-Structure.pdf","/iris25/books/designing-with-the-mind-in-mind/Chapter-3---We-Seek-and-Use-Visual-Structure.pdf","/iris25/books/designing-with-the-mind-in-mind/Chapter-4---Our-Color-Vision-is-Limited.pdf","/iris25/books/designing-with-the-mind-in-mind/Chapter-5---Our-Peripheral-Vision-is-Poor.pdf","/iris25/books/designing-with-the-mind-in-mind/Chapter-6---Reading-is-Unnatural.pdf","/iris25/books/designing-with-the-mind-in-mind/Chapter-7---Our-Attention-is-Limited--Our-Memory-is-Imperfect.pdf","/iris25/books/designing-with-the-mind-in-mind/Chapter-8---Limits-on-Attention-Shape-Our-Thought-and-Action.pdf"]},{id:1,title:"The Design of Everyday Things",subtitle:"Revised and Expanded Edition",author:"Don Norman",image:"https://m.media-amazon.com/images/I/71sF8kuMW3L._AC_UF1000,1000_QL80_.jpg",files:["/iris25/books/the-design-of-everyday-things/00-introduction.pdf","/iris25/books/the-design-of-everyday-things/01-preface.pdf","/iris25/books/the-design-of-everyday-things/02-chapter-1.pdf","/iris25/books/the-design-of-everyday-things/03-chapter-2.pdf","/iris25/books/the-design-of-everyday-things/04-chapter-3.pdf","/iris25/books/the-design-of-everyday-things/05-chapter-4.pdf","/iris25/books/the-design-of-everyday-things/06-chapter-5.pdf","/iris25/books/the-design-of-everyday-things/07-chapter-6.pdf","/iris25/books/the-design-of-everyday-things/08-chapter-7.pdf","/iris25/books/the-design-of-everyday-things/09-acknowledgments.pdf","/iris25/books/the-design-of-everyday-things/10-general-readings.pdf","/iris25/books/the-design-of-everyday-things/11-references.pdf","/iris25/books/the-design-of-everyday-things/12-index.pdf"]},{id:2,title:"Sabai",subtitle:"100 Simple Thai Recipes for Any Day of the Week",author:"Pailin Chongchitnant",image:"https://m.media-amazon.com/images/I/81EBqquvVfL._SL1500_.jpg",files:["/iris25/books/sabai/00-sabai-introduction.pdf","/iris25/books/sabai/01-sabai-appetizers.pdf","/iris25/books/sabai/02-sabai-salads.pdf","/iris25/books/sabai/03-sabai-curries-soups-stews.pdf","/iris25/books/sabai/04-sabai-stir-fries.pdf","/iris25/books/sabai/05-sabai-steamed-pan-fried-roasted.pdf","/iris25/books/sabai/06-sabai-vegetables.pdf","/iris25/books/sabai/07-sabai-one-dish-meals-rice-noodles.pdf","/iris25/books/sabai/08-sabai-simple-sweets.pdf","/iris25/books/sabai/09-sabai-rice.pdf","/iris25/books/sabai/10-sabai-recipes-to-make-in-bulk.pdf","/iris25/books/sabai/11-sabai-acknowledgments.pdf","/iris25/books/sabai/12-sabai-index.pdf"]},{id:3,title:"Add a New Book",subtitle:"Import from PDF",author:"",image:"https://litkicks.com/wp-content/uploads/2013/05/torocovers1.jpg",files:[]}];var lib$1={exports:{}},core_min={};function commonjsRequire(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports$1){(function(c,m){module.exports=c.pdfjsLib=m()})(globalThis,()=>(()=>{var __webpack_modules__=[,((a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.VerbosityLevel=c.Util=c.UnknownErrorException=c.UnexpectedResponseException=c.TextRenderingMode=c.RenderingIntentFlag=c.PromiseCapability=c.PermissionFlag=c.PasswordResponses=c.PasswordException=c.PageActionEventType=c.OPS=c.MissingPDFException=c.MAX_IMAGE_SIZE_TO_CACHE=c.LINE_FACTOR=c.LINE_DESCENT_FACTOR=c.InvalidPDFException=c.ImageKind=c.IDENTITY_MATRIX=c.FormatError=c.FeatureTest=c.FONT_IDENTITY_MATRIX=c.DocumentActionEventType=c.CMapCompressionType=c.BaseException=c.BASELINE_FACTOR=c.AnnotationType=c.AnnotationReplyType=c.AnnotationPrefix=c.AnnotationMode=c.AnnotationFlag=c.AnnotationFieldFlag=c.AnnotationEditorType=c.AnnotationEditorPrefix=c.AnnotationEditorParamsType=c.AnnotationBorderStyleType=c.AnnotationActionEventType=c.AbortException=void 0,c.assert=A,c.bytesToString=$,c.createValidAbsoluteUrl=y,c.getModificationDate=un,c.getUuid=$a,c.getVerbosityLevel=Rt,c.info=X,c.isArrayBuffer=De,c.isArrayEqual=Tn,c.isNodeJS=void 0,c.normalizeUnicode=Li,c.objectFromMap=St,c.objectSize=Bt,c.setVerbosityLevel=Et,c.shadow=L,c.string32=bt,c.stringToBytes=rt,c.stringToPDFString=re,c.stringToUTF8String=ve,c.unreachable=M,c.utf8StringToString=ne,c.warn=j;const m=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");c.isNodeJS=m;const o=[1,0,0,1,0,0];c.IDENTITY_MATRIX=o;const p=[.001,0,0,.001,0,0];c.FONT_IDENTITY_MATRIX=p;const l=1e7;c.MAX_IMAGE_SIZE_TO_CACHE=l;const T=1.35;c.LINE_FACTOR=T;const F=.35;c.LINE_DESCENT_FACTOR=F;const D=F/T;c.BASELINE_FACTOR=D;const d={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};c.RenderingIntentFlag=d;const s={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};c.AnnotationMode=s;const h="pdfjs_internal_editor_";c.AnnotationEditorPrefix=h;const _={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};c.AnnotationEditorType=_;const b={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};c.AnnotationEditorParamsType=b;const f={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};c.PermissionFlag=f;const S={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};c.TextRenderingMode=S;const R={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};c.ImageKind=R;const g={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};c.AnnotationType=g;const O={GROUP:"Group",REPLY:"R"};c.AnnotationReplyType=O;const I={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};c.AnnotationFlag=I;const q={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};c.AnnotationFieldFlag=q;const w={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};c.AnnotationBorderStyleType=w;const z={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};c.AnnotationActionEventType=z;const Z={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};c.DocumentActionEventType=Z;const et={O:"PageOpen",C:"PageClose"};c.PageActionEventType=et;const K={ERRORS:0,WARNINGS:1,INFOS:5};c.VerbosityLevel=K;const ht={NONE:0,BINARY:1};c.CMapCompressionType=ht;const nt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};c.OPS=nt;const yt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};c.PasswordResponses=yt;let mt=K.WARNINGS;function Et(Pt){Number.isInteger(Pt)&&(mt=Pt)}function Rt(){return mt}function X(Pt){mt>=K.INFOS&&console.log(`Info: ${Pt}`)}function j(Pt){mt>=K.WARNINGS&&console.log(`Warning: ${Pt}`)}function M(Pt){throw new Error(Pt)}function A(Pt,pt){Pt||M(pt)}function x(Pt){switch(Pt?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function y(Pt,pt=null,ut=null){if(!Pt)return null;try{if(ut&&typeof Pt=="string"&&(ut.addDefaultProtocol&&Pt.startsWith("www.")&&Pt.match(/\./g)?.length>=2&&(Pt=`http://${Pt}`),ut.tryConvertEncoding))try{Pt=ve(Pt)}catch{}const Ut=pt?new URL(Pt,pt):new URL(Pt);if(x(Ut))return Ut}catch{}return null}function L(Pt,pt,ut,Ut=!1){return Object.defineProperty(Pt,pt,{value:ut,enumerable:!Ut,configurable:!0,writable:!1}),ut}const B=(function(){function pt(ut,Ut){this.constructor===pt&&M("Cannot initialize BaseException."),this.message=ut,this.name=Ut}return pt.prototype=new Error,pt.constructor=pt,pt})();c.BaseException=B;class G extends B{constructor(pt,ut){super(pt,"PasswordException"),this.code=ut}}c.PasswordException=G;class H extends B{constructor(pt,ut){super(pt,"UnknownErrorException"),this.details=ut}}c.UnknownErrorException=H;class v extends B{constructor(pt){super(pt,"InvalidPDFException")}}c.InvalidPDFException=v;class k extends B{constructor(pt){super(pt,"MissingPDFException")}}c.MissingPDFException=k;class N extends B{constructor(pt,ut){super(pt,"UnexpectedResponseException"),this.status=ut}}c.UnexpectedResponseException=N;class V extends B{constructor(pt){super(pt,"FormatError")}}c.FormatError=V;class Y extends B{constructor(pt){super(pt,"AbortException")}}c.AbortException=Y;function $(Pt){(typeof Pt!="object"||Pt?.length===void 0)&&M("Invalid argument for bytesToString");const pt=Pt.length,ut=8192;if(pt<ut)return String.fromCharCode.apply(null,Pt);const Ut=[];for(let je=0;je<pt;je+=ut){const fe=Math.min(je+ut,pt),Ae=Pt.subarray(je,fe);Ut.push(String.fromCharCode.apply(null,Ae))}return Ut.join("")}function rt(Pt){typeof Pt!="string"&&M("Invalid argument for stringToBytes");const pt=Pt.length,ut=new Uint8Array(pt);for(let Ut=0;Ut<pt;++Ut)ut[Ut]=Pt.charCodeAt(Ut)&255;return ut}function bt(Pt){return String.fromCharCode(Pt>>24&255,Pt>>16&255,Pt>>8&255,Pt&255)}function Bt(Pt){return Object.keys(Pt).length}function St(Pt){const pt=Object.create(null);for(const[ut,Ut]of Pt)pt[ut]=Ut;return pt}function Ct(){const Pt=new Uint8Array(4);return Pt[0]=1,new Uint32Array(Pt.buffer,0,1)[0]===1}function Dt(){try{return new Function(""),!0}catch{return!1}}class Mt{static get isLittleEndian(){return L(this,"isLittleEndian",Ct())}static get isEvalSupported(){return L(this,"isEvalSupported",Dt())}static get isOffscreenCanvasSupported(){return L(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?L(this,"platform",{isWin:!1,isMac:!1}):L(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return L(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}c.FeatureTest=Mt;const jt=[...Array(256).keys()].map(Pt=>Pt.toString(16).padStart(2,"0"));class qt{static makeHexColor(pt,ut,Ut){return`#${jt[pt]}${jt[ut]}${jt[Ut]}`}static scaleMinMax(pt,ut){let Ut;pt[0]?(pt[0]<0&&(Ut=ut[0],ut[0]=ut[1],ut[1]=Ut),ut[0]*=pt[0],ut[1]*=pt[0],pt[3]<0&&(Ut=ut[2],ut[2]=ut[3],ut[3]=Ut),ut[2]*=pt[3],ut[3]*=pt[3]):(Ut=ut[0],ut[0]=ut[2],ut[2]=Ut,Ut=ut[1],ut[1]=ut[3],ut[3]=Ut,pt[1]<0&&(Ut=ut[2],ut[2]=ut[3],ut[3]=Ut),ut[2]*=pt[1],ut[3]*=pt[1],pt[2]<0&&(Ut=ut[0],ut[0]=ut[1],ut[1]=Ut),ut[0]*=pt[2],ut[1]*=pt[2]),ut[0]+=pt[4],ut[1]+=pt[4],ut[2]+=pt[5],ut[3]+=pt[5]}static transform(pt,ut){return[pt[0]*ut[0]+pt[2]*ut[1],pt[1]*ut[0]+pt[3]*ut[1],pt[0]*ut[2]+pt[2]*ut[3],pt[1]*ut[2]+pt[3]*ut[3],pt[0]*ut[4]+pt[2]*ut[5]+pt[4],pt[1]*ut[4]+pt[3]*ut[5]+pt[5]]}static applyTransform(pt,ut){const Ut=pt[0]*ut[0]+pt[1]*ut[2]+ut[4],je=pt[0]*ut[1]+pt[1]*ut[3]+ut[5];return[Ut,je]}static applyInverseTransform(pt,ut){const Ut=ut[0]*ut[3]-ut[1]*ut[2],je=(pt[0]*ut[3]-pt[1]*ut[2]+ut[2]*ut[5]-ut[4]*ut[3])/Ut,fe=(-pt[0]*ut[1]+pt[1]*ut[0]+ut[4]*ut[1]-ut[5]*ut[0])/Ut;return[je,fe]}static getAxialAlignedBoundingBox(pt,ut){const Ut=this.applyTransform(pt,ut),je=this.applyTransform(pt.slice(2,4),ut),fe=this.applyTransform([pt[0],pt[3]],ut),Ae=this.applyTransform([pt[2],pt[1]],ut);return[Math.min(Ut[0],je[0],fe[0],Ae[0]),Math.min(Ut[1],je[1],fe[1],Ae[1]),Math.max(Ut[0],je[0],fe[0],Ae[0]),Math.max(Ut[1],je[1],fe[1],Ae[1])]}static inverseTransform(pt){const ut=pt[0]*pt[3]-pt[1]*pt[2];return[pt[3]/ut,-pt[1]/ut,-pt[2]/ut,pt[0]/ut,(pt[2]*pt[5]-pt[4]*pt[3])/ut,(pt[4]*pt[1]-pt[5]*pt[0])/ut]}static singularValueDecompose2dScale(pt){const ut=[pt[0],pt[2],pt[1],pt[3]],Ut=pt[0]*ut[0]+pt[1]*ut[2],je=pt[0]*ut[1]+pt[1]*ut[3],fe=pt[2]*ut[0]+pt[3]*ut[2],Ae=pt[2]*ut[1]+pt[3]*ut[3],ri=(Ut+Ae)/2,si=Math.sqrt((Ut+Ae)**2-4*(Ut*Ae-fe*je))/2,Nn=ri+si||1,gn=ri-si||1;return[Math.sqrt(Nn),Math.sqrt(gn)]}static normalizeRect(pt){const ut=pt.slice(0);return pt[0]>pt[2]&&(ut[0]=pt[2],ut[2]=pt[0]),pt[1]>pt[3]&&(ut[1]=pt[3],ut[3]=pt[1]),ut}static intersect(pt,ut){const Ut=Math.max(Math.min(pt[0],pt[2]),Math.min(ut[0],ut[2])),je=Math.min(Math.max(pt[0],pt[2]),Math.max(ut[0],ut[2]));if(Ut>je)return null;const fe=Math.max(Math.min(pt[1],pt[3]),Math.min(ut[1],ut[3])),Ae=Math.min(Math.max(pt[1],pt[3]),Math.max(ut[1],ut[3]));return fe>Ae?null:[Ut,fe,je,Ae]}static bezierBoundingBox(pt,ut,Ut,je,fe,Ae,ri,si){const Nn=[],gn=[[],[]];let Hn,oi,Vi,ln,mi,pa,ma,ga;for(let va=0;va<2;++va){if(va===0?(oi=6*pt-12*Ut+6*fe,Hn=-3*pt+9*Ut-9*fe+3*ri,Vi=3*Ut-3*pt):(oi=6*ut-12*je+6*Ae,Hn=-3*ut+9*je-9*Ae+3*si,Vi=3*je-3*ut),Math.abs(Hn)<1e-12){if(Math.abs(oi)<1e-12)continue;ln=-Vi/oi,0<ln&&ln<1&&Nn.push(ln);continue}ma=oi*oi-4*Vi*Hn,ga=Math.sqrt(ma),!(ma<0)&&(mi=(-oi+ga)/(2*Hn),0<mi&&mi<1&&Nn.push(mi),pa=(-oi-ga)/(2*Hn),0<pa&&pa<1&&Nn.push(pa))}let Pi=Nn.length,Mn;const wi=Pi;for(;Pi--;)ln=Nn[Pi],Mn=1-ln,gn[0][Pi]=Mn*Mn*Mn*pt+3*Mn*Mn*ln*Ut+3*Mn*ln*ln*fe+ln*ln*ln*ri,gn[1][Pi]=Mn*Mn*Mn*ut+3*Mn*Mn*ln*je+3*Mn*ln*ln*Ae+ln*ln*ln*si;return gn[0][wi]=pt,gn[1][wi]=ut,gn[0][wi+1]=ri,gn[1][wi+1]=si,gn[0].length=gn[1].length=wi+2,[Math.min(...gn[0]),Math.min(...gn[1]),Math.max(...gn[0]),Math.max(...gn[1])]}}c.Util=qt;const Qt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function re(Pt){if(Pt[0]>=""){let ut;if(Pt[0]===""&&Pt[1]===""?ut="utf-16be":Pt[0]===""&&Pt[1]===""?ut="utf-16le":Pt[0]===""&&Pt[1]===""&&Pt[2]===""&&(ut="utf-8"),ut)try{const Ut=new TextDecoder(ut,{fatal:!0}),je=rt(Pt);return Ut.decode(je)}catch(Ut){j(`stringToPDFString: "${Ut}".`)}}const pt=[];for(let ut=0,Ut=Pt.length;ut<Ut;ut++){const je=Qt[Pt.charCodeAt(ut)];pt.push(je?String.fromCharCode(je):Pt.charAt(ut))}return pt.join("")}function ve(Pt){return decodeURIComponent(escape(Pt))}function ne(Pt){return unescape(encodeURIComponent(Pt))}function De(Pt){return typeof Pt=="object"&&Pt?.byteLength!==void 0}function Tn(Pt,pt){if(Pt.length!==pt.length)return!1;for(let ut=0,Ut=Pt.length;ut<Ut;ut++)if(Pt[ut]!==pt[ut])return!1;return!0}function un(Pt=new Date){return[Pt.getUTCFullYear().toString(),(Pt.getUTCMonth()+1).toString().padStart(2,"0"),Pt.getUTCDate().toString().padStart(2,"0"),Pt.getUTCHours().toString().padStart(2,"0"),Pt.getUTCMinutes().toString().padStart(2,"0"),Pt.getUTCSeconds().toString().padStart(2,"0")].join("")}class Gn{#t=!1;constructor(){this.promise=new Promise((pt,ut)=>{this.resolve=Ut=>{this.#t=!0,pt(Ut)},this.reject=Ut=>{this.#t=!0,ut(Ut)}})}get settled(){return this.#t}}c.PromiseCapability=Gn;let En=null,Xn=null;function Li(Pt){return En||(En=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Xn=new Map([["","t"]])),Pt.replaceAll(En,(pt,ut,Ut)=>ut?ut.normalize("NFKC"):Xn.get(Ut))}function $a(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const Pt=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(Pt);else for(let pt=0;pt<32;pt++)Pt[pt]=Math.floor(Math.random()*255);return $(Pt)}const Pn="pdfjs_internal_id_";c.AnnotationPrefix=Pn}),((__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(a){if(typeof a=="string"||a instanceof URL?a={url:a}:(0,_util.isArrayBuffer)(a)&&(a={data:a}),typeof a!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!a.url&&!a.data&&!a.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const c=new PDFDocumentLoadingTask,{docId:m}=c,o=a.url?getUrlProp(a.url):null,p=a.data?getDataProp(a.data):null,l=a.httpHeaders||null,T=a.withCredentials===!0,F=a.password??null,D=a.range instanceof PDFDataRangeTransport?a.range:null,d=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let s=a.worker instanceof PDFWorker?a.worker:null;const h=a.verbosity,_=typeof a.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(a.docBaseUrl)?a.docBaseUrl:null,b=typeof a.cMapUrl=="string"?a.cMapUrl:null,f=a.cMapPacked!==!1,S=a.CMapReaderFactory||DefaultCMapReaderFactory,R=typeof a.standardFontDataUrl=="string"?a.standardFontDataUrl:null,g=a.StandardFontDataFactory||DefaultStandardFontDataFactory,O=a.stopAtErrors!==!0,I=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,q=a.isEvalSupported!==!1,w=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!_util.isNodeJS,z=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,Z=typeof a.disableFontFace=="boolean"?a.disableFontFace:_util.isNodeJS,et=a.fontExtraProperties===!0,K=a.enableXfa===!0,ht=a.ownerDocument||globalThis.document,nt=a.disableRange===!0,yt=a.disableStream===!0,mt=a.disableAutoFetch===!0,Et=a.pdfBug===!0,Rt=D?D.length:a.length??NaN,X=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!_util.isNodeJS&&!Z,j=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:S===_display_utils.DOMCMapReaderFactory&&g===_display_utils.DOMStandardFontDataFactory&&b&&R&&(0,_display_utils.isValidFetchUrl)(b,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(R,document.baseURI),M=a.canvasFactory||new DefaultCanvasFactory({ownerDocument:ht}),A=a.filterFactory||new DefaultFilterFactory({docId:m,ownerDocument:ht}),x=null;(0,_util.setVerbosityLevel)(h);const y={canvasFactory:M,filterFactory:A};if(j||(y.cMapReaderFactory=new S({baseUrl:b,isCompressed:f}),y.standardFontDataFactory=new g({baseUrl:R})),!s){const G={verbosity:h,port:_worker_options.GlobalWorkerOptions.workerPort};s=G.port?PDFWorker.fromPort(G):new PDFWorker(G),c._worker=s}const L={docId:m,apiVersion:"3.11.174",data:p,password:F,disableAutoFetch:mt,rangeChunkSize:d,length:Rt,docBaseUrl:_,enableXfa:K,evaluatorOptions:{maxImageSize:I,disableFontFace:Z,ignoreErrors:O,isEvalSupported:q,isOffscreenCanvasSupported:w,canvasMaxAreaInBytes:z,fontExtraProperties:et,useSystemFonts:X,cMapUrl:j?b:null,standardFontDataUrl:j?R:null}},B={ignoreErrors:O,isEvalSupported:q,disableFontFace:Z,fontExtraProperties:et,enableXfa:K,ownerDocument:ht,disableAutoFetch:mt,pdfBug:Et,styleElement:x};return s.promise.then(function(){if(c.destroyed)throw new Error("Loading aborted");const G=_fetchDocument(s,L),H=new Promise(function(v){let k;D?k=new _transport_stream.PDFDataTransportStream({length:Rt,initialData:D.initialData,progressiveDone:D.progressiveDone,contentDispositionFilename:D.contentDispositionFilename,disableRange:nt,disableStream:yt},D):p||(k=(V=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(V):(0,_display_utils.isValidFetchUrl)(V.url)?new _displayFetch_stream.PDFFetchStream(V):new _displayNetwork.PDFNetworkStream(V))({url:o,length:Rt,httpHeaders:l,withCredentials:T,rangeChunkSize:d,disableRange:nt,disableStream:yt})),v(k)});return Promise.all([G,H]).then(function([v,k]){if(c.destroyed)throw new Error("Loading aborted");const N=new _message_handler.MessageHandler(m,v,s.port),V=new WorkerTransport(N,c,k,B,y);c._transport=V,N.send("Ready",null)})}).catch(c._capability.reject),c}async function _fetchDocument(a,c){if(a.destroyed)throw new Error("Worker was destroyed");const m=await a.messageHandler.sendWithPromise("GetDocRequest",c,c.data?[c.data.buffer]:null);if(a.destroyed)throw new Error("Worker was destroyed");return m}function getUrlProp(a){if(a instanceof URL)return a.href;try{return new URL(a,window.location).href}catch{if(_util.isNodeJS&&typeof a=="string")return a}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(a){if(_util.isNodeJS&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return(0,_util.stringToBytes)(a);if(typeof a=="object"&&!isNaN(a?.length)||(0,_util.isArrayBuffer)(a))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#t=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#t++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(c){throw this._worker?.port&&delete this._worker._pendingDestroy,c}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(c,m,o=!1,p=null){this.length=c,this.initialData=m,this.progressiveDone=o,this.contentDispositionFilename=p,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(c){this._rangeListeners.push(c)}addProgressListener(c){this._progressListeners.push(c)}addProgressiveReadListener(c){this._progressiveReadListeners.push(c)}addProgressiveDoneListener(c){this._progressiveDoneListeners.push(c)}onDataRange(c,m){for(const o of this._rangeListeners)o(c,m)}onDataProgress(c,m){this._readyCapability.promise.then(()=>{for(const o of this._progressListeners)o(c,m)})}onDataProgressiveRead(c){this._readyCapability.promise.then(()=>{for(const m of this._progressiveReadListeners)m(c)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const c of this._progressiveDoneListeners)c()})}transportReady(){this._readyCapability.resolve()}requestDataRange(c,m){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(c,m){this._pdfInfo=c,this._transport=m,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(o=>{if(!o)return o;const p=[];for(const l in o)p.push(...o[l]);return p}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(c){return this._transport.getPage(c)}getPageIndex(c){return this._transport.getPageIndex(c)}getDestinations(){return this._transport.getDestinations()}getDestination(c){return this._transport.getDestination(c)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(c=!1){return this._transport.startCleanup(c||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#t=null;#e=!1;constructor(c,m,o,p=!1){this._pageIndex=c,this._pageInfo=m,this._transport=o,this._stats=p?new _display_utils.StatTimer:null,this._pdfBug=p,this.commonObjs=o.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:c,rotation:m=this.rotate,offsetX:o=0,offsetY:p=0,dontFlip:l=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:c,rotation:m,offsetX:o,offsetY:p,dontFlip:l})}getAnnotations({intent:c="display"}={}){const m=this._transport.getRenderingIntent(c);return this._transport.getAnnotations(this._pageIndex,m.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:c,viewport:m,intent:o="display",annotationMode:p=_util.AnnotationMode.ENABLE,transform:l=null,background:T=null,optionalContentConfigPromise:F=null,annotationCanvasMap:D=null,pageColors:d=null,printAnnotationStorage:s=null}){this._stats?.time("Overall");const h=this._transport.getRenderingIntent(o,p,s);this.#e=!1,this.#i(),F||(F=this._transport.getOptionalContentConfig());let _=this._intentStates.get(h.cacheKey);_||(_=Object.create(null),this._intentStates.set(h.cacheKey,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const b=!!(h.renderingIntent&_util.RenderingIntentFlag.PRINT);_.displayReadyCapability||(_.displayReadyCapability=new _util.PromiseCapability,_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(h));const f=g=>{_.renderTasks.delete(S),(this._maybeCleanupAfterRender||b)&&(this.#e=!0),this.#n(!b),g?(S.capability.reject(g),this._abortOperatorList({intentState:_,reason:g instanceof Error?g:new Error(g)})):S.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},S=new InternalRenderTask({callback:f,params:{canvasContext:c,viewport:m,transform:l,background:T},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:D,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:d});(_.renderTasks||=new Set).add(S);const R=S.task;return Promise.all([_.displayReadyCapability.promise,F]).then(([g,O])=>{if(this.destroyed){f();return}this._stats?.time("Rendering"),S.initializeGraphics({transparency:g,optionalContentConfig:O}),S.operatorListChanged()}).catch(f),R}getOperatorList({intent:c="display",annotationMode:m=_util.AnnotationMode.ENABLE,printAnnotationStorage:o=null}={}){function p(){T.operatorList.lastChunk&&(T.opListReadCapability.resolve(T.operatorList),T.renderTasks.delete(F))}const l=this._transport.getRenderingIntent(c,m,o,!0);let T=this._intentStates.get(l.cacheKey);T||(T=Object.create(null),this._intentStates.set(l.cacheKey,T));let F;return T.opListReadCapability||(F=Object.create(null),F.operatorListChanged=p,T.opListReadCapability=new _util.PromiseCapability,(T.renderTasks||=new Set).add(F),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),T.opListReadCapability.promise}streamTextContent({includeMarkedContent:c=!1,disableNormalization:m=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:c===!0,disableNormalization:m===!0},{highWaterMark:100,size(p){return p.items.length}})}getTextContent(c={}){if(this._transport._htmlForXfa)return this.getXfa().then(o=>_xfa_text.XfaText.textContent(o));const m=this.streamTextContent(c);return new Promise(function(o,p){function l(){T.read().then(function({value:D,done:d}){if(d){o(F);return}Object.assign(F.styles,D.styles),F.items.push(...D.items),l()},p)}const T=m.getReader(),F={items:[],styles:Object.create(null)};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const c=[];for(const m of this._intentStates.values())if(this._abortOperatorList({intentState:m,reason:new Error("Page was destroyed."),force:!0}),!m.opListReadCapability)for(const o of m.renderTasks)c.push(o.completed),o.cancel();return this.objs.clear(),this.#e=!1,this.#i(),Promise.all(c)}cleanup(c=!1){this.#e=!0;const m=this.#n(!1);return c&&m&&(this._stats&&=new _display_utils.StatTimer),m}#n(c=!1){if(this.#i(),!this.#e||this.destroyed)return!1;if(c)return this.#t=setTimeout(()=>{this.#t=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:m,operatorList:o}of this._intentStates.values())if(m.size>0||!o.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}#i(){this.#t&&(clearTimeout(this.#t),this.#t=null)}_startRenderPage(c,m){const o=this._intentStates.get(m);o&&(this._stats?.timeEnd("Page Request"),o.displayReadyCapability?.resolve(c))}_renderPageChunk(c,m){for(let o=0,p=c.length;o<p;o++)m.operatorList.fnArray.push(c.fnArray[o]),m.operatorList.argsArray.push(c.argsArray[o]);m.operatorList.lastChunk=c.lastChunk,m.operatorList.separateAnnots=c.separateAnnots;for(const o of m.renderTasks)o.operatorListChanged();c.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:c,cacheKey:m,annotationStorageSerializable:o}){const{map:p,transfers:l}=o,F=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:c,cacheKey:m,annotationStorage:p},l).getReader(),D=this._intentStates.get(m);D.streamReader=F;const d=()=>{F.read().then(({value:s,done:h})=>{if(h){D.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(s,D),d())},s=>{if(D.streamReader=null,!this._transport.destroyed){if(D.operatorList){D.operatorList.lastChunk=!0;for(const h of D.renderTasks)h.operatorListChanged();this.#n(!0)}if(D.displayReadyCapability)D.displayReadyCapability.reject(s);else if(D.opListReadCapability)D.opListReadCapability.reject(s);else throw s}})};d()}_abortOperatorList({intentState:c,reason:m,force:o=!1}){if(c.streamReader){if(c.streamReaderCancelTimeout&&(clearTimeout(c.streamReaderCancelTimeout),c.streamReaderCancelTimeout=null),!o){if(c.renderTasks.size>0)return;if(m instanceof _display_utils.RenderingCancelledException){let p=RENDERING_CANCELLED_TIMEOUT;m.extraDelay>0&&m.extraDelay<1e3&&(p+=m.extraDelay),c.streamReaderCancelTimeout=setTimeout(()=>{c.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:c,reason:m,force:!0})},p);return}}if(c.streamReader.cancel(new _util.AbortException(m.message)).catch(()=>{}),c.streamReader=null,!this._transport.destroyed){for(const[p,l]of this._intentStates)if(l===c){this._intentStates.delete(p);break}this.cleanup()}}}get stats(){return this._stats}}exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{#t=new Set;#e=Promise.resolve();postMessage(c,m){const o={data:structuredClone(c,m?{transfer:m}:null)};this.#e.then(()=>{for(const p of this.#t)p.call(this,o)})}addEventListener(c,m){this.#t.add(m)}removeEventListener(c,m){this.#t.delete(m)}terminate(){this.#t.clear()}}exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const a=document?.currentScript?.src;a&&(PDFWorkerUtil.fallbackWorkerSrc=a.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(a,c){let m;try{if(m=new URL(a),!m.origin||m.origin==="null")return!1}catch{return!1}const o=new URL(c,m);return m.origin===o.origin},PDFWorkerUtil.createCDNWrapper=function(a){const c=`importScripts("${a}");`;return URL.createObjectURL(new Blob([c]))}}class PDFWorker{static#workerPorts;constructor({name:a=null,port:c=null,verbosity:m=(0,_util.getVerbosityLevel)()}={}){if(this.name=a,this.destroyed=!1,this.verbosity=m,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,c){if(PDFWorker.#workerPorts?.has(c))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(c,this),this._initializeFromPort(c);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(a){this._port=a,this._messageHandler=new _message_handler.MessageHandler("main","worker",a),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:a}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,a)||(a=PDFWorkerUtil.createCDNWrapper(new URL(a,window.location).href));const c=new Worker(a),m=new _message_handler.MessageHandler("main","worker",c),o=()=>{c.removeEventListener("error",p),m.destroy(),c.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},p=()=>{this._webWorker||o()};c.addEventListener("error",p),m.on("test",T=>{if(c.removeEventListener("error",p),this.destroyed){o();return}T?(this._messageHandler=m,this._port=c,this._webWorker=c,this._readyCapability.resolve(),m.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),m.destroy(),c.terminate())}),m.on("ready",T=>{if(c.removeEventListener("error",p),this.destroyed){o();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const T=new Uint8Array;m.send("test",T,[T.buffer])};l();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(a=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const c=new LoopbackPort;this._port=c;const m=`fake${PDFWorkerUtil.fakeWorkerId++}`,o=new _message_handler.MessageHandler(m+"_worker",m,c);a.setup(o,c);const p=new _message_handler.MessageHandler(m,m+"_worker",c);this._messageHandler=p,this._readyCapability.resolve(),p.send("configure",{verbosity:this.verbosity})}).catch(a=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${a.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(a){if(!a?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const c=this.#workerPorts?.get(a.port);if(c){if(c._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return c}return new PDFWorker(a)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports$1.PDFWorker=PDFWorker;class WorkerTransport{#t=new Map;#e=new Map;#n=new Map;#i=null;constructor(c,m,o,p,l){this.messageHandler=c,this.loadingTask=m,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:p.ownerDocument,styleElement:p.styleElement}),this._params=p,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=o,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#o(c,m=null){const o=this.#t.get(c);if(o)return o;const p=this.messageHandler.sendWithPromise(c,m);return this.#t.set(c,p),p}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(c,m=_util.AnnotationMode.ENABLE,o=null,p=!1){let l=_util.RenderingIntentFlag.DISPLAY,T=_annotation_storage.SerializableEmpty;switch(c){case"any":l=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":l=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${c}`)}switch(m){case _util.AnnotationMode.DISABLE:l+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:l+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:l+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,T=(l&_util.RenderingIntentFlag.PRINT&&o instanceof _annotation_storage.PrintAnnotationStorage?o:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${m}`)}return p&&(l+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:l,cacheKey:`${l}_${T.hash}`,annotationStorageSerializable:T}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));const c=[];for(const o of this.#e.values())c.push(o._destroy());this.#e.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const m=this.messageHandler.sendWithPromise("Terminate",null);return c.push(m),Promise.all(c).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:c,loadingTask:m}=this;c.on("GetReader",(o,p)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},p.onPull=()=>{this._fullReader.read().then(function({value:l,done:T}){if(T){p.close();return}(0,_util.assert)(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),p.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{p.error(l)})},p.onCancel=l=>{this._fullReader.cancel(l),p.ready.catch(T=>{if(!this.destroyed)throw T})}}),c.on("ReaderHeadersReady",o=>{const p=new _util.PromiseCapability,l=this._fullReader;return l.headersReady.then(()=>{(!l.isStreamingSupported||!l.isRangeSupported)&&(this._lastProgress&&m.onProgress?.(this._lastProgress),l.onProgress=T=>{m.onProgress?.({loaded:T.loaded,total:T.total})}),p.resolve({isStreamingSupported:l.isStreamingSupported,isRangeSupported:l.isRangeSupported,contentLength:l.contentLength})},p.reject),p.promise}),c.on("GetRangeReader",(o,p)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(o.begin,o.end);if(!l){p.close();return}p.onPull=()=>{l.read().then(function({value:T,done:F}){if(F){p.close();return}(0,_util.assert)(T instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),p.enqueue(new Uint8Array(T),1,[T])}).catch(T=>{p.error(T)})},p.onCancel=T=>{l.cancel(T),p.ready.catch(F=>{if(!this.destroyed)throw F})}}),c.on("GetDoc",({pdfInfo:o})=>{this._numPages=o.numPages,this._htmlForXfa=o.htmlForXfa,delete o.htmlForXfa,m._capability.resolve(new PDFDocumentProxy(o,this))}),c.on("DocException",function(o){let p;switch(o.name){case"PasswordException":p=new _util.PasswordException(o.message,o.code);break;case"InvalidPDFException":p=new _util.InvalidPDFException(o.message);break;case"MissingPDFException":p=new _util.MissingPDFException(o.message);break;case"UnexpectedResponseException":p=new _util.UnexpectedResponseException(o.message,o.status);break;case"UnknownErrorException":p=new _util.UnknownErrorException(o.message,o.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}m._capability.reject(p)}),c.on("PasswordRequest",o=>{if(this.#i=new _util.PromiseCapability,m.onPassword){const p=l=>{l instanceof Error?this.#i.reject(l):this.#i.resolve({password:l})};try{m.onPassword(p,o.code)}catch(l){this.#i.reject(l)}}else this.#i.reject(new _util.PasswordException(o.message,o.code));return this.#i.promise}),c.on("DataLoaded",o=>{m.onProgress?.({loaded:o.length,total:o.length}),this.downloadInfoCapability.resolve(o)}),c.on("StartRenderPage",o=>{if(this.destroyed)return;this.#e.get(o.pageIndex)._startRenderPage(o.transparency,o.cacheKey)}),c.on("commonobj",([o,p,l])=>{if(!this.destroyed&&!this.commonObjs.has(o))switch(p){case"Font":const T=this._params;if("error"in l){const d=l.error;(0,_util.warn)(`Error during font loading: ${d}`),this.commonObjs.resolve(o,d);break}const F=T.pdfBug&&globalThis.FontInspector?.enabled?(d,s)=>globalThis.FontInspector.fontAdded(d,s):null,D=new _font_loader.FontFaceObject(l,{isEvalSupported:T.isEvalSupported,disableFontFace:T.disableFontFace,ignoreErrors:T.ignoreErrors,inspectFont:F});this.fontLoader.bind(D).catch(d=>c.sendWithPromise("FontFallback",{id:o})).finally(()=>{!T.fontExtraProperties&&D.data&&(D.data=null),this.commonObjs.resolve(o,D)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(o,l);break;default:throw new Error(`Got unknown common object type ${p}`)}}),c.on("obj",([o,p,l,T])=>{if(this.destroyed)return;const F=this.#e.get(p);if(!F.objs.has(o))switch(l){case"Image":if(F.objs.resolve(o,T),T){let D;if(T.bitmap){const{width:d,height:s}=T;D=d*s*4}else D=T.data?.length||0;D>_util.MAX_IMAGE_SIZE_TO_CACHE&&(F._maybeCleanupAfterRender=!0)}break;case"Pattern":F.objs.resolve(o,T);break;default:throw new Error(`Got unknown object type ${l}`)}}),c.on("DocProgress",o=>{this.destroyed||m.onProgress?.({loaded:o.loaded,total:o.total})}),c.on("FetchBuiltInCMap",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(o):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),c.on("FetchStandardFontData",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(o):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:c,transfers:m}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:c,filename:this._fullReader?.filename??null},m).finally(()=>{this.annotationStorage.resetModified()})}getPage(c){if(!Number.isInteger(c)||c<=0||c>this._numPages)return Promise.reject(new Error("Invalid page request."));const m=c-1,o=this.#n.get(m);if(o)return o;const p=this.messageHandler.sendWithPromise("GetPage",{pageIndex:m}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");const T=new PDFPageProxy(m,l,this,this._params.pdfBug);return this.#e.set(m,T),T});return this.#n.set(m,p),p}getPageIndex(c){return typeof c!="object"||c===null||!Number.isInteger(c.num)||c.num<0||!Number.isInteger(c.gen)||c.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:c.num,gen:c.gen})}getAnnotations(c,m){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:c,intent:m})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(c){return typeof c!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:c})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(c){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:c})}getStructTree(c){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:c})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(c=>new _optional_content_config.OptionalContentConfig(c))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const c="GetMetadata",m=this.#t.get(c);if(m)return m;const o=this.messageHandler.sendWithPromise(c,null).then(p=>({info:p[0],metadata:p[1]?new _metadata.Metadata(p[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(c,o),o}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(c=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const m of this.#e.values())if(!m.cleanup())throw new Error(`startCleanup: Page ${m.pageNumber} is currently rendering.`);this.commonObjs.clear(),c||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:c,enableXfa:m}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:c,enableXfa:m})}}class PDFObjects{#t=Object.create(null);#e(c){return this.#t[c]||={capability:new _util.PromiseCapability,data:null}}get(c,m=null){if(m){const p=this.#e(c);return p.capability.promise.then(()=>m(p.data)),null}const o=this.#t[c];if(!o?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${c}.`);return o.data}has(c){return this.#t[c]?.capability.settled||!1}resolve(c,m=null){const o=this.#e(c);o.data=m,o.capability.resolve()}clear(){for(const c in this.#t){const{data:m}=this.#t[c];m?.bitmap?.close()}this.#t=Object.create(null)}}class RenderTask{#t=null;constructor(c){this.#t=c,this.onContinue=null}get promise(){return this.#t.capability.promise}cancel(c=0){this.#t.cancel(null,c)}get separateAnnots(){const{separateAnnots:c}=this.#t.operatorList;if(!c)return!1;const{annotationCanvasMap:m}=this.#t;return c.form||c.canvas&&m?.size>0}}exports$1.RenderTask=RenderTask;class InternalRenderTask{static#t=new WeakSet;constructor({callback:c,params:m,objs:o,commonObjs:p,annotationCanvasMap:l,operatorList:T,pageIndex:F,canvasFactory:D,filterFactory:d,useRequestAnimationFrame:s=!1,pdfBug:h=!1,pageColors:_=null}){this.callback=c,this.params=m,this.objs=o,this.commonObjs=p,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=T,this._pageIndex=F,this.canvasFactory=D,this.filterFactory=d,this._pdfBug=h,this.pageColors=_,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=s===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=m.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:c=!1,optionalContentConfig:m}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:o,viewport:p,transform:l,background:T}=this.params;this.gfx=new _canvas.CanvasGraphics(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:m},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:p,transparency:c,background:T}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(c=null,m=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#t.delete(this._canvas),this.callback(c||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,m))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#t.delete(this._canvas),this.callback())))}}const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SerializableEmpty=c.PrintAnnotationStorage=c.AnnotationStorage=void 0;var o=m(1),p=m(4),l=m(8);const T=Object.freeze({map:null,hash:"",transfers:void 0});c.SerializableEmpty=T;class F{#t=!1;#e=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(s,h){const _=this.#e.get(s);return _===void 0?h:Object.assign(h,_)}getRawValue(s){return this.#e.get(s)}remove(s){if(this.#e.delete(s),this.#e.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const h of this.#e.values())if(h instanceof p.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(s,h){const _=this.#e.get(s);let b=!1;if(_!==void 0)for(const[f,S]of Object.entries(h))_[f]!==S&&(b=!0,_[f]=S);else b=!0,this.#e.set(s,h);b&&this.#n(),h instanceof p.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(h.constructor._type)}has(s){return this.#e.has(s)}getAll(){return this.#e.size>0?(0,o.objectFromMap)(this.#e):null}setAll(s){for(const[h,_]of Object.entries(s))this.setValue(h,_)}get size(){return this.#e.size}#n(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new D(this)}get serializable(){if(this.#e.size===0)return T;const s=new Map,h=new l.MurmurHash3_64,_=[],b=Object.create(null);let f=!1;for(const[S,R]of this.#e){const g=R instanceof p.AnnotationEditor?R.serialize(!1,b):R;g&&(s.set(S,g),h.update(`${S}:${JSON.stringify(g)}`),f||=!!g.bitmap)}if(f)for(const S of s.values())S.bitmap&&_.push(S.bitmap);return s.size>0?{map:s,hash:h.hexdigest(),transfers:_}:T}}c.AnnotationStorage=F;class D extends F{#t;constructor(s){super();const{map:h,hash:_,transfers:b}=s.serializable,f=structuredClone(h,b?{transfer:b}:null);this.#t={map:f,hash:_,transfers:b}}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}}c.PrintAnnotationStorage=D}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationEditor=void 0;var o=m(5),p=m(1),l=m(6);class T{#t="";#e=!1;#n=null;#i=null;#o=null;#s=!1;#r=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#a=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=T._zIndex++;static _borderLineWidth=-1;static _colorManager=new o.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(d){this.constructor===T&&(0,p.unreachable)("Cannot initialize AnnotationEditor."),this.parent=d.parent,this.id=d.id,this.width=this.height=null,this.pageIndex=d.parent.pageIndex,this.name=d.name,this.div=null,this._uiManager=d.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=d.isCentered,this._structTreeParentId=null;const{rotation:s,rawDims:{pageWidth:h,pageHeight:_,pageX:b,pageY:f}}=this.parent.viewport;this.rotation=s,this.pageRotation=(360+s-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[h,_],this.pageTranslation=[b,f];const[S,R]=this.parentDimensions;this.x=d.x/S,this.y=d.y/R,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,p.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(d){const s=new F({id:d.parent.getNextId(),parent:d.parent,uiManager:d._uiManager});s.annotationElementId=d.annotationElementId,s.deleted=!0,s._uiManager.addToAnnotationStorage(s)}static initialize(d,s=null){if(T._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(_=>[_,d.get(_)])),s?.strings)for(const _ of s.strings)T._l10nPromise.set(_,d.get(_));if(T._borderLineWidth!==-1)return;const h=getComputedStyle(document.documentElement);T._borderLineWidth=parseFloat(h.getPropertyValue("--outline-width"))||0}static updateDefaultParams(d,s){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(d){return!1}static paste(d,s){(0,p.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(d){this.#h=d,this.div?.classList.toggle("draggable",d)}center(){const[d,s]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*s/(d*2),this.y+=this.width*d/(s*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*s/(d*2),this.y-=this.width*d/(s*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(d){this._uiManager.addCommands(d)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(d){d!==null&&(this.pageIndex=d.pageIndex,this.pageDimensions=d.pageDimensions),this.parent=d}focusin(d){this._focusEventsAllowed&&(this.#a?this.#a=!1:this.parent.setSelected(this))}focusout(d){!this._focusEventsAllowed||!this.isAttachedToDOM||d.relatedTarget?.closest(`#${this.id}`)||(d.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(d,s,h,_){const[b,f]=this.parentDimensions;[h,_]=this.screenToPageTranslation(h,_),this.x=(d+h)/b,this.y=(s+_)/f,this.fixAndSetPosition()}#v([d,s],h,_){[h,_]=this.screenToPageTranslation(h,_),this.x+=h/d,this.y+=_/s,this.fixAndSetPosition()}translate(d,s){this.#v(this.parentDimensions,d,s)}translateInPage(d,s){this.#v(this.pageDimensions,d,s),this.div.scrollIntoView({block:"nearest"})}drag(d,s){const[h,_]=this.parentDimensions;if(this.x+=d/h,this.y+=s/_,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:O}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,O)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:b,y:f}=this;const[S,R]=this.#g();b+=S,f+=R,this.div.style.left=`${(100*b).toFixed(2)}%`,this.div.style.top=`${(100*f).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#g(){const[d,s]=this.parentDimensions,{_borderLineWidth:h}=T,_=h/d,b=h/s;switch(this.rotation){case 90:return[-_,b];case 180:return[_,b];case 270:return[_,-b];default:return[-_,-b]}}fixAndSetPosition(){const[d,s]=this.pageDimensions;let{x:h,y:_,width:b,height:f}=this;switch(b*=d,f*=s,h*=d,_*=s,this.rotation){case 0:h=Math.max(0,Math.min(d-b,h)),_=Math.max(0,Math.min(s-f,_));break;case 90:h=Math.max(0,Math.min(d-f,h)),_=Math.min(s,Math.max(b,_));break;case 180:h=Math.min(d,Math.max(b,h)),_=Math.min(s,Math.max(f,_));break;case 270:h=Math.min(d,Math.max(f,h)),_=Math.max(0,Math.min(s-b,_));break}this.x=h/=d,this.y=_/=s;const[S,R]=this.#g();h+=S,_+=R;const{style:g}=this.div;g.left=`${(100*h).toFixed(2)}%`,g.top=`${(100*_).toFixed(2)}%`,this.moveInDOM()}static#m(d,s,h){switch(h){case 90:return[s,-d];case 180:return[-d,-s];case 270:return[-s,d];default:return[d,s]}}screenToPageTranslation(d,s){return T.#m(d,s,this.parentRotation)}pageTranslationToScreen(d,s){return T.#m(d,s,360-this.parentRotation)}#u(d){switch(d){case 90:{const[s,h]=this.pageDimensions;return[0,-s/h,h/s,0]}case 180:return[-1,0,0,-1];case 270:{const[s,h]=this.pageDimensions;return[0,s/h,-h/s,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:d,pageDimensions:[s,h]}=this,_=s*d,b=h*d;return p.FeatureTest.isCSSRoundSupported?[Math.round(_),Math.round(b)]:[_,b]}setDims(d,s){const[h,_]=this.parentDimensions;this.div.style.width=`${(100*d/h).toFixed(2)}%`,this.#s||(this.div.style.height=`${(100*s/_).toFixed(2)}%`),this.#n?.classList.toggle("small",d<T.SMALL_EDITOR_SIZE||s<T.SMALL_EDITOR_SIZE)}fixDims(){const{style:d}=this.div,{height:s,width:h}=d,_=h.endsWith("%"),b=!this.#s&&s.endsWith("%");if(_&&b)return;const[f,S]=this.parentDimensions;_||(d.width=`${(100*parseFloat(h)/f).toFixed(2)}%`),!this.#s&&!b&&(d.height=`${(100*parseFloat(s)/S).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#b(){if(this.#r)return;this.#r=document.createElement("div"),this.#r.classList.add("resizers");const d=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||d.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const s of d){const h=document.createElement("div");this.#r.append(h),h.classList.add("resizer",s),h.addEventListener("pointerdown",this.#A.bind(this,s)),h.addEventListener("contextmenu",l.noContextMenu)}this.div.prepend(this.#r)}#A(d,s){s.preventDefault();const{isMac:h}=p.FeatureTest.platform;if(s.button!==0||s.ctrlKey&&h)return;const _=this.#S.bind(this,d),b=this._isDraggable;this._isDraggable=!1;const f={passive:!0,capture:!0};window.addEventListener("pointermove",_,f);const S=this.x,R=this.y,g=this.width,O=this.height,I=this.parent.div.style.cursor,q=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(s.target).cursor;const w=()=>{this._isDraggable=b,window.removeEventListener("pointerup",w),window.removeEventListener("blur",w),window.removeEventListener("pointermove",_,f),this.parent.div.style.cursor=I,this.div.style.cursor=q;const z=this.x,Z=this.y,et=this.width,K=this.height;z===S&&Z===R&&et===g&&K===O||this.addCommands({cmd:()=>{this.width=et,this.height=K,this.x=z,this.y=Z;const[ht,nt]=this.parentDimensions;this.setDims(ht*et,nt*K),this.fixAndSetPosition()},undo:()=>{this.width=g,this.height=O,this.x=S,this.y=R;const[ht,nt]=this.parentDimensions;this.setDims(ht*g,nt*O),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",w),window.addEventListener("blur",w)}#S(d,s){const[h,_]=this.parentDimensions,b=this.x,f=this.y,S=this.width,R=this.height,g=T.MIN_SIZE/h,O=T.MIN_SIZE/_,I=H=>Math.round(H*1e4)/1e4,q=this.#u(this.rotation),w=(H,v)=>[q[0]*H+q[2]*v,q[1]*H+q[3]*v],z=this.#u(360-this.rotation),Z=(H,v)=>[z[0]*H+z[2]*v,z[1]*H+z[3]*v];let et,K,ht=!1,nt=!1;switch(d){case"topLeft":ht=!0,et=(H,v)=>[0,0],K=(H,v)=>[H,v];break;case"topMiddle":et=(H,v)=>[H/2,0],K=(H,v)=>[H/2,v];break;case"topRight":ht=!0,et=(H,v)=>[H,0],K=(H,v)=>[0,v];break;case"middleRight":nt=!0,et=(H,v)=>[H,v/2],K=(H,v)=>[0,v/2];break;case"bottomRight":ht=!0,et=(H,v)=>[H,v],K=(H,v)=>[0,0];break;case"bottomMiddle":et=(H,v)=>[H/2,v],K=(H,v)=>[H/2,0];break;case"bottomLeft":ht=!0,et=(H,v)=>[0,v],K=(H,v)=>[H,0];break;case"middleLeft":nt=!0,et=(H,v)=>[0,v/2],K=(H,v)=>[H,v/2];break}const yt=et(S,R),mt=K(S,R);let Et=w(...mt);const Rt=I(b+Et[0]),X=I(f+Et[1]);let j=1,M=1,[A,x]=this.screenToPageTranslation(s.movementX,s.movementY);if([A,x]=Z(A/h,x/_),ht){const H=Math.hypot(S,R);j=M=Math.max(Math.min(Math.hypot(mt[0]-yt[0]-A,mt[1]-yt[1]-x)/H,1/S,1/R),g/S,O/R)}else nt?j=Math.max(g,Math.min(1,Math.abs(mt[0]-yt[0]-A)))/S:M=Math.max(O,Math.min(1,Math.abs(mt[1]-yt[1]-x)))/R;const y=I(S*j),L=I(R*M);Et=w(...K(y,L));const B=Rt-Et[0],G=X-Et[1];this.width=y,this.height=L,this.x=B,this.y=G,this.setDims(h*y,_*L),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const d=this.#n=document.createElement("button");d.className="altText";const s=await T._l10nPromise.get("editor_alt_text_button_label");d.textContent=s,d.setAttribute("aria-label",s),d.tabIndex="0",d.addEventListener("contextmenu",l.noContextMenu),d.addEventListener("pointerdown",h=>h.stopPropagation()),d.addEventListener("click",h=>{h.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),d.addEventListener("keydown",h=>{h.target===d&&h.key==="Enter"&&(h.preventDefault(),this._uiManager.editAltText(this))}),this.#R(),this.div.append(d),T.SMALL_EDITOR_SIZE||(T.SMALL_EDITOR_SIZE=Math.min(128,Math.round(d.getBoundingClientRect().width*1.4)))}async#R(){const d=this.#n;if(!d)return;if(!this.#t&&!this.#e){d.classList.remove("done"),this.#i?.remove();return}T._l10nPromise.get("editor_alt_text_edit_button_label").then(h=>{d.setAttribute("aria-label",h)});let s=this.#i;if(!s){this.#i=s=document.createElement("span"),s.className="tooltip",s.setAttribute("role","tooltip");const h=s.id=`alt-text-tooltip-${this.id}`;d.setAttribute("aria-describedby",h);const _=100;d.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#i.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},_)}),d.addEventListener("mouseleave",()=>{clearTimeout(this.#o),this.#o=null,this.#i?.classList.remove("show")})}d.classList.add("done"),s.innerText=this.#e?await T._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#t,s.parentNode||d.append(s)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#t,decorative:this.#e}}set altTextData({altText:d,decorative:s}){this.#t===d&&this.#e===s||(this.#t=d,this.#e=s,this.#R())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);const[d,s]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*s/d).toFixed(2)}%`,this.div.style.maxHeight=`${(100*d/s).toFixed(2)}%`);const[h,_]=this.getInitialTranslation();return this.translate(h,_),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(d){const{isMac:s}=p.FeatureTest.platform;if(d.button!==0||d.ctrlKey&&s){d.preventDefault();return}this.#a=!0,this.#T(d)}#T(d){if(!this._isDraggable)return;const s=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let h,_;s&&(h={passive:!0,capture:!0},_=f=>{const[S,R]=this.screenToPageTranslation(f.movementX,f.movementY);this._uiManager.dragSelectedEditors(S,R)},window.addEventListener("pointermove",_,h));const b=()=>{if(window.removeEventListener("pointerup",b),window.removeEventListener("blur",b),s&&window.removeEventListener("pointermove",_,h),this.#a=!1,!this._uiManager.endDragSession()){const{isMac:f}=p.FeatureTest.platform;d.ctrlKey&&!f||d.shiftKey||d.metaKey&&f?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",b),window.addEventListener("blur",b)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(d,s,h){d.changeParent(this),this.x=s,this.y=h,this.fixAndSetPosition()}getRect(d,s){const h=this.parentScale,[_,b]=this.pageDimensions,[f,S]=this.pageTranslation,R=d/h,g=s/h,O=this.x*_,I=this.y*b,q=this.width*_,w=this.height*b;switch(this.rotation){case 0:return[O+R+f,b-I-g-w+S,O+R+q+f,b-I-g+S];case 90:return[O+g+f,b-I+R+S,O+g+w+f,b-I+R+q+S];case 180:return[O-R-q+f,b-I+g+S,O-R+f,b-I+g+w+S];case 270:return[O-g-w+f,b-I-R-q+S,O-g+f,b-I-R+S];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(d,s){const[h,_,b,f]=d,S=b-h,R=f-_;switch(this.rotation){case 0:return[h,s-f,S,R];case 90:return[h,s-_,R,S];case 180:return[b,s-_,S,R];case 270:return[b,s-f,R,S];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(d=!1,s=null){(0,p.unreachable)("An editor must be serializable")}static deserialize(d,s,h){const _=new this.prototype.constructor({parent:s,id:s.getNextId(),uiManager:h});_.rotation=d.rotation;const[b,f]=_.pageDimensions,[S,R,g,O]=_.getRectInCurrentCoords(d.rect,f);return _.x=S/b,_.y=R/f,_.width=g/b,_.height=O/f,_}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#i=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#b(),this.#r.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#r?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(d,s){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(d){this.#f=d,this.parent&&(d?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(d,s){this.#s=!0;const h=d/s,{style:_}=this.div;_.aspectRatio=h,_.height="auto"}static get MIN_SIZE(){return 16}}c.AnnotationEditor=T;class F extends T{constructor(d){super(d),this.annotationElementId=d.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.KeyboardManager=c.CommandManager=c.ColorManager=c.AnnotationEditorUIManager=void 0,c.bindEvents=l,c.opacityToHex=T;var o=m(1),p=m(6);function l(b,f,S){for(const R of S)f.addEventListener(R,b[R].bind(b))}function T(b){return Math.round(Math.min(255,Math.max(1,255*b))).toString(16).padStart(2,"0")}class F{#t=0;getId(){return`${o.AnnotationEditorPrefix}${this.#t++}`}}class D{#t=(0,o.getUuid)();#e=0;#n=null;static get _isSVGFittingCanvas(){const f='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',R=new OffscreenCanvas(1,3).getContext("2d"),g=new Image;g.src=f;const O=g.decode().then(()=>(R.drawImage(g,0,0,1,1,0,0,1,3),new Uint32Array(R.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",O)}async#i(f,S){this.#n||=new Map;let R=this.#n.get(f);if(R===null)return null;if(R?.bitmap)return R.refCounter+=1,R;try{R||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let g;if(typeof S=="string"){R.url=S;const O=await fetch(S);if(!O.ok)throw new Error(O.statusText);g=await O.blob()}else g=R.file=S;if(g.type==="image/svg+xml"){const O=D._isSVGFittingCanvas,I=new FileReader,q=new Image,w=new Promise((z,Z)=>{q.onload=()=>{R.bitmap=q,R.isSvg=!0,z()},I.onload=async()=>{const et=R.svgUrl=I.result;q.src=await O?`${et}#svgView(preserveAspectRatio(none))`:et},q.onerror=I.onerror=Z});I.readAsDataURL(g),await w}else R.bitmap=await createImageBitmap(g);R.refCounter=1}catch(g){console.error(g),R=null}return this.#n.set(f,R),R&&this.#n.set(R.id,R),R}async getFromFile(f){const{lastModified:S,name:R,size:g,type:O}=f;return this.#i(`${S}_${R}_${g}_${O}`,f)}async getFromUrl(f){return this.#i(f,f)}async getFromId(f){this.#n||=new Map;const S=this.#n.get(f);return S?S.bitmap?(S.refCounter+=1,S):S.file?this.getFromFile(S.file):this.getFromUrl(S.url):null}getSvgUrl(f){const S=this.#n.get(f);return S?.isSvg?S.svgUrl:null}deleteId(f){this.#n||=new Map;const S=this.#n.get(f);S&&(S.refCounter-=1,S.refCounter===0&&(S.bitmap=null))}isValidId(f){return f.startsWith(`image_${this.#t}_`)}}class d{#t=[];#e=!1;#n;#i=-1;constructor(f=128){this.#n=f}add({cmd:f,undo:S,mustExec:R,type:g=NaN,overwriteIfSameType:O=!1,keepUndo:I=!1}){if(R&&f(),this.#e)return;const q={cmd:f,undo:S,type:g};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(q);return}if(O&&this.#t[this.#i].type===g){I&&(q.undo=this.#t[this.#i].undo),this.#t[this.#i]=q;return}const w=this.#i+1;w===this.#n?this.#t.splice(0,1):(this.#i=w,w<this.#t.length&&this.#t.splice(w)),this.#t.push(q)}undo(){this.#i!==-1&&(this.#e=!0,this.#t[this.#i].undo(),this.#e=!1,this.#i-=1)}redo(){this.#i<this.#t.length-1&&(this.#i+=1,this.#e=!0,this.#t[this.#i].cmd(),this.#e=!1)}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}destroy(){this.#t=null}}c.CommandManager=d;class s{constructor(f){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:S}=o.FeatureTest.platform;for(const[R,g,O={}]of f)for(const I of R){const q=I.startsWith("mac+");S&&q?(this.callbacks.set(I.slice(4),{callback:g,options:O}),this.allKeys.add(I.split("+").at(-1))):!S&&!q&&(this.callbacks.set(I,{callback:g,options:O}),this.allKeys.add(I.split("+").at(-1)))}}#t(f){f.altKey&&this.buffer.push("alt"),f.ctrlKey&&this.buffer.push("ctrl"),f.metaKey&&this.buffer.push("meta"),f.shiftKey&&this.buffer.push("shift"),this.buffer.push(f.key);const S=this.buffer.join("+");return this.buffer.length=0,S}exec(f,S){if(!this.allKeys.has(S.key))return;const R=this.callbacks.get(this.#t(S));if(!R)return;const{callback:g,options:{bubbles:O=!1,args:I=[],checker:q=null}}=R;q&&!q(f,S)||(g.bind(f,...I)(),O||(S.stopPropagation(),S.preventDefault()))}}c.KeyboardManager=s;class h{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const f=new Map([["CanvasText",null],["Canvas",null]]);return(0,p.getColorValues)(f),(0,o.shadow)(this,"_colors",f)}convert(f){const S=(0,p.getRGB)(f);if(!window.matchMedia("(forced-colors: active)").matches)return S;for(const[R,g]of this._colors)if(g.every((O,I)=>O===S[I]))return h._colorsMapping.get(R);return S}getHexCode(f){const S=this._colors.get(f);return S?o.Util.makeHexColor(...S):f}}c.ColorManager=h;class _{#t=null;#e=new Map;#n=new Map;#i=null;#o=null;#s=new d;#r=0;#l=new Set;#c=null;#a=null;#f=new Set;#d=null;#h=new F;#p=!1;#v=!1;#g=null;#m=o.AnnotationEditorType.NONE;#u=new Set;#b=null;#A=this.blur.bind(this);#S=this.focus.bind(this);#R=this.copy.bind(this);#T=this.cut.bind(this);#P=this.paste.bind(this);#N=this.keydown.bind(this);#F=this.onEditingAction.bind(this);#y=this.onPageChanging.bind(this);#L=this.onScaleChanging.bind(this);#M=this.onRotationChanging.bind(this);#k={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#_=[0,0];#w=null;#C=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const f=_.prototype,S=O=>{const{activeElement:I}=document;return I&&O.#C.contains(I)&&O.hasSomethingToControl()},R=this.TRANSLATE_SMALL,g=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new s([[["ctrl+a","mac+meta+a"],f.selectAll],[["ctrl+z","mac+meta+z"],f.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],f.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],f.delete],[["Escape","mac+Escape"],f.unselectAll],[["ArrowLeft","mac+ArrowLeft"],f.translateSelectedEditors,{args:[-R,0],checker:S}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],f.translateSelectedEditors,{args:[-g,0],checker:S}],[["ArrowRight","mac+ArrowRight"],f.translateSelectedEditors,{args:[R,0],checker:S}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],f.translateSelectedEditors,{args:[g,0],checker:S}],[["ArrowUp","mac+ArrowUp"],f.translateSelectedEditors,{args:[0,-R],checker:S}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],f.translateSelectedEditors,{args:[0,-g],checker:S}],[["ArrowDown","mac+ArrowDown"],f.translateSelectedEditors,{args:[0,R],checker:S}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],f.translateSelectedEditors,{args:[0,g],checker:S}]]))}constructor(f,S,R,g,O,I){this.#C=f,this.#j=S,this.#i=R,this._eventBus=g,this._eventBus._on("editingaction",this.#F),this._eventBus._on("pagechanging",this.#y),this._eventBus._on("scalechanging",this.#L),this._eventBus._on("rotationchanging",this.#M),this.#o=O.annotationStorage,this.#d=O.filterFactory,this.#b=I,this.viewParameters={realScale:p.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#D(),this.#I(),this._eventBus._off("editingaction",this.#F),this._eventBus._off("pagechanging",this.#y),this._eventBus._off("scalechanging",this.#L),this._eventBus._off("rotationchanging",this.#M);for(const f of this.#n.values())f.destroy();this.#n.clear(),this.#e.clear(),this.#f.clear(),this.#t=null,this.#u.clear(),this.#s.destroy(),this.#i.destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",this.#b?this.#d.addHCMFilter(this.#b.foreground,this.#b.background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(this.#C).direction)}editAltText(f){this.#i?.editAltText(this,f)}onPageChanging({pageNumber:f}){this.#r=f-1}focusMainContainer(){this.#C.focus()}findParent(f,S){for(const R of this.#n.values()){const{x:g,y:O,width:I,height:q}=R.div.getBoundingClientRect();if(f>=g&&f<=g+I&&S>=O&&S<=O+q)return R}return null}disableUserSelect(f=!1){this.#j.classList.toggle("noUserSelect",f)}addShouldRescale(f){this.#f.add(f)}removeShouldRescale(f){this.#f.delete(f)}onScaleChanging({scale:f}){this.commitOrRemove(),this.viewParameters.realScale=f*p.PixelsPerInch.PDF_TO_CSS_UNITS;for(const S of this.#f)S.onScaleChanging()}onRotationChanging({pagesRotation:f}){this.commitOrRemove(),this.viewParameters.rotation=f}addToAnnotationStorage(f){!f.isEmpty()&&this.#o&&!this.#o.has(f.id)&&this.#o.setValue(f.id,f)}#z(){window.addEventListener("focus",this.#S),window.addEventListener("blur",this.#A)}#I(){window.removeEventListener("focus",this.#S),window.removeEventListener("blur",this.#A)}blur(){if(!this.hasSelection)return;const{activeElement:f}=document;for(const S of this.#u)if(S.div.contains(f)){this.#g=[S,f],S._focusEventsAllowed=!1;break}}focus(){if(!this.#g)return;const[f,S]=this.#g;this.#g=null,S.addEventListener("focusin",()=>{f._focusEventsAllowed=!0},{once:!0}),S.focus()}#B(){window.addEventListener("keydown",this.#N,{capture:!0})}#D(){window.removeEventListener("keydown",this.#N,{capture:!0})}#O(){document.addEventListener("copy",this.#R),document.addEventListener("cut",this.#T),document.addEventListener("paste",this.#P)}#x(){document.removeEventListener("copy",this.#R),document.removeEventListener("cut",this.#T),document.removeEventListener("paste",this.#P)}addEditListeners(){this.#B(),this.#O()}removeEditListeners(){this.#D(),this.#x()}copy(f){if(f.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const S=[];for(const R of this.#u){const g=R.serialize(!0);g&&S.push(g)}S.length!==0&&f.clipboardData.setData("application/pdfjs",JSON.stringify(S))}cut(f){this.copy(f),this.delete()}paste(f){f.preventDefault();const{clipboardData:S}=f;for(const O of S.items)for(const I of this.#a)if(I.isHandlingMimeForPasting(O.type)){I.paste(O,this.currentLayer);return}let R=S.getData("application/pdfjs");if(!R)return;try{R=JSON.parse(R)}catch(O){(0,o.warn)(`paste: "${O.message}".`);return}if(!Array.isArray(R))return;this.unselectAll();const g=this.currentLayer;try{const O=[];for(const w of R){const z=g.deserialize(w);if(!z)return;O.push(z)}const I=()=>{for(const w of O)this.#q(w);this.#V(O)},q=()=>{for(const w of O)w.remove()};this.addCommands({cmd:I,undo:q,mustExec:!0})}catch(O){(0,o.warn)(`paste: "${O.message}".`)}}keydown(f){this.getActive()?.shouldGetKeyboardEvents()||_._keyboardManager.exec(this,f)}onEditingAction(f){["undo","redo","delete","selectAll"].includes(f.name)&&this[f.name]()}#E(f){Object.entries(f).some(([R,g])=>this.#k[R]!==g)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#k,f)})}#U(f){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:f})}setEditingState(f){f?(this.#z(),this.#B(),this.#O(),this.#E({isEditing:this.#m!==o.AnnotationEditorType.NONE,isEmpty:this.#H(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#I(),this.#D(),this.#x(),this.#E({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(f){if(!this.#a){this.#a=f;for(const S of this.#a)this.#U(S.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#r)}getLayer(f){return this.#n.get(f)}get currentPageIndex(){return this.#r}addLayer(f){this.#n.set(f.pageIndex,f),this.#p?f.enable():f.disable()}removeLayer(f){this.#n.delete(f.pageIndex)}updateMode(f,S=null){if(this.#m!==f){if(this.#m=f,f===o.AnnotationEditorType.NONE){this.setEditingState(!1),this.#X();return}this.setEditingState(!0),this.#G(),this.unselectAll();for(const R of this.#n.values())R.updateMode(f);if(S){for(const R of this.#e.values())if(R.annotationElementId===S){this.setSelected(R),R.enterInEditMode();break}}}}updateToolbar(f){f!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:f})}updateParams(f,S){if(this.#a){if(f===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(f);return}for(const R of this.#u)R.updateParams(f,S);for(const R of this.#a)R.updateDefaultParams(f,S)}}enableWaiting(f=!1){if(this.#v!==f){this.#v=f;for(const S of this.#n.values())f?S.disableClick():S.enableClick(),S.div.classList.toggle("waiting",f)}}#G(){if(!this.#p){this.#p=!0;for(const f of this.#n.values())f.enable()}}#X(){if(this.unselectAll(),this.#p){this.#p=!1;for(const f of this.#n.values())f.disable()}}getEditors(f){const S=[];for(const R of this.#e.values())R.pageIndex===f&&S.push(R);return S}getEditor(f){return this.#e.get(f)}addEditor(f){this.#e.set(f.id,f)}removeEditor(f){this.#e.delete(f.id),this.unselect(f),(!f.annotationElementId||!this.#l.has(f.annotationElementId))&&this.#o?.remove(f.id)}addDeletedAnnotationElement(f){this.#l.add(f.annotationElementId),f.deleted=!0}isDeletedAnnotationElement(f){return this.#l.has(f)}removeDeletedAnnotationElement(f){this.#l.delete(f.annotationElementId),f.deleted=!1}#q(f){const S=this.#n.get(f.pageIndex);S?S.addOrRebuild(f):this.addEditor(f)}setActiveEditor(f){this.#t!==f&&(this.#t=f,f&&this.#U(f.propertiesToUpdate))}toggleSelected(f){if(this.#u.has(f)){this.#u.delete(f),f.unselect(),this.#E({hasSelectedEditor:this.hasSelection});return}this.#u.add(f),f.select(),this.#U(f.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}setSelected(f){for(const S of this.#u)S!==f&&S.unselect();this.#u.clear(),this.#u.add(f),f.select(),this.#U(f.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}isSelected(f){return this.#u.has(f)}unselect(f){f.unselect(),this.#u.delete(f),this.#E({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#s.undo(),this.#E({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#H()})}redo(){this.#s.redo(),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#H()})}addCommands(f){this.#s.add(f),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#H()})}#H(){if(this.#e.size===0)return!0;if(this.#e.size===1)for(const f of this.#e.values())return f.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const f=[...this.#u],S=()=>{for(const g of f)g.remove()},R=()=>{for(const g of f)this.#q(g)};this.addCommands({cmd:S,undo:R,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#V(f){this.#u.clear();for(const S of f)S.isEmpty()||(this.#u.add(S),S.select());this.#E({hasSelectedEditor:!0})}selectAll(){for(const f of this.#u)f.commit();this.#V(this.#e.values())}unselectAll(){if(this.#t){this.#t.commitOrRemove();return}if(this.hasSelection){for(const f of this.#u)f.unselect();this.#u.clear(),this.#E({hasSelectedEditor:!1})}}translateSelectedEditors(f,S,R=!1){if(R||this.commitOrRemove(),!this.hasSelection)return;this.#_[0]+=f,this.#_[1]+=S;const[g,O]=this.#_,I=[...this.#u],q=1e3;this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.#w=null,this.#_[0]=this.#_[1]=0,this.addCommands({cmd:()=>{for(const w of I)this.#e.has(w.id)&&w.translateInPage(g,O)},undo:()=>{for(const w of I)this.#e.has(w.id)&&w.translateInPage(-g,-O)},mustExec:!1})},q);for(const w of I)w.translateInPage(f,S)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(const f of this.#u)this.#c.set(f,{savedX:f.x,savedY:f.y,savedPageIndex:f.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);const f=this.#c;this.#c=null;let S=!1;for(const[{x:g,y:O,pageIndex:I},q]of f)q.newX=g,q.newY=O,q.newPageIndex=I,S||=g!==q.savedX||O!==q.savedY||I!==q.savedPageIndex;if(!S)return!1;const R=(g,O,I,q)=>{if(this.#e.has(g.id)){const w=this.#n.get(q);w?g._setParentAndPosition(w,O,I):(g.pageIndex=q,g.x=O,g.y=I)}};return this.addCommands({cmd:()=>{for(const[g,{newX:O,newY:I,newPageIndex:q}]of f)R(g,O,I,q)},undo:()=>{for(const[g,{savedX:O,savedY:I,savedPageIndex:q}]of f)R(g,O,I,q)},mustExec:!0}),!0}dragSelectedEditors(f,S){if(this.#c)for(const R of this.#c.keys())R.drag(f,S)}rebuild(f){if(f.parent===null){const S=this.getLayer(f.pageIndex);S?(S.changeParent(f),S.addOrRebuild(f)):(this.addEditor(f),this.addToAnnotationStorage(f),f.rebuild())}else f.parent.addOrRebuild(f)}isActive(f){return this.#t===f}getActive(){return this.#t}getMode(){return this.#m}get imageManager(){return(0,o.shadow)(this,"imageManager",new D)}}c.AnnotationEditorUIManager=_}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StatTimer=c.RenderingCancelledException=c.PixelsPerInch=c.PageViewport=c.PDFDateString=c.DOMStandardFontDataFactory=c.DOMSVGFactory=c.DOMFilterFactory=c.DOMCanvasFactory=c.DOMCMapReaderFactory=void 0,c.deprecated=Z,c.getColorValues=yt,c.getCurrentTransform=mt,c.getCurrentTransformInverse=Et,c.getFilenameFromUrl=g,c.getPdfFilenameFromUrl=O,c.getRGB=nt,c.getXfaPageViewport=ht,c.isDataScheme=S,c.isPdfFile=R,c.isValidFetchUrl=q,c.loadScript=z,c.noContextMenu=w,c.setLayerDimensions=Rt;var o=m(7),p=m(1);const l="http://www.w3.org/2000/svg";class T{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}c.PixelsPerInch=T;class F extends o.BaseFilterFactory{#t;#e;#n;#i;#o;#s;#r;#l;#c;#a;#f=0;constructor({docId:j,ownerDocument:M=globalThis.document}={}){super(),this.#n=j,this.#i=M}get#d(){return this.#t||=new Map}get#h(){if(!this.#e){const j=this.#i.createElement("div"),{style:M}=j;M.visibility="hidden",M.contain="strict",M.width=M.height=0,M.position="absolute",M.top=M.left=0,M.zIndex=-1;const A=this.#i.createElementNS(l,"svg");A.setAttribute("width",0),A.setAttribute("height",0),this.#e=this.#i.createElementNS(l,"defs"),j.append(A),A.append(this.#e),this.#i.body.append(j)}return this.#e}addFilter(j){if(!j)return"none";let M=this.#d.get(j);if(M)return M;let A,x,y,L;if(j.length===1){const v=j[0],k=new Array(256);for(let N=0;N<256;N++)k[N]=v[N]/255;L=A=x=y=k.join(",")}else{const[v,k,N]=j,V=new Array(256),Y=new Array(256),$=new Array(256);for(let rt=0;rt<256;rt++)V[rt]=v[rt]/255,Y[rt]=k[rt]/255,$[rt]=N[rt]/255;A=V.join(","),x=Y.join(","),y=$.join(","),L=`${A}${x}${y}`}if(M=this.#d.get(L),M)return this.#d.set(j,M),M;const B=`g_${this.#n}_transfer_map_${this.#f++}`,G=`url(#${B})`;this.#d.set(j,G),this.#d.set(L,G);const H=this.#v(B);return this.#m(A,x,y,H),G}addHCMFilter(j,M){const A=`${j}-${M}`;if(this.#s===A)return this.#r;if(this.#s=A,this.#r="none",this.#o?.remove(),!j||!M)return this.#r;const x=this.#u(j);j=p.Util.makeHexColor(...x);const y=this.#u(M);if(M=p.Util.makeHexColor(...y),this.#h.style.color="",j==="#000000"&&M==="#ffffff"||j===M)return this.#r;const L=new Array(256);for(let k=0;k<=255;k++){const N=k/255;L[k]=N<=.03928?N/12.92:((N+.055)/1.055)**2.4}const B=L.join(","),G=`g_${this.#n}_hcm_filter`,H=this.#l=this.#v(G);this.#m(B,B,B,H),this.#p(H);const v=(k,N)=>{const V=x[k]/255,Y=y[k]/255,$=new Array(N+1);for(let rt=0;rt<=N;rt++)$[rt]=V+rt/N*(Y-V);return $.join(",")};return this.#m(v(0,5),v(1,5),v(2,5),H),this.#r=`url(#${G})`,this.#r}addHighlightHCMFilter(j,M,A,x){const y=`${j}-${M}-${A}-${x}`;if(this.#c===y)return this.#a;if(this.#c=y,this.#a="none",this.#l?.remove(),!j||!M)return this.#a;const[L,B]=[j,M].map(this.#u.bind(this));let G=Math.round(.2126*L[0]+.7152*L[1]+.0722*L[2]),H=Math.round(.2126*B[0]+.7152*B[1]+.0722*B[2]),[v,k]=[A,x].map(this.#u.bind(this));H<G&&([G,H,v,k]=[H,G,k,v]),this.#h.style.color="";const N=($,rt,bt)=>{const Bt=new Array(256),St=(H-G)/bt,Ct=$/255,Dt=(rt-$)/(255*bt);let Mt=0;for(let jt=0;jt<=bt;jt++){const qt=Math.round(G+jt*St),Qt=Ct+jt*Dt;for(let re=Mt;re<=qt;re++)Bt[re]=Qt;Mt=qt+1}for(let jt=Mt;jt<256;jt++)Bt[jt]=Bt[Mt-1];return Bt.join(",")},V=`g_${this.#n}_hcm_highlight_filter`,Y=this.#l=this.#v(V);return this.#p(Y),this.#m(N(v[0],k[0],5),N(v[1],k[1],5),N(v[2],k[2],5),Y),this.#a=`url(#${V})`,this.#a}destroy(j=!1){j&&(this.#r||this.#a)||(this.#e&&(this.#e.parentNode.parentNode.remove(),this.#e=null),this.#t&&(this.#t.clear(),this.#t=null),this.#f=0)}#p(j){const M=this.#i.createElementNS(l,"feColorMatrix");M.setAttribute("type","matrix"),M.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),j.append(M)}#v(j){const M=this.#i.createElementNS(l,"filter");return M.setAttribute("color-interpolation-filters","sRGB"),M.setAttribute("id",j),this.#h.append(M),M}#g(j,M,A){const x=this.#i.createElementNS(l,M);x.setAttribute("type","discrete"),x.setAttribute("tableValues",A),j.append(x)}#m(j,M,A,x){const y=this.#i.createElementNS(l,"feComponentTransfer");x.append(y),this.#g(y,"feFuncR",j),this.#g(y,"feFuncG",M),this.#g(y,"feFuncB",A)}#u(j){return this.#h.style.color=j,nt(getComputedStyle(this.#h).getPropertyValue("color"))}}c.DOMFilterFactory=F;class D extends o.BaseCanvasFactory{constructor({ownerDocument:j=globalThis.document}={}){super(),this._document=j}_createCanvas(j,M){const A=this._document.createElement("canvas");return A.width=j,A.height=M,A}}c.DOMCanvasFactory=D;async function d(X,j=!1){if(q(X,document.baseURI)){const M=await fetch(X);if(!M.ok)throw new Error(M.statusText);return j?new Uint8Array(await M.arrayBuffer()):(0,p.stringToBytes)(await M.text())}return new Promise((M,A)=>{const x=new XMLHttpRequest;x.open("GET",X,!0),j&&(x.responseType="arraybuffer"),x.onreadystatechange=()=>{if(x.readyState===XMLHttpRequest.DONE){if(x.status===200||x.status===0){let y;if(j&&x.response?y=new Uint8Array(x.response):!j&&x.responseText&&(y=(0,p.stringToBytes)(x.responseText)),y){M(y);return}}A(new Error(x.statusText))}},x.send(null)})}class s extends o.BaseCMapReaderFactory{_fetchData(j,M){return d(j,this.isCompressed).then(A=>({cMapData:A,compressionType:M}))}}c.DOMCMapReaderFactory=s;class h extends o.BaseStandardFontDataFactory{_fetchData(j){return d(j,!0)}}c.DOMStandardFontDataFactory=h;class _ extends o.BaseSVGFactory{_createSVG(j){return document.createElementNS(l,j)}}c.DOMSVGFactory=_;class b{constructor({viewBox:j,scale:M,rotation:A,offsetX:x=0,offsetY:y=0,dontFlip:L=!1}){this.viewBox=j,this.scale=M,this.rotation=A,this.offsetX=x,this.offsetY=y;const B=(j[2]+j[0])/2,G=(j[3]+j[1])/2;let H,v,k,N;switch(A%=360,A<0&&(A+=360),A){case 180:H=-1,v=0,k=0,N=1;break;case 90:H=0,v=1,k=1,N=0;break;case 270:H=0,v=-1,k=-1,N=0;break;case 0:H=1,v=0,k=0,N=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}L&&(k=-k,N=-N);let V,Y,$,rt;H===0?(V=Math.abs(G-j[1])*M+x,Y=Math.abs(B-j[0])*M+y,$=(j[3]-j[1])*M,rt=(j[2]-j[0])*M):(V=Math.abs(B-j[0])*M+x,Y=Math.abs(G-j[1])*M+y,$=(j[2]-j[0])*M,rt=(j[3]-j[1])*M),this.transform=[H*M,v*M,k*M,N*M,V-H*M*B-k*M*G,Y-v*M*B-N*M*G],this.width=$,this.height=rt}get rawDims(){const{viewBox:j}=this;return(0,p.shadow)(this,"rawDims",{pageWidth:j[2]-j[0],pageHeight:j[3]-j[1],pageX:j[0],pageY:j[1]})}clone({scale:j=this.scale,rotation:M=this.rotation,offsetX:A=this.offsetX,offsetY:x=this.offsetY,dontFlip:y=!1}={}){return new b({viewBox:this.viewBox.slice(),scale:j,rotation:M,offsetX:A,offsetY:x,dontFlip:y})}convertToViewportPoint(j,M){return p.Util.applyTransform([j,M],this.transform)}convertToViewportRectangle(j){const M=p.Util.applyTransform([j[0],j[1]],this.transform),A=p.Util.applyTransform([j[2],j[3]],this.transform);return[M[0],M[1],A[0],A[1]]}convertToPdfPoint(j,M){return p.Util.applyInverseTransform([j,M],this.transform)}}c.PageViewport=b;class f extends p.BaseException{constructor(j,M=0){super(j,"RenderingCancelledException"),this.extraDelay=M}}c.RenderingCancelledException=f;function S(X){const j=X.length;let M=0;for(;M<j&&X[M].trim()==="";)M++;return X.substring(M,M+5).toLowerCase()==="data:"}function R(X){return typeof X=="string"&&/\.pdf$/i.test(X)}function g(X,j=!1){return j||([X]=X.split(/[#?]/,1)),X.substring(X.lastIndexOf("/")+1)}function O(X,j="document.pdf"){if(typeof X!="string")return j;if(S(X))return(0,p.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),j;const M=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,A=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,x=M.exec(X);let y=A.exec(x[1])||A.exec(x[2])||A.exec(x[3]);if(y&&(y=y[0],y.includes("%")))try{y=A.exec(decodeURIComponent(y))[0]}catch{}return y||j}class I{started=Object.create(null);times=[];time(j){j in this.started&&(0,p.warn)(`Timer is already running for ${j}`),this.started[j]=Date.now()}timeEnd(j){j in this.started||(0,p.warn)(`Timer has not been started for ${j}`),this.times.push({name:j,start:this.started[j],end:Date.now()}),delete this.started[j]}toString(){const j=[];let M=0;for(const{name:A}of this.times)M=Math.max(A.length,M);for(const{name:A,start:x,end:y}of this.times)j.push(`${A.padEnd(M)} ${y-x}ms
`);return j.join("")}}c.StatTimer=I;function q(X,j){try{const{protocol:M}=j?new URL(X,j):new URL(X);return M==="http:"||M==="https:"}catch{return!1}}function w(X){X.preventDefault()}function z(X,j=!1){return new Promise((M,A)=>{const x=document.createElement("script");x.src=X,x.onload=function(y){j&&x.remove(),M(y)},x.onerror=function(){A(new Error(`Cannot load script at: ${x.src}`))},(document.head||document.documentElement).append(x)})}function Z(X){console.log("Deprecated API usage: "+X)}let et;class K{static toDateObject(j){if(!j||typeof j!="string")return null;et||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const M=et.exec(j);if(!M)return null;const A=parseInt(M[1],10);let x=parseInt(M[2],10);x=x>=1&&x<=12?x-1:0;let y=parseInt(M[3],10);y=y>=1&&y<=31?y:1;let L=parseInt(M[4],10);L=L>=0&&L<=23?L:0;let B=parseInt(M[5],10);B=B>=0&&B<=59?B:0;let G=parseInt(M[6],10);G=G>=0&&G<=59?G:0;const H=M[7]||"Z";let v=parseInt(M[8],10);v=v>=0&&v<=23?v:0;let k=parseInt(M[9],10)||0;return k=k>=0&&k<=59?k:0,H==="-"?(L+=v,B+=k):H==="+"&&(L-=v,B-=k),new Date(Date.UTC(A,x,y,L,B,G))}}c.PDFDateString=K;function ht(X,{scale:j=1,rotation:M=0}){const{width:A,height:x}=X.attributes.style,y=[0,0,parseInt(A),parseInt(x)];return new b({viewBox:y,scale:j,rotation:M})}function nt(X){if(X.startsWith("#")){const j=parseInt(X.slice(1),16);return[(j&16711680)>>16,(j&65280)>>8,j&255]}return X.startsWith("rgb(")?X.slice(4,-1).split(",").map(j=>parseInt(j)):X.startsWith("rgba(")?X.slice(5,-1).split(",").map(j=>parseInt(j)).slice(0,3):((0,p.warn)(`Not a valid color format: "${X}"`),[0,0,0])}function yt(X){const j=document.createElement("span");j.style.visibility="hidden",document.body.append(j);for(const M of X.keys()){j.style.color=M;const A=window.getComputedStyle(j).color;X.set(M,nt(A))}j.remove()}function mt(X){const{a:j,b:M,c:A,d:x,e:y,f:L}=X.getTransform();return[j,M,A,x,y,L]}function Et(X){const{a:j,b:M,c:A,d:x,e:y,f:L}=X.getTransform().invertSelf();return[j,M,A,x,y,L]}function Rt(X,j,M=!1,A=!0){if(j instanceof b){const{pageWidth:x,pageHeight:y}=j.rawDims,{style:L}=X,B=p.FeatureTest.isCSSRoundSupported,G=`var(--scale-factor) * ${x}px`,H=`var(--scale-factor) * ${y}px`,v=B?`round(${G}, 1px)`:`calc(${G})`,k=B?`round(${H}, 1px)`:`calc(${H})`;!M||j.rotation%180===0?(L.width=v,L.height=k):(L.width=k,L.height=v)}A&&X.setAttribute("data-main-rotation",j.rotation)}}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BaseStandardFontDataFactory=c.BaseSVGFactory=c.BaseFilterFactory=c.BaseCanvasFactory=c.BaseCMapReaderFactory=void 0;var o=m(1);class p{constructor(){this.constructor===p&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(s){return"none"}addHCMFilter(s,h){return"none"}addHighlightHCMFilter(s,h,_,b){return"none"}destroy(s=!1){}}c.BaseFilterFactory=p;class l{constructor(){this.constructor===l&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(s,h){if(s<=0||h<=0)throw new Error("Invalid canvas size");const _=this._createCanvas(s,h);return{canvas:_,context:_.getContext("2d")}}reset(s,h,_){if(!s.canvas)throw new Error("Canvas is not specified");if(h<=0||_<=0)throw new Error("Invalid canvas size");s.canvas.width=h,s.canvas.height=_}destroy(s){if(!s.canvas)throw new Error("Canvas is not specified");s.canvas.width=0,s.canvas.height=0,s.canvas=null,s.context=null}_createCanvas(s,h){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}c.BaseCanvasFactory=l;class T{constructor({baseUrl:s=null,isCompressed:h=!0}){this.constructor===T&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=s,this.isCompressed=h}async fetch({name:s}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!s)throw new Error("CMap name must be specified.");const h=this.baseUrl+s+(this.isCompressed?".bcmap":""),_=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(h,_).catch(b=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${h}`)})}_fetchData(s,h){(0,o.unreachable)("Abstract method `_fetchData` called.")}}c.BaseCMapReaderFactory=T;class F{constructor({baseUrl:s=null}){this.constructor===F&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=s}async fetch({filename:s}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!s)throw new Error("Font filename must be specified.");const h=`${this.baseUrl}${s}`;return this._fetchData(h).catch(_=>{throw new Error(`Unable to load font data at: ${h}`)})}_fetchData(s){(0,o.unreachable)("Abstract method `_fetchData` called.")}}c.BaseStandardFontDataFactory=F;class D{constructor(){this.constructor===D&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(s,h,_=!1){if(s<=0||h<=0)throw new Error("Invalid SVG dimensions");const b=this._createSVG("svg:svg");return b.setAttribute("version","1.1"),_||(b.setAttribute("width",`${s}px`),b.setAttribute("height",`${h}px`)),b.setAttribute("preserveAspectRatio","none"),b.setAttribute("viewBox",`0 0 ${s} ${h}`),b}createElement(s){if(typeof s!="string")throw new Error("Invalid SVG element type");return this._createSVG(s)}_createSVG(s){(0,o.unreachable)("Abstract method `_createSVG` called.")}}c.BaseSVGFactory=D}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.MurmurHash3_64=void 0;var o=m(1);const p=3285377520,l=4294901760,T=65535;class F{constructor(d){this.h1=d?d&4294967295:p,this.h2=d?d&4294967295:p}update(d){let s,h;if(typeof d=="string"){s=new Uint8Array(d.length*2),h=0;for(let Z=0,et=d.length;Z<et;Z++){const K=d.charCodeAt(Z);K<=255?s[h++]=K:(s[h++]=K>>>8,s[h++]=K&255)}}else if((0,o.isArrayBuffer)(d))s=d.slice(),h=s.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const _=h>>2,b=h-_*4,f=new Uint32Array(s.buffer,0,_);let S=0,R=0,g=this.h1,O=this.h2;const I=3432918353,q=461845907,w=I&T,z=q&T;for(let Z=0;Z<_;Z++)Z&1?(S=f[Z],S=S*I&l|S*w&T,S=S<<15|S>>>17,S=S*q&l|S*z&T,g^=S,g=g<<13|g>>>19,g=g*5+3864292196):(R=f[Z],R=R*I&l|R*w&T,R=R<<15|R>>>17,R=R*q&l|R*z&T,O^=R,O=O<<13|O>>>19,O=O*5+3864292196);switch(S=0,b){case 3:S^=s[_*4+2]<<16;case 2:S^=s[_*4+1]<<8;case 1:S^=s[_*4],S=S*I&l|S*w&T,S=S<<15|S>>>17,S=S*q&l|S*z&T,_&1?g^=S:O^=S}this.h1=g,this.h2=O}hexdigest(){let d=this.h1,s=this.h2;return d^=s>>>1,d=d*3981806797&l|d*36045&T,s=s*4283543511&l|((s<<16|d>>>16)*2950163797&l)>>>16,d^=s>>>1,d=d*444984403&l|d*60499&T,s=s*3301882366&l|((s<<16|d>>>16)*3120437893&l)>>>16,d^=s>>>1,(d>>>0).toString(16).padStart(8,"0")+(s>>>0).toString(16).padStart(8,"0")}}c.MurmurHash3_64=F}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FontLoader=c.FontFaceObject=void 0;var o=m(1);class p{#t=new Set;constructor({ownerDocument:F=globalThis.document,styleElement:D=null}){this._document=F,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(F){this.nativeFontFaces.add(F),this._document.fonts.add(F)}removeNativeFontFace(F){this.nativeFontFaces.delete(F),this._document.fonts.delete(F)}insertRule(F){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const D=this.styleElement.sheet;D.insertRule(F,D.cssRules.length)}clear(){for(const F of this.nativeFontFaces)this._document.fonts.delete(F);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(F){if(!(!F||this.#t.has(F.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:D,src:d,style:s}=F,h=new FontFace(D,d,s);this.addNativeFontFace(h);try{await h.load(),this.#t.add(D)}catch{(0,o.warn)(`Cannot load system font: ${F.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(h)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(F){if(F.attached||F.missingFile&&!F.systemFontInfo)return;if(F.attached=!0,F.systemFontInfo){await this.loadSystemFont(F.systemFontInfo);return}if(this.isFontLoadingAPISupported){const d=F.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(s){throw(0,o.warn)(`Failed to load font '${d.family}': '${s}'.`),F.disableFontFace=!0,s}}return}const D=F.createFontFaceRule();if(D){if(this.insertRule(D),this.isSyncFontLoadingSupported)return;await new Promise(d=>{const s=this._queueLoadingCallback(d);this._prepareFontLoadEvent(F,s)})}}get isFontLoadingAPISupported(){const F=!!this._document?.fonts;return(0,o.shadow)(this,"isFontLoadingAPISupported",F)}get isSyncFontLoadingSupported(){let F=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(F=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",F)}_queueLoadingCallback(F){function D(){for((0,o.assert)(!s.done,"completeRequest() cannot be called twice."),s.done=!0;d.length>0&&d[0].done;){const h=d.shift();setTimeout(h.callback,0)}}const{loadingRequests:d}=this,s={done:!1,complete:D,callback:F};return d.push(s),s}get _loadTestFont(){const F=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",F)}_prepareFontLoadEvent(F,D){function d(ht,nt){return ht.charCodeAt(nt)<<24|ht.charCodeAt(nt+1)<<16|ht.charCodeAt(nt+2)<<8|ht.charCodeAt(nt+3)&255}function s(ht,nt,yt,mt){const Et=ht.substring(0,nt),Rt=ht.substring(nt+yt);return Et+mt+Rt}let h,_;const b=this._document.createElement("canvas");b.width=1,b.height=1;const f=b.getContext("2d");let S=0;function R(ht,nt){if(++S>30){(0,o.warn)("Load test font never loaded."),nt();return}if(f.font="30px "+ht,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){nt();return}setTimeout(R.bind(null,ht,nt))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let O=this._loadTestFont;O=s(O,976,g.length,g);const q=16,w=1482184792;let z=d(O,q);for(h=0,_=g.length-3;h<_;h+=4)z=z-w+d(g,h)|0;h<g.length&&(z=z-w+d(g+"XXX",h)|0),O=s(O,q,4,(0,o.string32)(z));const Z=`url(data:font/opentype;base64,${btoa(O)});`,et=`@font-face {font-family:"${g}";src:${Z}}`;this.insertRule(et);const K=this._document.createElement("div");K.style.visibility="hidden",K.style.width=K.style.height="10px",K.style.position="absolute",K.style.top=K.style.left="0px";for(const ht of[F.loadedName,g]){const nt=this._document.createElement("span");nt.textContent="Hi",nt.style.fontFamily=ht,K.append(nt)}this._document.body.append(K),R(g,()=>{K.remove(),D.complete()})}}c.FontLoader=p;class l{constructor(F,{isEvalSupported:D=!0,disableFontFace:d=!1,ignoreErrors:s=!1,inspectFont:h=null}){this.compiledGlyphs=Object.create(null);for(const _ in F)this[_]=F[_];this.isEvalSupported=D!==!1,this.disableFontFace=d===!0,this.ignoreErrors=s===!0,this._inspectFont=h}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let F;if(!this.cssFontInfo)F=new FontFace(this.loadedName,this.data,{});else{const D={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(D.style=`oblique ${this.cssFontInfo.italicAngle}deg`),F=new FontFace(this.cssFontInfo.fontFamily,this.data,D)}return this._inspectFont?.(this),F}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const F=(0,o.bytesToString)(this.data),D=`url(data:${this.mimetype};base64,${btoa(F)});`;let d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${D}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${D}}`}return this._inspectFont?.(this,D),d}getPathGenerator(F,D){if(this.compiledGlyphs[D]!==void 0)return this.compiledGlyphs[D];let d;try{d=F.get(this.loadedName+"_path_"+D)}catch(s){if(!this.ignoreErrors)throw s;return(0,o.warn)(`getPathGenerator - ignoring character: "${s}".`),this.compiledGlyphs[D]=function(h,_){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const s=[];for(const h of d){const _=h.args!==void 0?h.args.join(","):"";s.push("c.",h.cmd,"(",_,`);
`)}return this.compiledGlyphs[D]=new Function("c","size",s.join(""))}return this.compiledGlyphs[D]=function(s,h){for(const _ of d)_.cmd==="scale"&&(_.args=[h,-h]),s[_.cmd].apply(s,_.args)}}}c.FontFaceObject=l}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NodeStandardFontDataFactory=c.NodeFilterFactory=c.NodeCanvasFactory=c.NodeCMapReaderFactory=void 0;var o=m(7);m(1);const p=function(d){return new Promise((s,h)=>{require$$5.readFile(d,(b,f)=>{if(b||!f){h(new Error(b));return}s(new Uint8Array(f))})})};class l extends o.BaseFilterFactory{}c.NodeFilterFactory=l;class T extends o.BaseCanvasFactory{_createCanvas(s,h){return require$$5.createCanvas(s,h)}}c.NodeCanvasFactory=T;class F extends o.BaseCMapReaderFactory{_fetchData(s,h){return p(s).then(_=>({cMapData:_,compressionType:h}))}}c.NodeCMapReaderFactory=F;class D extends o.BaseStandardFontDataFactory{_fetchData(s){return p(s)}}c.NodeStandardFontDataFactory=D}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CanvasGraphics=void 0;var o=m(1),p=m(6),l=m(12),T=m(13);const F=16,D=100,d=4096,s=15,h=10,_=1e3,b=16;function f(M,A){if(M._removeMirroring)throw new Error("Context is already forwarding operations.");M.__originalSave=M.save,M.__originalRestore=M.restore,M.__originalRotate=M.rotate,M.__originalScale=M.scale,M.__originalTranslate=M.translate,M.__originalTransform=M.transform,M.__originalSetTransform=M.setTransform,M.__originalResetTransform=M.resetTransform,M.__originalClip=M.clip,M.__originalMoveTo=M.moveTo,M.__originalLineTo=M.lineTo,M.__originalBezierCurveTo=M.bezierCurveTo,M.__originalRect=M.rect,M.__originalClosePath=M.closePath,M.__originalBeginPath=M.beginPath,M._removeMirroring=()=>{M.save=M.__originalSave,M.restore=M.__originalRestore,M.rotate=M.__originalRotate,M.scale=M.__originalScale,M.translate=M.__originalTranslate,M.transform=M.__originalTransform,M.setTransform=M.__originalSetTransform,M.resetTransform=M.__originalResetTransform,M.clip=M.__originalClip,M.moveTo=M.__originalMoveTo,M.lineTo=M.__originalLineTo,M.bezierCurveTo=M.__originalBezierCurveTo,M.rect=M.__originalRect,M.closePath=M.__originalClosePath,M.beginPath=M.__originalBeginPath,delete M._removeMirroring},M.save=function(){A.save(),this.__originalSave()},M.restore=function(){A.restore(),this.__originalRestore()},M.translate=function(y,L){A.translate(y,L),this.__originalTranslate(y,L)},M.scale=function(y,L){A.scale(y,L),this.__originalScale(y,L)},M.transform=function(y,L,B,G,H,v){A.transform(y,L,B,G,H,v),this.__originalTransform(y,L,B,G,H,v)},M.setTransform=function(y,L,B,G,H,v){A.setTransform(y,L,B,G,H,v),this.__originalSetTransform(y,L,B,G,H,v)},M.resetTransform=function(){A.resetTransform(),this.__originalResetTransform()},M.rotate=function(y){A.rotate(y),this.__originalRotate(y)},M.clip=function(y){A.clip(y),this.__originalClip(y)},M.moveTo=function(x,y){A.moveTo(x,y),this.__originalMoveTo(x,y)},M.lineTo=function(x,y){A.lineTo(x,y),this.__originalLineTo(x,y)},M.bezierCurveTo=function(x,y,L,B,G,H){A.bezierCurveTo(x,y,L,B,G,H),this.__originalBezierCurveTo(x,y,L,B,G,H)},M.rect=function(x,y,L,B){A.rect(x,y,L,B),this.__originalRect(x,y,L,B)},M.closePath=function(){A.closePath(),this.__originalClosePath()},M.beginPath=function(){A.beginPath(),this.__originalBeginPath()}}class S{constructor(A){this.canvasFactory=A,this.cache=Object.create(null)}getCanvas(A,x,y){let L;return this.cache[A]!==void 0?(L=this.cache[A],this.canvasFactory.reset(L,x,y)):(L=this.canvasFactory.create(x,y),this.cache[A]=L),L}delete(A){delete this.cache[A]}clear(){for(const A in this.cache){const x=this.cache[A];this.canvasFactory.destroy(x),delete this.cache[A]}}}function R(M,A,x,y,L,B,G,H,v,k){const[N,V,Y,$,rt,bt]=(0,p.getCurrentTransform)(M);if(V===0&&Y===0){const Ct=G*N+rt,Dt=Math.round(Ct),Mt=H*$+bt,jt=Math.round(Mt),qt=(G+v)*N+rt,Qt=Math.abs(Math.round(qt)-Dt)||1,re=(H+k)*$+bt,ve=Math.abs(Math.round(re)-jt)||1;return M.setTransform(Math.sign(N),0,0,Math.sign($),Dt,jt),M.drawImage(A,x,y,L,B,0,0,Qt,ve),M.setTransform(N,V,Y,$,rt,bt),[Qt,ve]}if(N===0&&$===0){const Ct=H*Y+rt,Dt=Math.round(Ct),Mt=G*V+bt,jt=Math.round(Mt),qt=(H+k)*Y+rt,Qt=Math.abs(Math.round(qt)-Dt)||1,re=(G+v)*V+bt,ve=Math.abs(Math.round(re)-jt)||1;return M.setTransform(0,Math.sign(V),Math.sign(Y),0,Dt,jt),M.drawImage(A,x,y,L,B,0,0,ve,Qt),M.setTransform(N,V,Y,$,rt,bt),[ve,Qt]}M.drawImage(A,x,y,L,B,G,H,v,k);const Bt=Math.hypot(N,V),St=Math.hypot(Y,$);return[Bt*v,St*k]}function g(M){const{width:A,height:x}=M;if(A>_||x>_)return null;const y=1e3,L=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),B=A+1;let G=new Uint8Array(B*(x+1)),H,v,k;const N=A+7&-8;let V=new Uint8Array(N*x),Y=0;for(const St of M.data){let Ct=128;for(;Ct>0;)V[Y++]=St&Ct?0:255,Ct>>=1}let $=0;for(Y=0,V[Y]!==0&&(G[0]=1,++$),v=1;v<A;v++)V[Y]!==V[Y+1]&&(G[v]=V[Y]?2:1,++$),Y++;for(V[Y]!==0&&(G[v]=2,++$),H=1;H<x;H++){Y=H*N,k=H*B,V[Y-N]!==V[Y]&&(G[k]=V[Y]?1:8,++$);let St=(V[Y]?4:0)+(V[Y-N]?8:0);for(v=1;v<A;v++)St=(St>>2)+(V[Y+1]?4:0)+(V[Y-N+1]?8:0),L[St]&&(G[k+v]=L[St],++$),Y++;if(V[Y-N]!==V[Y]&&(G[k+v]=V[Y]?2:4,++$),$>y)return null}for(Y=N*(x-1),k=H*B,V[Y]!==0&&(G[k]=8,++$),v=1;v<A;v++)V[Y]!==V[Y+1]&&(G[k+v]=V[Y]?4:8,++$),Y++;if(V[Y]!==0&&(G[k+v]=4,++$),$>y)return null;const rt=new Int32Array([0,B,-1,0,-B,0,0,0,1]),bt=new Path2D;for(H=0;$&&H<=x;H++){let St=H*B;const Ct=St+A;for(;St<Ct&&!G[St];)St++;if(St===Ct)continue;bt.moveTo(St%B,H);const Dt=St;let Mt=G[St];do{const jt=rt[Mt];do St+=jt;while(!G[St]);const qt=G[St];qt!==5&&qt!==10?(Mt=qt,G[St]=0):(Mt=qt&51*Mt>>4,G[St]&=Mt>>2|Mt<<2),bt.lineTo(St%B,St/B|0),G[St]||--$}while(Dt!==St);--H}return V=null,G=null,function(St){St.save(),St.scale(1/A,-1/x),St.translate(0,-x),St.fill(bt),St.beginPath(),St.restore()}}class O{constructor(A,x){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,A,x])}clone(){const A=Object.create(this);return A.clipBox=this.clipBox.slice(),A}setCurrentPoint(A,x){this.x=A,this.y=x}updatePathMinMax(A,x,y){[x,y]=o.Util.applyTransform([x,y],A),this.minX=Math.min(this.minX,x),this.minY=Math.min(this.minY,y),this.maxX=Math.max(this.maxX,x),this.maxY=Math.max(this.maxY,y)}updateRectMinMax(A,x){const y=o.Util.applyTransform(x,A),L=o.Util.applyTransform(x.slice(2),A);this.minX=Math.min(this.minX,y[0],L[0]),this.minY=Math.min(this.minY,y[1],L[1]),this.maxX=Math.max(this.maxX,y[0],L[0]),this.maxY=Math.max(this.maxY,y[1],L[1])}updateScalingPathMinMax(A,x){o.Util.scaleMinMax(A,x),this.minX=Math.min(this.minX,x[0]),this.maxX=Math.max(this.maxX,x[1]),this.minY=Math.min(this.minY,x[2]),this.maxY=Math.max(this.maxY,x[3])}updateCurvePathMinMax(A,x,y,L,B,G,H,v,k,N){const V=o.Util.bezierBoundingBox(x,y,L,B,G,H,v,k);if(N){N[0]=Math.min(N[0],V[0],V[2]),N[1]=Math.max(N[1],V[0],V[2]),N[2]=Math.min(N[2],V[1],V[3]),N[3]=Math.max(N[3],V[1],V[3]);return}this.updateRectMinMax(A,V)}getPathBoundingBox(A=l.PathType.FILL,x=null){const y=[this.minX,this.minY,this.maxX,this.maxY];if(A===l.PathType.STROKE){x||(0,o.unreachable)("Stroke bounding box must include transform.");const L=o.Util.singularValueDecompose2dScale(x),B=L[0]*this.lineWidth/2,G=L[1]*this.lineWidth/2;y[0]-=B,y[1]-=G,y[2]+=B,y[3]+=G}return y}updateClipFromPath(){const A=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(A||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(A){this.clipBox=A,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(A=l.PathType.FILL,x=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(A,x))}}function I(M,A){if(typeof ImageData<"u"&&A instanceof ImageData){M.putImageData(A,0,0);return}const x=A.height,y=A.width,L=x%b,B=(x-L)/b,G=L===0?B:B+1,H=M.createImageData(y,b);let v=0,k;const N=A.data,V=H.data;let Y,$,rt,bt;if(A.kind===o.ImageKind.GRAYSCALE_1BPP){const Bt=N.byteLength,St=new Uint32Array(V.buffer,0,V.byteLength>>2),Ct=St.length,Dt=y+7>>3,Mt=4294967295,jt=o.FeatureTest.isLittleEndian?4278190080:255;for(Y=0;Y<G;Y++){for(rt=Y<B?b:L,k=0,$=0;$<rt;$++){const qt=Bt-v;let Qt=0;const re=qt>Dt?y:qt*8-7,ve=re&-8;let ne=0,De=0;for(;Qt<ve;Qt+=8)De=N[v++],St[k++]=De&128?Mt:jt,St[k++]=De&64?Mt:jt,St[k++]=De&32?Mt:jt,St[k++]=De&16?Mt:jt,St[k++]=De&8?Mt:jt,St[k++]=De&4?Mt:jt,St[k++]=De&2?Mt:jt,St[k++]=De&1?Mt:jt;for(;Qt<re;Qt++)ne===0&&(De=N[v++],ne=128),St[k++]=De&ne?Mt:jt,ne>>=1}for(;k<Ct;)St[k++]=0;M.putImageData(H,0,Y*b)}}else if(A.kind===o.ImageKind.RGBA_32BPP){for($=0,bt=y*b*4,Y=0;Y<B;Y++)V.set(N.subarray(v,v+bt)),v+=bt,M.putImageData(H,0,$),$+=b;Y<G&&(bt=y*L*4,V.set(N.subarray(v,v+bt)),M.putImageData(H,0,$))}else if(A.kind===o.ImageKind.RGB_24BPP)for(rt=b,bt=y*rt,Y=0;Y<G;Y++){for(Y>=B&&(rt=L,bt=y*rt),k=0,$=bt;$--;)V[k++]=N[v++],V[k++]=N[v++],V[k++]=N[v++],V[k++]=255;M.putImageData(H,0,Y*b)}else throw new Error(`bad image kind: ${A.kind}`)}function q(M,A){if(A.bitmap){M.drawImage(A.bitmap,0,0);return}const x=A.height,y=A.width,L=x%b,B=(x-L)/b,G=L===0?B:B+1,H=M.createImageData(y,b);let v=0;const k=A.data,N=H.data;for(let V=0;V<G;V++){const Y=V<B?b:L;({srcPos:v}=(0,T.convertBlackAndWhiteToRGBA)({src:k,srcPos:v,dest:N,width:y,height:Y,nonBlackColor:0})),M.putImageData(H,0,V*b)}}function w(M,A){const x=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const y of x)M[y]!==void 0&&(A[y]=M[y]);M.setLineDash!==void 0&&(A.setLineDash(M.getLineDash()),A.lineDashOffset=M.lineDashOffset)}function z(M){if(M.strokeStyle=M.fillStyle="#000000",M.fillRule="nonzero",M.globalAlpha=1,M.lineWidth=1,M.lineCap="butt",M.lineJoin="miter",M.miterLimit=10,M.globalCompositeOperation="source-over",M.font="10px sans-serif",M.setLineDash!==void 0&&(M.setLineDash([]),M.lineDashOffset=0),!o.isNodeJS){const{filter:A}=M;A!=="none"&&A!==""&&(M.filter="none")}}function Z(M,A,x,y){const L=M.length;for(let B=3;B<L;B+=4){const G=M[B];if(G===0)M[B-3]=A,M[B-2]=x,M[B-1]=y;else if(G<255){const H=255-G;M[B-3]=M[B-3]*G+A*H>>8,M[B-2]=M[B-2]*G+x*H>>8,M[B-1]=M[B-1]*G+y*H>>8}}}function et(M,A,x){const y=M.length,L=1/255;for(let B=3;B<y;B+=4){const G=x?x[M[B]]:M[B];A[B]=A[B]*G*L|0}}function K(M,A,x){const y=M.length;for(let L=3;L<y;L+=4){const B=M[L-3]*77+M[L-2]*152+M[L-1]*28;A[L]=x?A[L]*x[B>>8]>>8:A[L]*B>>16}}function ht(M,A,x,y,L,B,G,H,v,k,N){const V=!!B,Y=V?B[0]:0,$=V?B[1]:0,rt=V?B[2]:0,bt=L==="Luminosity"?K:et,St=Math.min(y,Math.ceil(1048576/x));for(let Ct=0;Ct<y;Ct+=St){const Dt=Math.min(St,y-Ct),Mt=M.getImageData(H-k,Ct+(v-N),x,Dt),jt=A.getImageData(H,Ct+v,x,Dt);V&&Z(Mt.data,Y,$,rt),bt(Mt.data,jt.data,G),A.putImageData(jt,H,Ct+v)}}function nt(M,A,x,y){const L=y[0],B=y[1],G=y[2]-L,H=y[3]-B;G===0||H===0||(ht(A.context,x,G,H,A.subtype,A.backdrop,A.transferMap,L,B,A.offsetX,A.offsetY),M.save(),M.globalAlpha=1,M.globalCompositeOperation="source-over",M.setTransform(1,0,0,1,0,0),M.drawImage(x.canvas,0,0),M.restore())}function yt(M,A){const x=o.Util.singularValueDecompose2dScale(M);x[0]=Math.fround(x[0]),x[1]=Math.fround(x[1]);const y=Math.fround((globalThis.devicePixelRatio||1)*p.PixelsPerInch.PDF_TO_CSS_UNITS);return A!==void 0?A:x[0]<=y||x[1]<=y}const mt=["butt","round","square"],Et=["miter","round","bevel"],Rt={},X={};class j{constructor(A,x,y,L,B,{optionalContentConfig:G,markedContentStack:H=null},v,k){this.ctx=A,this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=x,this.objs=y,this.canvasFactory=L,this.filterFactory=B,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=H||[],this.optionalContentConfig=G,this.cachedCanvases=new S(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=v,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=k,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(A,x=null){return typeof A=="string"?A.startsWith("g_")?this.commonObjs.get(A):this.objs.get(A):x}beginDrawing({transform:A,viewport:x,transparency:y=!1,background:L=null}){const B=this.ctx.canvas.width,G=this.ctx.canvas.height,H=this.ctx.fillStyle;if(this.ctx.fillStyle=L||"#ffffff",this.ctx.fillRect(0,0,B,G),this.ctx.fillStyle=H,y){const v=this.cachedCanvases.getCanvas("transparent",B,G);this.compositeCtx=this.ctx,this.transparentCanvas=v.canvas,this.ctx=v.context,this.ctx.save(),this.ctx.transform(...(0,p.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),z(this.ctx),A&&(this.ctx.transform(...A),this.outputScaleX=A[0],this.outputScaleY=A[0]),this.ctx.transform(...x.transform),this.viewportScale=x.scale,this.baseTransform=(0,p.getCurrentTransform)(this.ctx)}executeOperatorList(A,x,y,L){const B=A.argsArray,G=A.fnArray;let H=x||0;const v=B.length;if(v===H)return H;const k=v-H>h&&typeof y=="function",N=k?Date.now()+s:0;let V=0;const Y=this.commonObjs,$=this.objs;let rt;for(;;){if(L!==void 0&&H===L.nextBreakPoint)return L.breakIt(H,y),H;if(rt=G[H],rt!==o.OPS.dependency)this[rt].apply(this,B[H]);else for(const bt of B[H]){const Bt=bt.startsWith("g_")?Y:$;if(!Bt.has(bt))return Bt.get(bt,y),H}if(H++,H===v)return H;if(k&&++V>h){if(Date.now()>N)return y(),H;V=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const A of this._cachedBitmapsMap.values()){for(const x of A.values())typeof HTMLCanvasElement<"u"&&x instanceof HTMLCanvasElement&&(x.width=x.height=0);A.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const A=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(A!=="none"){const x=this.ctx.filter;this.ctx.filter=A,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=x}}}_scaleImage(A,x){const y=A.width,L=A.height;let B=Math.max(Math.hypot(x[0],x[1]),1),G=Math.max(Math.hypot(x[2],x[3]),1),H=y,v=L,k="prescale1",N,V;for(;B>2&&H>1||G>2&&v>1;){let Y=H,$=v;B>2&&H>1&&(Y=H>=16384?Math.floor(H/2)-1||1:Math.ceil(H/2),B/=H/Y),G>2&&v>1&&($=v>=16384?Math.floor(v/2)-1||1:Math.ceil(v)/2,G/=v/$),N=this.cachedCanvases.getCanvas(k,Y,$),V=N.context,V.clearRect(0,0,Y,$),V.drawImage(A,0,0,H,v,0,0,Y,$),A=N.canvas,H=Y,v=$,k=k==="prescale1"?"prescale2":"prescale1"}return{img:A,paintWidth:H,paintHeight:v}}_createMaskCanvas(A){const x=this.ctx,{width:y,height:L}=A,B=this.current.fillColor,G=this.current.patternFill,H=(0,p.getCurrentTransform)(x);let v,k,N,V;if((A.bitmap||A.data)&&A.count>1){const Qt=A.bitmap||A.data.buffer;k=JSON.stringify(G?H:[H.slice(0,4),B]),v=this._cachedBitmapsMap.get(Qt),v||(v=new Map,this._cachedBitmapsMap.set(Qt,v));const re=v.get(k);if(re&&!G){const ve=Math.round(Math.min(H[0],H[2])+H[4]),ne=Math.round(Math.min(H[1],H[3])+H[5]);return{canvas:re,offsetX:ve,offsetY:ne}}N=re}N||(V=this.cachedCanvases.getCanvas("maskCanvas",y,L),q(V.context,A));let Y=o.Util.transform(H,[1/y,0,0,-1/L,0,0]);Y=o.Util.transform(Y,[1,0,0,1,0,-L]);const $=o.Util.applyTransform([0,0],Y),rt=o.Util.applyTransform([y,L],Y),bt=o.Util.normalizeRect([$[0],$[1],rt[0],rt[1]]),Bt=Math.round(bt[2]-bt[0])||1,St=Math.round(bt[3]-bt[1])||1,Ct=this.cachedCanvases.getCanvas("fillCanvas",Bt,St),Dt=Ct.context,Mt=Math.min($[0],rt[0]),jt=Math.min($[1],rt[1]);Dt.translate(-Mt,-jt),Dt.transform(...Y),N||(N=this._scaleImage(V.canvas,(0,p.getCurrentTransformInverse)(Dt)),N=N.img,v&&G&&v.set(k,N)),Dt.imageSmoothingEnabled=yt((0,p.getCurrentTransform)(Dt),A.interpolate),R(Dt,N,0,0,N.width,N.height,0,0,y,L),Dt.globalCompositeOperation="source-in";const qt=o.Util.transform((0,p.getCurrentTransformInverse)(Dt),[1,0,0,1,-Mt,-jt]);return Dt.fillStyle=G?B.getPattern(x,this,qt,l.PathType.FILL):B,Dt.fillRect(0,0,y,L),v&&!G&&(this.cachedCanvases.delete("fillCanvas"),v.set(k,Ct.canvas)),{canvas:Ct.canvas,offsetX:Math.round(Mt),offsetY:Math.round(jt)}}setLineWidth(A){A!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=A,this.ctx.lineWidth=A}setLineCap(A){this.ctx.lineCap=mt[A]}setLineJoin(A){this.ctx.lineJoin=Et[A]}setMiterLimit(A){this.ctx.miterLimit=A}setDash(A,x){const y=this.ctx;y.setLineDash!==void 0&&(y.setLineDash(A),y.lineDashOffset=x)}setRenderingIntent(A){}setFlatness(A){}setGState(A){for(const[x,y]of A)switch(x){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y[0],y[1]);break;case"CA":this.current.strokeAlpha=y;break;case"ca":this.current.fillAlpha=y,this.ctx.globalAlpha=y;break;case"BM":this.ctx.globalCompositeOperation=y;break;case"SMask":this.current.activeSMask=y?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(y);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const A=this.inSMaskMode;this.current.activeSMask&&!A?this.beginSMaskMode():!this.current.activeSMask&&A&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const A=this.ctx.canvas.width,x=this.ctx.canvas.height,y="smaskGroupAt"+this.groupLevel,L=this.cachedCanvases.getCanvas(y,A,x);this.suspendedCtx=this.ctx,this.ctx=L.context;const B=this.ctx;B.setTransform(...(0,p.getCurrentTransform)(this.suspendedCtx)),w(this.suspendedCtx,B),f(B,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),w(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(A){if(!this.current.activeSMask)return;A?(A[0]=Math.floor(A[0]),A[1]=Math.floor(A[1]),A[2]=Math.ceil(A[2]),A[3]=Math.ceil(A[3])):A=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const x=this.current.activeSMask,y=this.suspendedCtx;nt(y,x,this.ctx,A),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(w(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const A=this.current;this.stateStack.push(A),this.current=A.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),w(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(A,x,y,L,B,G){this.ctx.transform(A,x,y,L,B,G),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(A,x,y){const L=this.ctx,B=this.current;let G=B.x,H=B.y,v,k;const N=(0,p.getCurrentTransform)(L),V=N[0]===0&&N[3]===0||N[1]===0&&N[2]===0,Y=V?y.slice(0):null;for(let $=0,rt=0,bt=A.length;$<bt;$++)switch(A[$]|0){case o.OPS.rectangle:G=x[rt++],H=x[rt++];const Bt=x[rt++],St=x[rt++],Ct=G+Bt,Dt=H+St;L.moveTo(G,H),Bt===0||St===0?L.lineTo(Ct,Dt):(L.lineTo(Ct,H),L.lineTo(Ct,Dt),L.lineTo(G,Dt)),V||B.updateRectMinMax(N,[G,H,Ct,Dt]),L.closePath();break;case o.OPS.moveTo:G=x[rt++],H=x[rt++],L.moveTo(G,H),V||B.updatePathMinMax(N,G,H);break;case o.OPS.lineTo:G=x[rt++],H=x[rt++],L.lineTo(G,H),V||B.updatePathMinMax(N,G,H);break;case o.OPS.curveTo:v=G,k=H,G=x[rt+4],H=x[rt+5],L.bezierCurveTo(x[rt],x[rt+1],x[rt+2],x[rt+3],G,H),B.updateCurvePathMinMax(N,v,k,x[rt],x[rt+1],x[rt+2],x[rt+3],G,H,Y),rt+=6;break;case o.OPS.curveTo2:v=G,k=H,L.bezierCurveTo(G,H,x[rt],x[rt+1],x[rt+2],x[rt+3]),B.updateCurvePathMinMax(N,v,k,G,H,x[rt],x[rt+1],x[rt+2],x[rt+3],Y),G=x[rt+2],H=x[rt+3],rt+=4;break;case o.OPS.curveTo3:v=G,k=H,G=x[rt+2],H=x[rt+3],L.bezierCurveTo(x[rt],x[rt+1],G,H,G,H),B.updateCurvePathMinMax(N,v,k,x[rt],x[rt+1],G,H,G,H,Y),rt+=4;break;case o.OPS.closePath:L.closePath();break}V&&B.updateScalingPathMinMax(N,Y),B.setCurrentPoint(G,H)}closePath(){this.ctx.closePath()}stroke(A=!0){const x=this.ctx,y=this.current.strokeColor;x.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof y=="object"&&y?.getPattern?(x.save(),x.strokeStyle=y.getPattern(x,this,(0,p.getCurrentTransformInverse)(x),l.PathType.STROKE),this.rescaleAndStroke(!1),x.restore()):this.rescaleAndStroke(!0)),A&&this.consumePath(this.current.getClippedPathBoundingBox()),x.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(A=!0){const x=this.ctx,y=this.current.fillColor,L=this.current.patternFill;let B=!1;L&&(x.save(),x.fillStyle=y.getPattern(x,this,(0,p.getCurrentTransformInverse)(x),l.PathType.FILL),B=!0);const G=this.current.getClippedPathBoundingBox();this.contentVisible&&G!==null&&(this.pendingEOFill?(x.fill("evenodd"),this.pendingEOFill=!1):x.fill()),B&&x.restore(),A&&this.consumePath(G)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Rt}eoClip(){this.pendingClip=X}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const A=this.pendingTextPaths,x=this.ctx;if(A===void 0){x.beginPath();return}x.save(),x.beginPath();for(const y of A)x.setTransform(...y.transform),x.translate(y.x,y.y),y.addToPath(x,y.fontSize);x.restore(),x.clip(),x.beginPath(),delete this.pendingTextPaths}setCharSpacing(A){this.current.charSpacing=A}setWordSpacing(A){this.current.wordSpacing=A}setHScale(A){this.current.textHScale=A/100}setLeading(A){this.current.leading=-A}setFont(A,x){const y=this.commonObjs.get(A),L=this.current;if(!y)throw new Error(`Can't find font for ${A}`);if(L.fontMatrix=y.fontMatrix||o.FONT_IDENTITY_MATRIX,(L.fontMatrix[0]===0||L.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+A),x<0?(x=-x,L.fontDirection=-1):L.fontDirection=1,this.current.font=y,this.current.fontSize=x,y.isType3Font)return;const B=y.loadedName||"sans-serif",G=y.systemFontInfo?.css||`"${B}", ${y.fallbackName}`;let H="normal";y.black?H="900":y.bold&&(H="bold");const v=y.italic?"italic":"normal";let k=x;x<F?k=F:x>D&&(k=D),this.current.fontSizeScale=x/k,this.ctx.font=`${v} ${H} ${k}px ${G}`}setTextRenderingMode(A){this.current.textRenderingMode=A}setTextRise(A){this.current.textRise=A}moveText(A,x){this.current.x=this.current.lineX+=A,this.current.y=this.current.lineY+=x}setLeadingMoveText(A,x){this.setLeading(-x),this.moveText(A,x)}setTextMatrix(A,x,y,L,B,G){this.current.textMatrix=[A,x,y,L,B,G],this.current.textMatrixScale=Math.hypot(A,x),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(A,x,y,L){const B=this.ctx,G=this.current,H=G.font,v=G.textRenderingMode,k=G.fontSize/G.fontSizeScale,N=v&o.TextRenderingMode.FILL_STROKE_MASK,V=!!(v&o.TextRenderingMode.ADD_TO_PATH_FLAG),Y=G.patternFill&&!H.missingFile;let $;(H.disableFontFace||V||Y)&&($=H.getPathGenerator(this.commonObjs,A)),H.disableFontFace||Y?(B.save(),B.translate(x,y),B.beginPath(),$(B,k),L&&B.setTransform(...L),(N===o.TextRenderingMode.FILL||N===o.TextRenderingMode.FILL_STROKE)&&B.fill(),(N===o.TextRenderingMode.STROKE||N===o.TextRenderingMode.FILL_STROKE)&&B.stroke(),B.restore()):((N===o.TextRenderingMode.FILL||N===o.TextRenderingMode.FILL_STROKE)&&B.fillText(A,x,y),(N===o.TextRenderingMode.STROKE||N===o.TextRenderingMode.FILL_STROKE)&&B.strokeText(A,x,y)),V&&(this.pendingTextPaths||=[]).push({transform:(0,p.getCurrentTransform)(B),x,y,fontSize:k,addToPath:$})}get isFontSubpixelAAEnabled(){const{context:A}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);A.scale(1.5,1),A.fillText("I",0,10);const x=A.getImageData(0,0,10,10).data;let y=!1;for(let L=3;L<x.length;L+=4)if(x[L]>0&&x[L]<255){y=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",y)}showText(A){const x=this.current,y=x.font;if(y.isType3Font)return this.showType3Text(A);const L=x.fontSize;if(L===0)return;const B=this.ctx,G=x.fontSizeScale,H=x.charSpacing,v=x.wordSpacing,k=x.fontDirection,N=x.textHScale*k,V=A.length,Y=y.vertical,$=Y?1:-1,rt=y.defaultVMetrics,bt=L*x.fontMatrix[0],Bt=x.textRenderingMode===o.TextRenderingMode.FILL&&!y.disableFontFace&&!x.patternFill;B.save(),B.transform(...x.textMatrix),B.translate(x.x,x.y+x.textRise),k>0?B.scale(N,-1):B.scale(N,1);let St;if(x.patternFill){B.save();const qt=x.fillColor.getPattern(B,this,(0,p.getCurrentTransformInverse)(B),l.PathType.FILL);St=(0,p.getCurrentTransform)(B),B.restore(),B.fillStyle=qt}let Ct=x.lineWidth;const Dt=x.textMatrixScale;if(Dt===0||Ct===0){const qt=x.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(qt===o.TextRenderingMode.STROKE||qt===o.TextRenderingMode.FILL_STROKE)&&(Ct=this.getSinglePixelWidth())}else Ct/=Dt;if(G!==1&&(B.scale(G,G),Ct/=G),B.lineWidth=Ct,y.isInvalidPDFjsFont){const qt=[];let Qt=0;for(const re of A)qt.push(re.unicode),Qt+=re.width;B.fillText(qt.join(""),0,0),x.x+=Qt*bt*N,B.restore(),this.compose();return}let Mt=0,jt;for(jt=0;jt<V;++jt){const qt=A[jt];if(typeof qt=="number"){Mt+=$*qt*L/1e3;continue}let Qt=!1;const re=(qt.isSpace?v:0)+H,ve=qt.fontChar,ne=qt.accent;let De,Tn,un=qt.width;if(Y){const En=qt.vmetric||rt,Xn=-(qt.vmetric?En[1]:un*.5)*bt,Li=En[2]*bt;un=En?-En[0]:un,De=Xn/G,Tn=(Mt+Li)/G}else De=Mt/G,Tn=0;if(y.remeasure&&un>0){const En=B.measureText(ve).width*1e3/L*G;if(un<En&&this.isFontSubpixelAAEnabled){const Xn=un/En;Qt=!0,B.save(),B.scale(Xn,1),De/=Xn}else un!==En&&(De+=(un-En)/2e3*L/G)}if(this.contentVisible&&(qt.isInFont||y.missingFile)){if(Bt&&!ne)B.fillText(ve,De,Tn);else if(this.paintChar(ve,De,Tn,St),ne){const En=De+L*ne.offset.x/G,Xn=Tn-L*ne.offset.y/G;this.paintChar(ne.fontChar,En,Xn,St)}}const Gn=Y?un*bt-re*k:un*bt+re*k;Mt+=Gn,Qt&&B.restore()}Y?x.y-=Mt:x.x+=Mt*N,B.restore(),this.compose()}showType3Text(A){const x=this.ctx,y=this.current,L=y.font,B=y.fontSize,G=y.fontDirection,H=L.vertical?1:-1,v=y.charSpacing,k=y.wordSpacing,N=y.textHScale*G,V=y.fontMatrix||o.FONT_IDENTITY_MATRIX,Y=A.length,$=y.textRenderingMode===o.TextRenderingMode.INVISIBLE;let rt,bt,Bt,St;if(!($||B===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,x.save(),x.transform(...y.textMatrix),x.translate(y.x,y.y),x.scale(N,G),rt=0;rt<Y;++rt){if(bt=A[rt],typeof bt=="number"){St=H*bt*B/1e3,this.ctx.translate(St,0),y.x+=St*N;continue}const Ct=(bt.isSpace?k:0)+v,Dt=L.charProcOperatorList[bt.operatorListId];if(!Dt){(0,o.warn)(`Type3 character "${bt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=bt,this.save(),x.scale(B,B),x.transform(...V),this.executeOperatorList(Dt),this.restore()),Bt=o.Util.applyTransform([bt.width,0],V)[0]*B+Ct,x.translate(Bt,0),y.x+=Bt*N}x.restore(),this.processingType3=null}}setCharWidth(A,x){}setCharWidthAndBounds(A,x,y,L,B,G){this.ctx.rect(y,L,B-y,G-L),this.ctx.clip(),this.endPath()}getColorN_Pattern(A){let x;if(A[0]==="TilingPattern"){const y=A[1],L=this.baseTransform||(0,p.getCurrentTransform)(this.ctx),B={createCanvasGraphics:G=>new j(G,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};x=new l.TilingPattern(A,y,this.ctx,B,L)}else x=this._getPattern(A[1],A[2]);return x}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(A,x,y){const L=o.Util.makeHexColor(A,x,y);this.ctx.strokeStyle=L,this.current.strokeColor=L}setFillRGBColor(A,x,y){const L=o.Util.makeHexColor(A,x,y);this.ctx.fillStyle=L,this.current.fillColor=L,this.current.patternFill=!1}_getPattern(A,x=null){let y;return this.cachedPatterns.has(A)?y=this.cachedPatterns.get(A):(y=(0,l.getShadingPattern)(this.getObject(A)),this.cachedPatterns.set(A,y)),x&&(y.matrix=x),y}shadingFill(A){if(!this.contentVisible)return;const x=this.ctx;this.save();const y=this._getPattern(A);x.fillStyle=y.getPattern(x,this,(0,p.getCurrentTransformInverse)(x),l.PathType.SHADING);const L=(0,p.getCurrentTransformInverse)(x);if(L){const{width:B,height:G}=x.canvas,[H,v,k,N]=o.Util.getAxialAlignedBoundingBox([0,0,B,G],L);this.ctx.fillRect(H,v,k-H,N-v)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(A,x){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(A)&&A.length===6&&this.transform(...A),this.baseTransform=(0,p.getCurrentTransform)(this.ctx),x)){const y=x[2]-x[0],L=x[3]-x[1];this.ctx.rect(x[0],x[1],y,L),this.current.updateRectMinMax((0,p.getCurrentTransform)(this.ctx),x),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(A){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const x=this.ctx;A.isolated||(0,o.info)("TODO: Support non-isolated groups."),A.knockout&&(0,o.warn)("Knockout groups not supported.");const y=(0,p.getCurrentTransform)(x);if(A.matrix&&x.transform(...A.matrix),!A.bbox)throw new Error("Bounding box is required.");let L=o.Util.getAxialAlignedBoundingBox(A.bbox,(0,p.getCurrentTransform)(x));const B=[0,0,x.canvas.width,x.canvas.height];L=o.Util.intersect(L,B)||[0,0,0,0];const G=Math.floor(L[0]),H=Math.floor(L[1]);let v=Math.max(Math.ceil(L[2])-G,1),k=Math.max(Math.ceil(L[3])-H,1),N=1,V=1;v>d&&(N=v/d,v=d),k>d&&(V=k/d,k=d),this.current.startNewPathAndClipBox([0,0,v,k]);let Y="groupAt"+this.groupLevel;A.smask&&(Y+="_smask_"+this.smaskCounter++%2);const $=this.cachedCanvases.getCanvas(Y,v,k),rt=$.context;rt.scale(1/N,1/V),rt.translate(-G,-H),rt.transform(...y),A.smask?this.smaskStack.push({canvas:$.canvas,context:rt,offsetX:G,offsetY:H,scaleX:N,scaleY:V,subtype:A.smask.subtype,backdrop:A.smask.backdrop,transferMap:A.smask.transferMap||null,startTransformInverse:null}):(x.setTransform(1,0,0,1,0,0),x.translate(G,H),x.scale(N,V),x.save()),w(x,rt),this.ctx=rt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(x),this.groupLevel++}endGroup(A){if(!this.contentVisible)return;this.groupLevel--;const x=this.ctx,y=this.groupStack.pop();if(this.ctx=y,this.ctx.imageSmoothingEnabled=!1,A.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const L=(0,p.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...L);const B=o.Util.getAxialAlignedBoundingBox([0,0,x.canvas.width,x.canvas.height],L);this.ctx.drawImage(x.canvas,0,0),this.ctx.restore(),this.compose(B)}}beginAnnotation(A,x,y,L,B){if(this.#t(),z(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(x)&&x.length===4){const G=x[2]-x[0],H=x[3]-x[1];if(B&&this.annotationCanvasMap){y=y.slice(),y[4]-=x[0],y[5]-=x[1],x=x.slice(),x[0]=x[1]=0,x[2]=G,x[3]=H;const[v,k]=o.Util.singularValueDecompose2dScale((0,p.getCurrentTransform)(this.ctx)),{viewportScale:N}=this,V=Math.ceil(G*this.outputScaleX*N),Y=Math.ceil(H*this.outputScaleY*N);this.annotationCanvas=this.canvasFactory.create(V,Y);const{canvas:$,context:rt}=this.annotationCanvas;this.annotationCanvasMap.set(A,$),this.annotationCanvas.savedCtx=this.ctx,this.ctx=rt,this.ctx.save(),this.ctx.setTransform(v,0,0,-k,0,H*k),z(this.ctx)}else z(this.ctx),this.ctx.rect(x[0],x[1],G,H),this.ctx.clip(),this.endPath()}this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...y),this.transform(...L)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(A){if(!this.contentVisible)return;const x=A.count;A=this.getObject(A.data,A),A.count=x;const y=this.ctx,L=this.processingType3;if(L&&(L.compiled===void 0&&(L.compiled=g(A)),L.compiled)){L.compiled(y);return}const B=this._createMaskCanvas(A),G=B.canvas;y.save(),y.setTransform(1,0,0,1,0,0),y.drawImage(G,B.offsetX,B.offsetY),y.restore(),this.compose()}paintImageMaskXObjectRepeat(A,x,y=0,L=0,B,G){if(!this.contentVisible)return;A=this.getObject(A.data,A);const H=this.ctx;H.save();const v=(0,p.getCurrentTransform)(H);H.transform(x,y,L,B,0,0);const k=this._createMaskCanvas(A);H.setTransform(1,0,0,1,k.offsetX-v[4],k.offsetY-v[5]);for(let N=0,V=G.length;N<V;N+=2){const Y=o.Util.transform(v,[x,y,L,B,G[N],G[N+1]]),[$,rt]=o.Util.applyTransform([0,0],Y);H.drawImage(k.canvas,$,rt)}H.restore(),this.compose()}paintImageMaskXObjectGroup(A){if(!this.contentVisible)return;const x=this.ctx,y=this.current.fillColor,L=this.current.patternFill;for(const B of A){const{data:G,width:H,height:v,transform:k}=B,N=this.cachedCanvases.getCanvas("maskCanvas",H,v),V=N.context;V.save();const Y=this.getObject(G,B);q(V,Y),V.globalCompositeOperation="source-in",V.fillStyle=L?y.getPattern(V,this,(0,p.getCurrentTransformInverse)(x),l.PathType.FILL):y,V.fillRect(0,0,H,v),V.restore(),x.save(),x.transform(...k),x.scale(1,-1),R(x,N.canvas,0,0,H,v,0,-1,1,1),x.restore()}this.compose()}paintImageXObject(A){if(!this.contentVisible)return;const x=this.getObject(A);if(!x){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(x)}paintImageXObjectRepeat(A,x,y,L){if(!this.contentVisible)return;const B=this.getObject(A);if(!B){(0,o.warn)("Dependent image isn't ready yet");return}const G=B.width,H=B.height,v=[];for(let k=0,N=L.length;k<N;k+=2)v.push({transform:[x,0,0,y,L[k],L[k+1]],x:0,y:0,w:G,h:H});this.paintInlineImageXObjectGroup(B,v)}applyTransferMapsToCanvas(A){return this.current.transferMaps!=="none"&&(A.filter=this.current.transferMaps,A.drawImage(A.canvas,0,0),A.filter="none"),A.canvas}applyTransferMapsToBitmap(A){if(this.current.transferMaps==="none")return A.bitmap;const{bitmap:x,width:y,height:L}=A,B=this.cachedCanvases.getCanvas("inlineImage",y,L),G=B.context;return G.filter=this.current.transferMaps,G.drawImage(x,0,0),G.filter="none",B.canvas}paintInlineImageXObject(A){if(!this.contentVisible)return;const x=A.width,y=A.height,L=this.ctx;if(this.save(),!o.isNodeJS){const{filter:H}=L;H!=="none"&&H!==""&&(L.filter="none")}L.scale(1/x,-1/y);let B;if(A.bitmap)B=this.applyTransferMapsToBitmap(A);else if(typeof HTMLElement=="function"&&A instanceof HTMLElement||!A.data)B=A;else{const v=this.cachedCanvases.getCanvas("inlineImage",x,y).context;I(v,A),B=this.applyTransferMapsToCanvas(v)}const G=this._scaleImage(B,(0,p.getCurrentTransformInverse)(L));L.imageSmoothingEnabled=yt((0,p.getCurrentTransform)(L),A.interpolate),R(L,G.img,0,0,G.paintWidth,G.paintHeight,0,-y,x,y),this.compose(),this.restore()}paintInlineImageXObjectGroup(A,x){if(!this.contentVisible)return;const y=this.ctx;let L;if(A.bitmap)L=A.bitmap;else{const B=A.width,G=A.height,v=this.cachedCanvases.getCanvas("inlineImage",B,G).context;I(v,A),L=this.applyTransferMapsToCanvas(v)}for(const B of x)y.save(),y.transform(...B.transform),y.scale(1,-1),R(y,L,B.x,B.y,B.w,B.h,0,-1,1,1),y.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(A){}markPointProps(A,x){}beginMarkedContent(A){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(A,x){A==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(x)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(A){const x=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(A);const y=this.ctx;this.pendingClip&&(x||(this.pendingClip===X?y.clip("evenodd"):y.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),y.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const A=(0,p.getCurrentTransform)(this.ctx);if(A[1]===0&&A[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(A[0]),Math.abs(A[3]));else{const x=Math.abs(A[0]*A[3]-A[2]*A[1]),y=Math.hypot(A[0],A[2]),L=Math.hypot(A[1],A[3]);this._cachedGetSinglePixelWidth=Math.max(y,L)/x}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:A}=this.current,{a:x,b:y,c:L,d:B}=this.ctx.getTransform();let G,H;if(y===0&&L===0){const v=Math.abs(x),k=Math.abs(B);if(v===k)if(A===0)G=H=1/v;else{const N=v*A;G=H=N<1?1/N:1}else if(A===0)G=1/v,H=1/k;else{const N=v*A,V=k*A;G=N<1?1/N:1,H=V<1?1/V:1}}else{const v=Math.abs(x*B-y*L),k=Math.hypot(x,y),N=Math.hypot(L,B);if(A===0)G=N/v,H=k/v;else{const V=A*v;G=N>V?N/V:1,H=k>V?k/V:1}}this._cachedScaleForStroking[0]=G,this._cachedScaleForStroking[1]=H}return this._cachedScaleForStroking}rescaleAndStroke(A){const{ctx:x}=this,{lineWidth:y}=this.current,[L,B]=this.getScaleForStroking();if(x.lineWidth=y||1,L===1&&B===1){x.stroke();return}const G=x.getLineDash();if(A&&x.save(),x.scale(L,B),G.length>0){const H=Math.max(L,B);x.setLineDash(G.map(v=>v/H)),x.lineDashOffset/=H}x.stroke(),A&&x.restore()}isContentVisible(){for(let A=this.markedContentStack.length-1;A>=0;A--)if(!this.markedContentStack[A].visible)return!1;return!0}}c.CanvasGraphics=j;for(const M in o.OPS)j.prototype[M]!==void 0&&(j.prototype[o.OPS[M]]=j.prototype[M])}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TilingPattern=c.PathType=void 0,c.getShadingPattern=b;var o=m(1),p=m(6);const l={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};c.PathType=l;function T(R,g){if(!g)return;const O=g[2]-g[0],I=g[3]-g[1],q=new Path2D;q.rect(g[0],g[1],O,I),R.clip(q)}class F{constructor(){this.constructor===F&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class D extends F{constructor(g){super(),this._type=g[1],this._bbox=g[2],this._colorStops=g[3],this._p0=g[4],this._p1=g[5],this._r0=g[6],this._r1=g[7],this.matrix=null}_createGradient(g){let O;this._type==="axial"?O=g.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(O=g.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const I of this._colorStops)O.addColorStop(I[0],I[1]);return O}getPattern(g,O,I,q){let w;if(q===l.STROKE||q===l.FILL){const z=O.current.getClippedPathBoundingBox(q,(0,p.getCurrentTransform)(g))||[0,0,0,0],Z=Math.ceil(z[2]-z[0])||1,et=Math.ceil(z[3]-z[1])||1,K=O.cachedCanvases.getCanvas("pattern",Z,et,!0),ht=K.context;ht.clearRect(0,0,ht.canvas.width,ht.canvas.height),ht.beginPath(),ht.rect(0,0,ht.canvas.width,ht.canvas.height),ht.translate(-z[0],-z[1]),I=o.Util.transform(I,[1,0,0,1,z[0],z[1]]),ht.transform(...O.baseTransform),this.matrix&&ht.transform(...this.matrix),T(ht,this._bbox),ht.fillStyle=this._createGradient(ht),ht.fill(),w=g.createPattern(K.canvas,"no-repeat");const nt=new DOMMatrix(I);w.setTransform(nt)}else T(g,this._bbox),w=this._createGradient(g);return w}}function d(R,g,O,I,q,w,z,Z){const et=g.coords,K=g.colors,ht=R.data,nt=R.width*4;let yt;et[O+1]>et[I+1]&&(yt=O,O=I,I=yt,yt=w,w=z,z=yt),et[I+1]>et[q+1]&&(yt=I,I=q,q=yt,yt=z,z=Z,Z=yt),et[O+1]>et[I+1]&&(yt=O,O=I,I=yt,yt=w,w=z,z=yt);const mt=(et[O]+g.offsetX)*g.scaleX,Et=(et[O+1]+g.offsetY)*g.scaleY,Rt=(et[I]+g.offsetX)*g.scaleX,X=(et[I+1]+g.offsetY)*g.scaleY,j=(et[q]+g.offsetX)*g.scaleX,M=(et[q+1]+g.offsetY)*g.scaleY;if(Et>=M)return;const A=K[w],x=K[w+1],y=K[w+2],L=K[z],B=K[z+1],G=K[z+2],H=K[Z],v=K[Z+1],k=K[Z+2],N=Math.round(Et),V=Math.round(M);let Y,$,rt,bt,Bt,St,Ct,Dt;for(let Mt=N;Mt<=V;Mt++){if(Mt<X){const ve=Mt<Et?0:(Et-Mt)/(Et-X);Y=mt-(mt-Rt)*ve,$=A-(A-L)*ve,rt=x-(x-B)*ve,bt=y-(y-G)*ve}else{let ve;Mt>M?ve=1:X===M?ve=0:ve=(X-Mt)/(X-M),Y=Rt-(Rt-j)*ve,$=L-(L-H)*ve,rt=B-(B-v)*ve,bt=G-(G-k)*ve}let jt;Mt<Et?jt=0:Mt>M?jt=1:jt=(Et-Mt)/(Et-M),Bt=mt-(mt-j)*jt,St=A-(A-H)*jt,Ct=x-(x-v)*jt,Dt=y-(y-k)*jt;const qt=Math.round(Math.min(Y,Bt)),Qt=Math.round(Math.max(Y,Bt));let re=nt*Mt+qt*4;for(let ve=qt;ve<=Qt;ve++)jt=(Y-ve)/(Y-Bt),jt<0?jt=0:jt>1&&(jt=1),ht[re++]=$-($-St)*jt|0,ht[re++]=rt-(rt-Ct)*jt|0,ht[re++]=bt-(bt-Dt)*jt|0,ht[re++]=255}}function s(R,g,O){const I=g.coords,q=g.colors;let w,z;switch(g.type){case"lattice":const Z=g.verticesPerRow,et=Math.floor(I.length/Z)-1,K=Z-1;for(w=0;w<et;w++){let ht=w*Z;for(let nt=0;nt<K;nt++,ht++)d(R,O,I[ht],I[ht+1],I[ht+Z],q[ht],q[ht+1],q[ht+Z]),d(R,O,I[ht+Z+1],I[ht+1],I[ht+Z],q[ht+Z+1],q[ht+1],q[ht+Z])}break;case"triangles":for(w=0,z=I.length;w<z;w+=3)d(R,O,I[w],I[w+1],I[w+2],q[w],q[w+1],q[w+2]);break;default:throw new Error("illegal figure")}}class h extends F{constructor(g){super(),this._coords=g[2],this._colors=g[3],this._figures=g[4],this._bounds=g[5],this._bbox=g[7],this._background=g[8],this.matrix=null}_createMeshCanvas(g,O,I){const Z=Math.floor(this._bounds[0]),et=Math.floor(this._bounds[1]),K=Math.ceil(this._bounds[2])-Z,ht=Math.ceil(this._bounds[3])-et,nt=Math.min(Math.ceil(Math.abs(K*g[0]*1.1)),3e3),yt=Math.min(Math.ceil(Math.abs(ht*g[1]*1.1)),3e3),mt=K/nt,Et=ht/yt,Rt={coords:this._coords,colors:this._colors,offsetX:-Z,offsetY:-et,scaleX:1/mt,scaleY:1/Et},X=nt+4,j=yt+4,M=I.getCanvas("mesh",X,j,!1),A=M.context,x=A.createImageData(nt,yt);if(O){const L=x.data;for(let B=0,G=L.length;B<G;B+=4)L[B]=O[0],L[B+1]=O[1],L[B+2]=O[2],L[B+3]=255}for(const L of this._figures)s(x,L,Rt);return A.putImageData(x,2,2),{canvas:M.canvas,offsetX:Z-2*mt,offsetY:et-2*Et,scaleX:mt,scaleY:Et}}getPattern(g,O,I,q){T(g,this._bbox);let w;if(q===l.SHADING)w=o.Util.singularValueDecompose2dScale((0,p.getCurrentTransform)(g));else if(w=o.Util.singularValueDecompose2dScale(O.baseTransform),this.matrix){const Z=o.Util.singularValueDecompose2dScale(this.matrix);w=[w[0]*Z[0],w[1]*Z[1]]}const z=this._createMeshCanvas(w,q===l.SHADING?null:this._background,O.cachedCanvases);return q!==l.SHADING&&(g.setTransform(...O.baseTransform),this.matrix&&g.transform(...this.matrix)),g.translate(z.offsetX,z.offsetY),g.scale(z.scaleX,z.scaleY),g.createPattern(z.canvas,"no-repeat")}}class _ extends F{getPattern(){return"hotpink"}}function b(R){switch(R[0]){case"RadialAxial":return new D(R);case"Mesh":return new h(R);case"Dummy":return new _}throw new Error(`Unknown IR type: ${R[0]}`)}const f={COLORED:1,UNCOLORED:2};class S{static MAX_PATTERN_SIZE=3e3;constructor(g,O,I,q,w){this.operatorList=g[2],this.matrix=g[3]||[1,0,0,1,0,0],this.bbox=g[4],this.xstep=g[5],this.ystep=g[6],this.paintType=g[7],this.tilingType=g[8],this.color=O,this.ctx=I,this.canvasGraphicsFactory=q,this.baseTransform=w}createPatternCanvas(g){const O=this.operatorList,I=this.bbox,q=this.xstep,w=this.ystep,z=this.paintType,Z=this.tilingType,et=this.color,K=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+Z);const ht=I[0],nt=I[1],yt=I[2],mt=I[3],Et=o.Util.singularValueDecompose2dScale(this.matrix),Rt=o.Util.singularValueDecompose2dScale(this.baseTransform),X=[Et[0]*Rt[0],Et[1]*Rt[1]],j=this.getSizeAndScale(q,this.ctx.canvas.width,X[0]),M=this.getSizeAndScale(w,this.ctx.canvas.height,X[1]),A=g.cachedCanvases.getCanvas("pattern",j.size,M.size,!0),x=A.context,y=K.createCanvasGraphics(x);y.groupLevel=g.groupLevel,this.setFillAndStrokeStyleToContext(y,z,et);let L=ht,B=nt,G=yt,H=mt;return ht<0&&(L=0,G+=Math.abs(ht)),nt<0&&(B=0,H+=Math.abs(nt)),x.translate(-(j.scale*L),-(M.scale*B)),y.transform(j.scale,0,0,M.scale,0,0),x.save(),this.clipBbox(y,L,B,G,H),y.baseTransform=(0,p.getCurrentTransform)(y.ctx),y.executeOperatorList(O),y.endDrawing(),{canvas:A.canvas,scaleX:j.scale,scaleY:M.scale,offsetX:L,offsetY:B}}getSizeAndScale(g,O,I){g=Math.abs(g);const q=Math.max(S.MAX_PATTERN_SIZE,O);let w=Math.ceil(g*I);return w>=q?w=q:I=w/g,{scale:I,size:w}}clipBbox(g,O,I,q,w){const z=q-O,Z=w-I;g.ctx.rect(O,I,z,Z),g.current.updateRectMinMax((0,p.getCurrentTransform)(g.ctx),[O,I,q,w]),g.clip(),g.endPath()}setFillAndStrokeStyleToContext(g,O,I){const q=g.ctx,w=g.current;switch(O){case f.COLORED:const z=this.ctx;q.fillStyle=z.fillStyle,q.strokeStyle=z.strokeStyle,w.fillColor=z.fillStyle,w.strokeColor=z.strokeStyle;break;case f.UNCOLORED:const Z=o.Util.makeHexColor(I[0],I[1],I[2]);q.fillStyle=Z,q.strokeStyle=Z,w.fillColor=Z,w.strokeColor=Z;break;default:throw new o.FormatError(`Unsupported paint type: ${O}`)}}getPattern(g,O,I,q){let w=I;q!==l.SHADING&&(w=o.Util.transform(w,O.baseTransform),this.matrix&&(w=o.Util.transform(w,this.matrix)));const z=this.createPatternCanvas(O);let Z=new DOMMatrix(w);Z=Z.translate(z.offsetX,z.offsetY),Z=Z.scale(1/z.scaleX,1/z.scaleY);const et=g.createPattern(z.canvas,"repeat");return et.setTransform(Z),et}}c.TilingPattern=S}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.convertBlackAndWhiteToRGBA=l,c.convertToRGBA=p,c.grayToRGBA=F;var o=m(1);function p(D){switch(D.kind){case o.ImageKind.GRAYSCALE_1BPP:return l(D);case o.ImageKind.RGB_24BPP:return T(D)}return null}function l({src:D,srcPos:d=0,dest:s,width:h,height:_,nonBlackColor:b=4294967295,inverseDecode:f=!1}){const S=o.FeatureTest.isLittleEndian?4278190080:255,[R,g]=f?[b,S]:[S,b],O=h>>3,I=h&7,q=D.length;s=new Uint32Array(s.buffer);let w=0;for(let z=0;z<_;z++){for(const et=d+O;d<et;d++){const K=d<q?D[d]:255;s[w++]=K&128?g:R,s[w++]=K&64?g:R,s[w++]=K&32?g:R,s[w++]=K&16?g:R,s[w++]=K&8?g:R,s[w++]=K&4?g:R,s[w++]=K&2?g:R,s[w++]=K&1?g:R}if(I===0)continue;const Z=d<q?D[d++]:255;for(let et=0;et<I;et++)s[w++]=Z&1<<7-et?g:R}return{srcPos:d,destPos:w}}function T({src:D,srcPos:d=0,dest:s,destPos:h=0,width:_,height:b}){let f=0;const S=D.length>>2,R=new Uint32Array(D.buffer,d,S);if(o.FeatureTest.isLittleEndian){for(;f<S-2;f+=3,h+=4){const g=R[f],O=R[f+1],I=R[f+2];s[h]=g|4278190080,s[h+1]=g>>>24|O<<8|4278190080,s[h+2]=O>>>16|I<<16|4278190080,s[h+3]=I>>>8|4278190080}for(let g=f*4,O=D.length;g<O;g+=3)s[h++]=D[g]|D[g+1]<<8|D[g+2]<<16|4278190080}else{for(;f<S-2;f+=3,h+=4){const g=R[f],O=R[f+1],I=R[f+2];s[h]=g|255,s[h+1]=g<<24|O>>>8|255,s[h+2]=O<<16|I>>>16|255,s[h+3]=I<<8|255}for(let g=f*4,O=D.length;g<O;g+=3)s[h++]=D[g]<<24|D[g+1]<<16|D[g+2]<<8|255}return{srcPos:d,destPos:h}}function F(D,d){if(o.FeatureTest.isLittleEndian)for(let s=0,h=D.length;s<h;s++)d[s]=D[s]*65793|4278190080;else for(let s=0,h=D.length;s<h;s++)d[s]=D[s]*16843008|255}}),((a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GlobalWorkerOptions=void 0;const m=Object.create(null);c.GlobalWorkerOptions=m,m.workerPort=null,m.workerSrc=""}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.MessageHandler=void 0;var o=m(1);const p={DATA:1,ERROR:2},l={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function T(D){switch(D instanceof Error||typeof D=="object"&&D!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),D.name){case"AbortException":return new o.AbortException(D.message);case"MissingPDFException":return new o.MissingPDFException(D.message);case"PasswordException":return new o.PasswordException(D.message,D.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(D.message,D.status);case"UnknownErrorException":return new o.UnknownErrorException(D.message,D.details);default:return new o.UnknownErrorException(D.message,D.toString())}}class F{constructor(d,s,h){this.sourceName=d,this.targetName=s,this.comObj=h,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=_=>{const b=_.data;if(b.targetName!==this.sourceName)return;if(b.stream){this.#e(b);return}if(b.callback){const S=b.callbackId,R=this.callbackCapabilities[S];if(!R)throw new Error(`Cannot resolve callback ${S}`);if(delete this.callbackCapabilities[S],b.callback===p.DATA)R.resolve(b.data);else if(b.callback===p.ERROR)R.reject(T(b.reason));else throw new Error("Unexpected callback case");return}const f=this.actionHandler[b.action];if(!f)throw new Error(`Unknown action from worker: ${b.action}`);if(b.callbackId){const S=this.sourceName,R=b.sourceName;new Promise(function(g){g(f(b.data))}).then(function(g){h.postMessage({sourceName:S,targetName:R,callback:p.DATA,callbackId:b.callbackId,data:g})},function(g){h.postMessage({sourceName:S,targetName:R,callback:p.ERROR,callbackId:b.callbackId,reason:T(g)})});return}if(b.streamId){this.#t(b);return}f(b.data)},h.addEventListener("message",this._onComObjOnMessage)}on(d,s){const h=this.actionHandler;if(h[d])throw new Error(`There is already an actionName called "${d}"`);h[d]=s}send(d,s,h){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:s},h)}sendWithPromise(d,s,h){const _=this.callbackId++,b=new o.PromiseCapability;this.callbackCapabilities[_]=b;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:_,data:s},h)}catch(f){b.reject(f)}return b.promise}sendWithStream(d,s,h,_){const b=this.streamId++,f=this.sourceName,S=this.targetName,R=this.comObj;return new ReadableStream({start:g=>{const O=new o.PromiseCapability;return this.streamControllers[b]={controller:g,startCall:O,pullCall:null,cancelCall:null,isClosed:!1},R.postMessage({sourceName:f,targetName:S,action:d,streamId:b,data:s,desiredSize:g.desiredSize},_),O.promise},pull:g=>{const O=new o.PromiseCapability;return this.streamControllers[b].pullCall=O,R.postMessage({sourceName:f,targetName:S,stream:l.PULL,streamId:b,desiredSize:g.desiredSize}),O.promise},cancel:g=>{(0,o.assert)(g instanceof Error,"cancel must have a valid reason");const O=new o.PromiseCapability;return this.streamControllers[b].cancelCall=O,this.streamControllers[b].isClosed=!0,R.postMessage({sourceName:f,targetName:S,stream:l.CANCEL,streamId:b,reason:T(g)}),O.promise}},h)}#t(d){const s=d.streamId,h=this.sourceName,_=d.sourceName,b=this.comObj,f=this,S=this.actionHandler[d.action],R={enqueue(g,O=1,I){if(this.isCancelled)return;const q=this.desiredSize;this.desiredSize-=O,q>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),b.postMessage({sourceName:h,targetName:_,stream:l.ENQUEUE,streamId:s,chunk:g},I)},close(){this.isCancelled||(this.isCancelled=!0,b.postMessage({sourceName:h,targetName:_,stream:l.CLOSE,streamId:s}),delete f.streamSinks[s])},error(g){(0,o.assert)(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,b.postMessage({sourceName:h,targetName:_,stream:l.ERROR,streamId:s,reason:T(g)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};R.sinkCapability.resolve(),R.ready=R.sinkCapability.promise,this.streamSinks[s]=R,new Promise(function(g){g(S(d.data,R))}).then(function(){b.postMessage({sourceName:h,targetName:_,stream:l.START_COMPLETE,streamId:s,success:!0})},function(g){b.postMessage({sourceName:h,targetName:_,stream:l.START_COMPLETE,streamId:s,reason:T(g)})})}#e(d){const s=d.streamId,h=this.sourceName,_=d.sourceName,b=this.comObj,f=this.streamControllers[s],S=this.streamSinks[s];switch(d.stream){case l.START_COMPLETE:d.success?f.startCall.resolve():f.startCall.reject(T(d.reason));break;case l.PULL_COMPLETE:d.success?f.pullCall.resolve():f.pullCall.reject(T(d.reason));break;case l.PULL:if(!S){b.postMessage({sourceName:h,targetName:_,stream:l.PULL_COMPLETE,streamId:s,success:!0});break}S.desiredSize<=0&&d.desiredSize>0&&S.sinkCapability.resolve(),S.desiredSize=d.desiredSize,new Promise(function(R){R(S.onPull?.())}).then(function(){b.postMessage({sourceName:h,targetName:_,stream:l.PULL_COMPLETE,streamId:s,success:!0})},function(R){b.postMessage({sourceName:h,targetName:_,stream:l.PULL_COMPLETE,streamId:s,reason:T(R)})});break;case l.ENQUEUE:if((0,o.assert)(f,"enqueue should have stream controller"),f.isClosed)break;f.controller.enqueue(d.chunk);break;case l.CLOSE:if((0,o.assert)(f,"close should have stream controller"),f.isClosed)break;f.isClosed=!0,f.controller.close(),this.#n(f,s);break;case l.ERROR:(0,o.assert)(f,"error should have stream controller"),f.controller.error(T(d.reason)),this.#n(f,s);break;case l.CANCEL_COMPLETE:d.success?f.cancelCall.resolve():f.cancelCall.reject(T(d.reason)),this.#n(f,s);break;case l.CANCEL:if(!S)break;new Promise(function(R){R(S.onCancel?.(T(d.reason)))}).then(function(){b.postMessage({sourceName:h,targetName:_,stream:l.CANCEL_COMPLETE,streamId:s,success:!0})},function(R){b.postMessage({sourceName:h,targetName:_,stream:l.CANCEL_COMPLETE,streamId:s,reason:T(R)})}),S.sinkCapability.reject(T(d.reason)),S.isCancelled=!0,delete this.streamSinks[s];break;default:throw new Error("Unexpected stream case")}}async#n(d,s){await Promise.allSettled([d.startCall?.promise,d.pullCall?.promise,d.cancelCall?.promise]),delete this.streamControllers[s]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}c.MessageHandler=F}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Metadata=void 0;var o=m(1);class p{#t;#e;constructor({parsedData:T,rawData:F}){this.#t=T,this.#e=F}getRaw(){return this.#e}get(T){return this.#t.get(T)??null}getAll(){return(0,o.objectFromMap)(this.#t)}has(T){return this.#t.has(T)}}c.Metadata=p}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.OptionalContentConfig=void 0;var o=m(1),p=m(8);const l=Symbol("INTERNAL");class T{#t=!0;constructor(d,s){this.name=d,this.intent=s}get visible(){return this.#t}_setVisible(d,s){d!==l&&(0,o.unreachable)("Internal method `_setVisible` called."),this.#t=s}}class F{#t=null;#e=new Map;#n=null;#i=null;constructor(d){if(this.name=null,this.creator=null,d!==null){this.name=d.name,this.creator=d.creator,this.#i=d.order;for(const s of d.groups)this.#e.set(s.id,new T(s.name,s.intent));if(d.baseState==="OFF")for(const s of this.#e.values())s._setVisible(l,!1);for(const s of d.on)this.#e.get(s)._setVisible(l,!0);for(const s of d.off)this.#e.get(s)._setVisible(l,!1);this.#n=this.getHash()}}#o(d){const s=d.length;if(s<2)return!0;const h=d[0];for(let _=1;_<s;_++){const b=d[_];let f;if(Array.isArray(b))f=this.#o(b);else if(this.#e.has(b))f=this.#e.get(b).visible;else return(0,o.warn)(`Optional content group not found: ${b}`),!0;switch(h){case"And":if(!f)return!1;break;case"Or":if(f)return!0;break;case"Not":return!f;default:return!0}}return h==="And"}isVisible(d){if(this.#e.size===0)return!0;if(!d)return(0,o.warn)("Optional content group not defined."),!0;if(d.type==="OCG")return this.#e.has(d.id)?this.#e.get(d.id).visible:((0,o.warn)(`Optional content group not found: ${d.id}`),!0);if(d.type==="OCMD"){if(d.expression)return this.#o(d.expression);if(!d.policy||d.policy==="AnyOn"){for(const s of d.ids){if(!this.#e.has(s))return(0,o.warn)(`Optional content group not found: ${s}`),!0;if(this.#e.get(s).visible)return!0}return!1}else if(d.policy==="AllOn"){for(const s of d.ids){if(!this.#e.has(s))return(0,o.warn)(`Optional content group not found: ${s}`),!0;if(!this.#e.get(s).visible)return!1}return!0}else if(d.policy==="AnyOff"){for(const s of d.ids){if(!this.#e.has(s))return(0,o.warn)(`Optional content group not found: ${s}`),!0;if(!this.#e.get(s).visible)return!0}return!1}else if(d.policy==="AllOff"){for(const s of d.ids){if(!this.#e.has(s))return(0,o.warn)(`Optional content group not found: ${s}`),!0;if(this.#e.get(s).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${d.policy}.`),!0}return(0,o.warn)(`Unknown group type ${d.type}.`),!0}setVisibility(d,s=!0){if(!this.#e.has(d)){(0,o.warn)(`Optional content group not found: ${d}`);return}this.#e.get(d)._setVisible(l,!!s),this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroups(){return this.#e.size>0?(0,o.objectFromMap)(this.#e):null}getGroup(d){return this.#e.get(d)||null}getHash(){if(this.#t!==null)return this.#t;const d=new p.MurmurHash3_64;for(const[s,h]of this.#e)d.update(`${s}:${h.visible}`);return this.#t=d.hexdigest()}}c.OptionalContentConfig=F}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFDataTransportStream=void 0;var o=m(1),p=m(6);class l{constructor({length:d,initialData:s,progressiveDone:h=!1,contentDispositionFilename:_=null,disableRange:b=!1,disableStream:f=!1},S){if((0,o.assert)(S,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=h,this._contentDispositionFilename=_,s?.length>0){const R=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(R)}this._pdfDataRangeTransport=S,this._isStreamingSupported=!f,this._isRangeSupported=!b,this._contentLength=d,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((R,g)=>{this._onReceiveData({begin:R,chunk:g})}),this._pdfDataRangeTransport.addProgressListener((R,g)=>{this._onProgress({loaded:R,total:g})}),this._pdfDataRangeTransport.addProgressiveReadListener(R=>{this._onReceiveData({chunk:R})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:d,chunk:s}){const h=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;if(d===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(h):this._queuedChunks.push(h);else{const _=this._rangeReaders.some(function(b){return b._begin!==d?!1:(b._enqueue(h),!0)});(0,o.assert)(_,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(d){d.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:d.loaded}):this._fullRequestReader?.onProgress?.({loaded:d.loaded,total:d.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){const s=this._rangeReaders.indexOf(d);s>=0&&this._rangeReaders.splice(s,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const d=this._queuedChunks;return this._queuedChunks=null,new T(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,s){if(s<=this._progressiveDataLength)return null;const h=new F(this,d,s);return this._pdfDataRangeTransport.requestDataRange(d,s),this._rangeReaders.push(h),h}cancelAllRequests(d){this._fullRequestReader?.cancel(d);for(const s of this._rangeReaders.slice(0))s.cancel(d);this._pdfDataRangeTransport.abort()}}c.PDFDataTransportStream=l;class T{constructor(d,s,h=!1,_=null){this._stream=d,this._done=h||!1,this._filename=(0,p.isPdfFile)(_)?_:null,this._queuedChunks=s||[],this._loaded=0;for(const b of this._queuedChunks)this._loaded+=b.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const d=new o.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class F{constructor(d,s,h){this._stream=d,this._begin=s,this._end=h,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(this._requests.length===0)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const d=new o.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFFetchStream=void 0;var o=m(1),p=m(20);function l(h,_,b){return{method:"GET",headers:h,signal:b.signal,mode:"cors",credentials:_?"include":"same-origin",redirect:"follow"}}function T(h){const _=new Headers;for(const b in h){const f=h[b];f!==void 0&&_.append(b,f)}return _}function F(h){return h instanceof Uint8Array?h.buffer:h instanceof ArrayBuffer?h:((0,o.warn)(`getArrayBuffer - unexpected data format: ${h}`),new Uint8Array(h).buffer)}class D{constructor(_){this.source=_,this.isHttp=/^https?:/i.test(_.url),this.httpHeaders=this.isHttp&&_.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new d(this),this._fullRequestReader}getRangeReader(_,b){if(b<=this._progressiveDataLength)return null;const f=new s(this,_,b);return this._rangeRequestReaders.push(f),f}cancelAllRequests(_){this._fullRequestReader?.cancel(_);for(const b of this._rangeRequestReaders.slice(0))b.cancel(_)}}c.PDFFetchStream=D;class d{constructor(_){this._stream=_,this._reader=null,this._loaded=0,this._filename=null;const b=_.source;this._withCredentials=b.withCredentials||!1,this._contentLength=b.length,this._headersCapability=new o.PromiseCapability,this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._headers=T(this._stream.httpHeaders);const f=b.url;fetch(f,l(this._headers,this._withCredentials,this._abortController)).then(S=>{if(!(0,p.validateResponseStatus)(S.status))throw(0,p.createResponseStatusError)(S.status,f);this._reader=S.body.getReader(),this._headersCapability.resolve();const R=I=>S.headers.get(I),{allowRangeRequests:g,suggestedLength:O}=(0,p.validateRangeRequestCapabilities)({getResponseHeader:R,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=O||this._contentLength,this._filename=(0,p.extractFilenameFromHeader)(R),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:_,done:b}=await this._reader.read();return b?{value:_,done:b}:(this._loaded+=_.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:F(_),done:!1})}cancel(_){this._reader?.cancel(_),this._abortController.abort()}}class s{constructor(_,b,f){this._stream=_,this._reader=null,this._loaded=0;const S=_.source;this._withCredentials=S.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!S.disableStream,this._abortController=new AbortController,this._headers=T(this._stream.httpHeaders),this._headers.append("Range",`bytes=${b}-${f-1}`);const R=S.url;fetch(R,l(this._headers,this._withCredentials,this._abortController)).then(g=>{if(!(0,p.validateResponseStatus)(g.status))throw(0,p.createResponseStatusError)(g.status,R);this._readCapability.resolve(),this._reader=g.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:_,done:b}=await this._reader.read();return b?{value:_,done:b}:(this._loaded+=_.byteLength,this.onProgress?.({loaded:this._loaded}),{value:F(_),done:!1})}cancel(_){this._reader?.cancel(_),this._abortController.abort()}}}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createResponseStatusError=D,c.extractFilenameFromHeader=F,c.validateRangeRequestCapabilities=T,c.validateResponseStatus=d;var o=m(1),p=m(21),l=m(6);function T({getResponseHeader:s,isHttp:h,rangeChunkSize:_,disableRange:b}){const f={allowRangeRequests:!1,suggestedLength:void 0},S=parseInt(s("Content-Length"),10);return!Number.isInteger(S)||(f.suggestedLength=S,S<=2*_)||b||!h||s("Accept-Ranges")!=="bytes"||(s("Content-Encoding")||"identity")!=="identity"||(f.allowRangeRequests=!0),f}function F(s){const h=s("Content-Disposition");if(h){let _=(0,p.getFilenameFromContentDispositionHeader)(h);if(_.includes("%"))try{_=decodeURIComponent(_)}catch{}if((0,l.isPdfFile)(_))return _}return null}function D(s,h){return s===404||s===0&&h.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+h+'".'):new o.UnexpectedResponseException(`Unexpected server response (${s}) while retrieving PDF "${h}".`,s)}function d(s){return s===200||s===206}}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.getFilenameFromContentDispositionHeader=p;var o=m(1);function p(l){let T=!0,F=D("filename\\*","i").exec(l);if(F){F=F[1];let S=_(F);return S=unescape(S),S=b(S),S=f(S),s(S)}if(F=h(l),F){const S=f(F);return s(S)}if(F=D("filename","i").exec(l),F){F=F[1];let S=_(F);return S=f(S),s(S)}function D(S,R){return new RegExp("(?:^|;)\\s*"+S+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',R)}function d(S,R){if(S){if(!/^[\x00-\xFF]+$/.test(R))return R;try{const g=new TextDecoder(S,{fatal:!0}),O=(0,o.stringToBytes)(R);R=g.decode(O),T=!1}catch{}}return R}function s(S){return T&&/[\x80-\xff]/.test(S)&&(S=d("utf-8",S),T&&(S=d("iso-8859-1",S))),S}function h(S){const R=[];let g;const O=D("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=O.exec(S))!==null;){let[,q,w,z]=g;if(q=parseInt(q,10),q in R){if(q===0)break;continue}R[q]=[w,z]}const I=[];for(let q=0;q<R.length&&q in R;++q){let[w,z]=R[q];z=_(z),w&&(z=unescape(z),q===0&&(z=b(z))),I.push(z)}return I.join("")}function _(S){if(S.startsWith('"')){const R=S.slice(1).split('\\"');for(let g=0;g<R.length;++g){const O=R[g].indexOf('"');O!==-1&&(R[g]=R[g].slice(0,O),R.length=g+1),R[g]=R[g].replaceAll(/\\(.)/g,"$1")}S=R.join('"')}return S}function b(S){const R=S.indexOf("'");if(R===-1)return S;const g=S.slice(0,R),I=S.slice(R+1).replace(/^[^']*'/,"");return d(g,I)}function f(S){return!S.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(S)?S:S.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(R,g,O,I){if(O==="q"||O==="Q")return I=I.replaceAll("_"," "),I=I.replaceAll(/=([0-9a-fA-F]{2})/g,function(q,w){return String.fromCharCode(parseInt(w,16))}),d(g,I);try{I=atob(I)}catch{}return d(g,I)})}return""}}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFNetworkStream=void 0;var o=m(1),p=m(20);const l=200,T=206;function F(_){const b=_.response;return typeof b!="string"?b:(0,o.stringToBytes)(b).buffer}class D{constructor(b,f={}){this.url=b,this.isHttp=/^https?:/i.test(b),this.httpHeaders=this.isHttp&&f.httpHeaders||Object.create(null),this.withCredentials=f.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(b,f,S){const R={begin:b,end:f};for(const g in S)R[g]=S[g];return this.request(R)}requestFull(b){return this.request(b)}request(b){const f=new XMLHttpRequest,S=this.currXhrId++,R=this.pendingRequests[S]={xhr:f};f.open("GET",this.url),f.withCredentials=this.withCredentials;for(const g in this.httpHeaders){const O=this.httpHeaders[g];O!==void 0&&f.setRequestHeader(g,O)}return this.isHttp&&"begin"in b&&"end"in b?(f.setRequestHeader("Range",`bytes=${b.begin}-${b.end-1}`),R.expectedStatus=T):R.expectedStatus=l,f.responseType="arraybuffer",b.onError&&(f.onerror=function(g){b.onError(f.status)}),f.onreadystatechange=this.onStateChange.bind(this,S),f.onprogress=this.onProgress.bind(this,S),R.onHeadersReceived=b.onHeadersReceived,R.onDone=b.onDone,R.onError=b.onError,R.onProgress=b.onProgress,f.send(null),S}onProgress(b,f){const S=this.pendingRequests[b];S&&S.onProgress?.(f)}onStateChange(b,f){const S=this.pendingRequests[b];if(!S)return;const R=S.xhr;if(R.readyState>=2&&S.onHeadersReceived&&(S.onHeadersReceived(),delete S.onHeadersReceived),R.readyState!==4||!(b in this.pendingRequests))return;if(delete this.pendingRequests[b],R.status===0&&this.isHttp){S.onError?.(R.status);return}const g=R.status||l;if(!(g===l&&S.expectedStatus===T)&&g!==S.expectedStatus){S.onError?.(R.status);return}const I=F(R);if(g===T){const q=R.getResponseHeader("Content-Range"),w=/bytes (\d+)-(\d+)\/(\d+)/.exec(q);S.onDone({begin:parseInt(w[1],10),chunk:I})}else I?S.onDone({begin:0,chunk:I}):S.onError?.(R.status)}getRequestXhr(b){return this.pendingRequests[b].xhr}isPendingRequest(b){return b in this.pendingRequests}abortRequest(b){const f=this.pendingRequests[b].xhr;delete this.pendingRequests[b],f.abort()}}class d{constructor(b){this._source=b,this._manager=new D(b.url,{httpHeaders:b.httpHeaders,withCredentials:b.withCredentials}),this._rangeChunkSize=b.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(b){const f=this._rangeRequestReaders.indexOf(b);f>=0&&this._rangeRequestReaders.splice(f,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}getRangeReader(b,f){const S=new h(this._manager,b,f);return S.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(S),S}cancelAllRequests(b){this._fullRequestReader?.cancel(b);for(const f of this._rangeRequestReaders.slice(0))f.cancel(b)}}c.PDFNetworkStream=d;class s{constructor(b,f){this._manager=b;const S={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=f.url,this._fullRequestId=b.requestFull(S),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=f.disableRange||!1,this._contentLength=f.length,this._rangeChunkSize=f.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const b=this._fullRequestId,f=this._manager.getRequestXhr(b),S=O=>f.getResponseHeader(O),{allowRangeRequests:R,suggestedLength:g}=(0,p.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});R&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=(0,p.extractFilenameFromHeader)(S),this._isRangeSupported&&this._manager.abortRequest(b),this._headersReceivedCapability.resolve()}_onDone(b){if(b&&(this._requests.length>0?this._requests.shift().resolve({value:b.chunk,done:!1}):this._cachedChunks.push(b.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(b){this._storedError=(0,p.createResponseStatusError)(b,this._url),this._headersReceivedCapability.reject(this._storedError);for(const f of this._requests)f.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(b){this.onProgress?.({loaded:b.loaded,total:b.lengthComputable?b.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=new o.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0,this._headersReceivedCapability.reject(b);for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class h{constructor(b,f,S){this._manager=b;const R={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._requestId=b.requestRange(f,S,R),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(b){const f=b.chunk;this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunk=f,this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(b){this._storedError=(0,p.createResponseStatusError)(b,this._url);for(const f of this._requests)f.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(b){this.isStreamingSupported||this.onProgress?.({loaded:b.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const f=this._queuedChunk;return this._queuedChunk=null,{value:f,done:!1}}if(this._done)return{value:void 0,done:!0};const b=new o.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFNodeStream=void 0;var o=m(1),p=m(20);const l=/^file:\/\/\/[a-zA-Z]:\//;function T(S){const R=require$$5,g=R.parse(S);return g.protocol==="file:"||g.host?g:/^[a-z]:[/\\]/i.test(S)?R.parse(`file:///${S}`):(g.host||(g.protocol="file:"),g)}class F{constructor(R){this.source=R,this.url=T(R.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&R.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new b(this):new h(this),this._fullRequestReader}getRangeReader(R,g){if(g<=this._progressiveDataLength)return null;const O=this.isFsUrl?new f(this,R,g):new _(this,R,g);return this._rangeRequestReaders.push(O),O}cancelAllRequests(R){this._fullRequestReader?.cancel(R);for(const g of this._rangeRequestReaders.slice(0))g.cancel(R)}}c.PDFNodeStream=F;class D{constructor(R){this._url=R.url,this._done=!1,this._storedError=null,this.onProgress=null;const g=R.source;this._contentLength=g.length,this._loaded=0,this._filename=null,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const R=this._readableStream.read();return R===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=R.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(R).buffer,done:!1})}cancel(R){if(!this._readableStream){this._error(R);return}this._readableStream.destroy(R)}_error(R){this._storedError=R,this._readCapability.resolve()}_setReadableStream(R){this._readableStream=R,R.on("readable",()=>{this._readCapability.resolve()}),R.on("end",()=>{R.destroy(),this._done=!0,this._readCapability.resolve()}),R.on("error",g=>{this._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d{constructor(R){this._url=R.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const g=R.source;this._isStreamingSupported=!g.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const R=this._readableStream.read();return R===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=R.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(R).buffer,done:!1})}cancel(R){if(!this._readableStream){this._error(R);return}this._readableStream.destroy(R)}_error(R){this._storedError=R,this._readCapability.resolve()}_setReadableStream(R){this._readableStream=R,R.on("readable",()=>{this._readCapability.resolve()}),R.on("end",()=>{R.destroy(),this._done=!0,this._readCapability.resolve()}),R.on("error",g=>{this._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function s(S,R){return{protocol:S.protocol,auth:S.auth,host:S.hostname,port:S.port,path:S.path,method:"GET",headers:R}}class h extends D{constructor(R){super(R);const g=O=>{if(O.statusCode===404){const z=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=z,this._headersCapability.reject(z);return}this._headersCapability.resolve(),this._setReadableStream(O);const I=z=>this._readableStream.headers[z.toLowerCase()],{allowRangeRequests:q,suggestedLength:w}=(0,p.validateRangeRequestCapabilities)({getResponseHeader:I,isHttp:R.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=q,this._contentLength=w||this._contentLength,this._filename=(0,p.extractFilenameFromHeader)(I)};if(this._request=null,this._url.protocol==="http:"){const O=require$$5;this._request=O.request(s(this._url,R.httpHeaders),g)}else{const O=require$$5;this._request=O.request(s(this._url,R.httpHeaders),g)}this._request.on("error",O=>{this._storedError=O,this._headersCapability.reject(O)}),this._request.end()}}class _ extends d{constructor(R,g,O){super(R),this._httpHeaders={};for(const q in R.httpHeaders){const w=R.httpHeaders[q];w!==void 0&&(this._httpHeaders[q]=w)}this._httpHeaders.Range=`bytes=${g}-${O-1}`;const I=q=>{if(q.statusCode===404){const w=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=w;return}this._setReadableStream(q)};if(this._request=null,this._url.protocol==="http:"){const q=require$$5;this._request=q.request(s(this._url,this._httpHeaders),I)}else{const q=require$$5;this._request=q.request(s(this._url,this._httpHeaders),I)}this._request.on("error",q=>{this._storedError=q}),this._request.end()}}class b extends D{constructor(R){super(R);let g=decodeURIComponent(this._url.path);l.test(this._url.href)&&(g=g.replace(/^\//,""));const O=require$$5;O.lstat(g,(I,q)=>{if(I){I.code==="ENOENT"&&(I=new o.MissingPDFException(`Missing PDF "${g}".`)),this._storedError=I,this._headersCapability.reject(I);return}this._contentLength=q.size,this._setReadableStream(O.createReadStream(g)),this._headersCapability.resolve()})}}class f extends d{constructor(R,g,O){super(R);let I=decodeURIComponent(this._url.path);l.test(this._url.href)&&(I=I.replace(/^\//,""));const q=require$$5;this._setReadableStream(q.createReadStream(I,{start:g,end:O-1}))}}}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SVGGraphics=void 0;var o=m(6),p=m(1);const l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},T="http://www.w3.org/XML/1998/namespace",F="http://www.w3.org/1999/xlink",D=["butt","round","square"],d=["miter","round","bevel"],s=function(q,w="",z=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!z)return URL.createObjectURL(new Blob([q],{type:w}));const Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let et=`data:${w};base64,`;for(let K=0,ht=q.length;K<ht;K+=3){const nt=q[K]&255,yt=q[K+1]&255,mt=q[K+2]&255,Et=nt>>2,Rt=(nt&3)<<4|yt>>4,X=K+1<ht?(yt&15)<<2|mt>>6:64,j=K+2<ht?mt&63:64;et+=Z[Et]+Z[Rt]+Z[X]+Z[j]}return et},h=(function(){const q=new Uint8Array([137,80,78,71,13,10,26,10]),w=12,z=new Int32Array(256);for(let mt=0;mt<256;mt++){let Et=mt;for(let Rt=0;Rt<8;Rt++)Et=Et&1?3988292384^Et>>1&2147483647:Et>>1&2147483647;z[mt]=Et}function Z(mt,Et,Rt){let X=-1;for(let j=Et;j<Rt;j++){const M=(X^mt[j])&255,A=z[M];X=X>>>8^A}return X^-1}function et(mt,Et,Rt,X){let j=X;const M=Et.length;Rt[j]=M>>24&255,Rt[j+1]=M>>16&255,Rt[j+2]=M>>8&255,Rt[j+3]=M&255,j+=4,Rt[j]=mt.charCodeAt(0)&255,Rt[j+1]=mt.charCodeAt(1)&255,Rt[j+2]=mt.charCodeAt(2)&255,Rt[j+3]=mt.charCodeAt(3)&255,j+=4,Rt.set(Et,j),j+=Et.length;const A=Z(Rt,X+4,j);Rt[j]=A>>24&255,Rt[j+1]=A>>16&255,Rt[j+2]=A>>8&255,Rt[j+3]=A&255}function K(mt,Et,Rt){let X=1,j=0;for(let M=Et;M<Rt;++M)X=(X+(mt[M]&255))%65521,j=(j+X)%65521;return j<<16|X}function ht(mt){if(!p.isNodeJS)return nt(mt);try{const Et=parseInt(process.versions.node)>=8?mt:Buffer.from(mt),Rt=require$$5.deflateSync(Et,{level:9});return Rt instanceof Uint8Array?Rt:new Uint8Array(Rt)}catch(Et){(0,p.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Et)}return nt(mt)}function nt(mt){let Et=mt.length;const Rt=65535,X=Math.ceil(Et/Rt),j=new Uint8Array(2+Et+X*5+4);let M=0;j[M++]=120,j[M++]=156;let A=0;for(;Et>Rt;)j[M++]=0,j[M++]=255,j[M++]=255,j[M++]=0,j[M++]=0,j.set(mt.subarray(A,A+Rt),M),M+=Rt,A+=Rt,Et-=Rt;j[M++]=1,j[M++]=Et&255,j[M++]=Et>>8&255,j[M++]=~Et&65535&255,j[M++]=(~Et&65535)>>8&255,j.set(mt.subarray(A),M),M+=mt.length-A;const x=K(mt,0,mt.length);return j[M++]=x>>24&255,j[M++]=x>>16&255,j[M++]=x>>8&255,j[M++]=x&255,j}function yt(mt,Et,Rt,X){const j=mt.width,M=mt.height;let A,x,y;const L=mt.data;switch(Et){case p.ImageKind.GRAYSCALE_1BPP:x=0,A=1,y=j+7>>3;break;case p.ImageKind.RGB_24BPP:x=2,A=8,y=j*3;break;case p.ImageKind.RGBA_32BPP:x=6,A=8,y=j*4;break;default:throw new Error("invalid format")}const B=new Uint8Array((1+y)*M);let G=0,H=0;for(let $=0;$<M;++$)B[G++]=0,B.set(L.subarray(H,H+y),G),H+=y,G+=y;if(Et===p.ImageKind.GRAYSCALE_1BPP&&X){G=0;for(let $=0;$<M;$++){G++;for(let rt=0;rt<y;rt++)B[G++]^=255}}const v=new Uint8Array([j>>24&255,j>>16&255,j>>8&255,j&255,M>>24&255,M>>16&255,M>>8&255,M&255,A,x,0,0,0]),k=ht(B),N=q.length+w*3+v.length+k.length,V=new Uint8Array(N);let Y=0;return V.set(q,Y),Y+=q.length,et("IHDR",v,V,Y),Y+=w+v.length,et("IDATA",k,V,Y),Y+=w+k.length,et("IEND",new Uint8Array(0),V,Y),s(V,"image/png",Rt)}return function(Et,Rt,X){const j=Et.kind===void 0?p.ImageKind.GRAYSCALE_1BPP:Et.kind;return yt(Et,j,Rt,X)}})();class _{constructor(){this.fontSizeScale=1,this.fontWeight=l.fontWeight,this.fontSize=0,this.textMatrix=p.IDENTITY_MATRIX,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=p.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(w,z){this.x=w,this.y=z}}function b(q){let w=[];const z=[];for(const Z of q){if(Z.fn==="save"){w.push({fnId:92,fn:"group",items:[]}),z.push(w),w=w.at(-1).items;continue}Z.fn==="restore"?w=z.pop():w.push(Z)}return w}function f(q){if(Number.isInteger(q))return q.toString();const w=q.toFixed(10);let z=w.length-1;if(w[z]!=="0")return w;do z--;while(w[z]==="0");return w.substring(0,w[z]==="."?z:z+1)}function S(q){if(q[4]===0&&q[5]===0){if(q[1]===0&&q[2]===0)return q[0]===1&&q[3]===1?"":`scale(${f(q[0])} ${f(q[3])})`;if(q[0]===q[3]&&q[1]===-q[2]){const w=Math.acos(q[0])*180/Math.PI;return`rotate(${f(w)})`}}else if(q[0]===1&&q[1]===0&&q[2]===0&&q[3]===1)return`translate(${f(q[4])} ${f(q[5])})`;return`matrix(${f(q[0])} ${f(q[1])} ${f(q[2])} ${f(q[3])} ${f(q[4])} ${f(q[5])})`}let R=0,g=0,O=0;class I{constructor(w,z,Z=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new _,this.transformMatrix=p.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=w,this.objs=z,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Z,this._operatorIdMapping=[];for(const et in p.OPS)this._operatorIdMapping[p.OPS[et]]=et}getObject(w,z=null){return typeof w=="string"?w.startsWith("g_")?this.commonObjs.get(w):this.objs.get(w):z}save(){this.transformStack.push(this.transformMatrix);const w=this.current;this.extraStack.push(w),this.current=w.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(w){this.save(),this.executeOpTree(w),this.restore()}loadDependencies(w){const z=w.fnArray,Z=w.argsArray;for(let et=0,K=z.length;et<K;et++)if(z[et]===p.OPS.dependency)for(const ht of Z[et]){const nt=ht.startsWith("g_")?this.commonObjs:this.objs,yt=new Promise(mt=>{nt.get(ht,mt)});this.current.dependencies.push(yt)}return Promise.all(this.current.dependencies)}transform(w,z,Z,et,K,ht){const nt=[w,z,Z,et,K,ht];this.transformMatrix=p.Util.transform(this.transformMatrix,nt),this.tgrp=null}getSVG(w,z){this.viewport=z;const Z=this._initialize(z);return this.loadDependencies(w).then(()=>(this.transformMatrix=p.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(w)),Z))}convertOpList(w){const z=this._operatorIdMapping,Z=w.argsArray,et=w.fnArray,K=[];for(let ht=0,nt=et.length;ht<nt;ht++){const yt=et[ht];K.push({fnId:yt,fn:z[yt],args:Z[ht]})}return b(K)}executeOpTree(w){for(const z of w){const Z=z.fn,et=z.fnId,K=z.args;switch(et|0){case p.OPS.beginText:this.beginText();break;case p.OPS.dependency:break;case p.OPS.setLeading:this.setLeading(K);break;case p.OPS.setLeadingMoveText:this.setLeadingMoveText(K[0],K[1]);break;case p.OPS.setFont:this.setFont(K);break;case p.OPS.showText:this.showText(K[0]);break;case p.OPS.showSpacedText:this.showText(K[0]);break;case p.OPS.endText:this.endText();break;case p.OPS.moveText:this.moveText(K[0],K[1]);break;case p.OPS.setCharSpacing:this.setCharSpacing(K[0]);break;case p.OPS.setWordSpacing:this.setWordSpacing(K[0]);break;case p.OPS.setHScale:this.setHScale(K[0]);break;case p.OPS.setTextMatrix:this.setTextMatrix(K[0],K[1],K[2],K[3],K[4],K[5]);break;case p.OPS.setTextRise:this.setTextRise(K[0]);break;case p.OPS.setTextRenderingMode:this.setTextRenderingMode(K[0]);break;case p.OPS.setLineWidth:this.setLineWidth(K[0]);break;case p.OPS.setLineJoin:this.setLineJoin(K[0]);break;case p.OPS.setLineCap:this.setLineCap(K[0]);break;case p.OPS.setMiterLimit:this.setMiterLimit(K[0]);break;case p.OPS.setFillRGBColor:this.setFillRGBColor(K[0],K[1],K[2]);break;case p.OPS.setStrokeRGBColor:this.setStrokeRGBColor(K[0],K[1],K[2]);break;case p.OPS.setStrokeColorN:this.setStrokeColorN(K);break;case p.OPS.setFillColorN:this.setFillColorN(K);break;case p.OPS.shadingFill:this.shadingFill(K[0]);break;case p.OPS.setDash:this.setDash(K[0],K[1]);break;case p.OPS.setRenderingIntent:this.setRenderingIntent(K[0]);break;case p.OPS.setFlatness:this.setFlatness(K[0]);break;case p.OPS.setGState:this.setGState(K[0]);break;case p.OPS.fill:this.fill();break;case p.OPS.eoFill:this.eoFill();break;case p.OPS.stroke:this.stroke();break;case p.OPS.fillStroke:this.fillStroke();break;case p.OPS.eoFillStroke:this.eoFillStroke();break;case p.OPS.clip:this.clip("nonzero");break;case p.OPS.eoClip:this.clip("evenodd");break;case p.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case p.OPS.paintImageXObject:this.paintImageXObject(K[0]);break;case p.OPS.paintInlineImageXObject:this.paintInlineImageXObject(K[0]);break;case p.OPS.paintImageMaskXObject:this.paintImageMaskXObject(K[0]);break;case p.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(K[0],K[1]);break;case p.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case p.OPS.closePath:this.closePath();break;case p.OPS.closeStroke:this.closeStroke();break;case p.OPS.closeFillStroke:this.closeFillStroke();break;case p.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case p.OPS.nextLine:this.nextLine();break;case p.OPS.transform:this.transform(K[0],K[1],K[2],K[3],K[4],K[5]);break;case p.OPS.constructPath:this.constructPath(K[0],K[1]);break;case p.OPS.endPath:this.endPath();break;case 92:this.group(z.items);break;default:(0,p.warn)(`Unimplemented operator ${Z}`);break}}}setWordSpacing(w){this.current.wordSpacing=w}setCharSpacing(w){this.current.charSpacing=w}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(w,z,Z,et,K,ht){const nt=this.current;nt.textMatrix=nt.lineMatrix=[w,z,Z,et,K,ht],nt.textMatrixScale=Math.hypot(w,z),nt.x=nt.lineX=0,nt.y=nt.lineY=0,nt.xcoords=[],nt.ycoords=[],nt.tspan=this.svgFactory.createElement("svg:tspan"),nt.tspan.setAttributeNS(null,"font-family",nt.fontFamily),nt.tspan.setAttributeNS(null,"font-size",`${f(nt.fontSize)}px`),nt.tspan.setAttributeNS(null,"y",f(-nt.y)),nt.txtElement=this.svgFactory.createElement("svg:text"),nt.txtElement.append(nt.tspan)}beginText(){const w=this.current;w.x=w.lineX=0,w.y=w.lineY=0,w.textMatrix=p.IDENTITY_MATRIX,w.lineMatrix=p.IDENTITY_MATRIX,w.textMatrixScale=1,w.tspan=this.svgFactory.createElement("svg:tspan"),w.txtElement=this.svgFactory.createElement("svg:text"),w.txtgrp=this.svgFactory.createElement("svg:g"),w.xcoords=[],w.ycoords=[]}moveText(w,z){const Z=this.current;Z.x=Z.lineX+=w,Z.y=Z.lineY+=z,Z.xcoords=[],Z.ycoords=[],Z.tspan=this.svgFactory.createElement("svg:tspan"),Z.tspan.setAttributeNS(null,"font-family",Z.fontFamily),Z.tspan.setAttributeNS(null,"font-size",`${f(Z.fontSize)}px`),Z.tspan.setAttributeNS(null,"y",f(-Z.y))}showText(w){const z=this.current,Z=z.font,et=z.fontSize;if(et===0)return;const K=z.fontSizeScale,ht=z.charSpacing,nt=z.wordSpacing,yt=z.fontDirection,mt=z.textHScale*yt,Et=Z.vertical,Rt=Et?1:-1,X=Z.defaultVMetrics,j=et*z.fontMatrix[0];let M=0;for(const y of w){if(y===null){M+=yt*nt;continue}else if(typeof y=="number"){M+=Rt*y*et/1e3;continue}const L=(y.isSpace?nt:0)+ht,B=y.fontChar;let G,H,v=y.width;if(Et){let N;const V=y.vmetric||X;N=y.vmetric?V[1]:v*.5,N=-N*j;const Y=V[2]*j;v=V?-V[0]:v,G=N/K,H=(M+Y)/K}else G=M/K,H=0;(y.isInFont||Z.missingFile)&&(z.xcoords.push(z.x+G),Et&&z.ycoords.push(-z.y+H),z.tspan.textContent+=B);const k=Et?v*j-L*yt:v*j+L*yt;M+=k}z.tspan.setAttributeNS(null,"x",z.xcoords.map(f).join(" ")),Et?z.tspan.setAttributeNS(null,"y",z.ycoords.map(f).join(" ")):z.tspan.setAttributeNS(null,"y",f(-z.y)),Et?z.y-=M:z.x+=M*mt,z.tspan.setAttributeNS(null,"font-family",z.fontFamily),z.tspan.setAttributeNS(null,"font-size",`${f(z.fontSize)}px`),z.fontStyle!==l.fontStyle&&z.tspan.setAttributeNS(null,"font-style",z.fontStyle),z.fontWeight!==l.fontWeight&&z.tspan.setAttributeNS(null,"font-weight",z.fontWeight);const A=z.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;if(A===p.TextRenderingMode.FILL||A===p.TextRenderingMode.FILL_STROKE?(z.fillColor!==l.fillColor&&z.tspan.setAttributeNS(null,"fill",z.fillColor),z.fillAlpha<1&&z.tspan.setAttributeNS(null,"fill-opacity",z.fillAlpha)):z.textRenderingMode===p.TextRenderingMode.ADD_TO_PATH?z.tspan.setAttributeNS(null,"fill","transparent"):z.tspan.setAttributeNS(null,"fill","none"),A===p.TextRenderingMode.STROKE||A===p.TextRenderingMode.FILL_STROKE){const y=1/(z.textMatrixScale||1);this._setStrokeAttributes(z.tspan,y)}let x=z.textMatrix;z.textRise!==0&&(x=x.slice(),x[5]+=z.textRise),z.txtElement.setAttributeNS(null,"transform",`${S(x)} scale(${f(mt)}, -1)`),z.txtElement.setAttributeNS(T,"xml:space","preserve"),z.txtElement.append(z.tspan),z.txtgrp.append(z.txtElement),this._ensureTransformGroup().append(z.txtElement)}setLeadingMoveText(w,z){this.setLeading(-z),this.moveText(w,z)}addFontStyle(w){if(!w.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const z=s(w.data,w.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${w.loadedName}"; src: url(${z}); }
`}setFont(w){const z=this.current,Z=this.commonObjs.get(w[0]);let et=w[1];z.font=Z,this.embedFonts&&!Z.missingFile&&!this.embeddedFonts[Z.loadedName]&&(this.addFontStyle(Z),this.embeddedFonts[Z.loadedName]=Z),z.fontMatrix=Z.fontMatrix||p.FONT_IDENTITY_MATRIX;let K="normal";Z.black?K="900":Z.bold&&(K="bold");const ht=Z.italic?"italic":"normal";et<0?(et=-et,z.fontDirection=-1):z.fontDirection=1,z.fontSize=et,z.fontFamily=Z.loadedName,z.fontWeight=K,z.fontStyle=ht,z.tspan=this.svgFactory.createElement("svg:tspan"),z.tspan.setAttributeNS(null,"y",f(-z.y)),z.xcoords=[],z.ycoords=[]}endText(){const w=this.current;w.textRenderingMode&p.TextRenderingMode.ADD_TO_PATH_FLAG&&w.txtElement?.hasChildNodes()&&(w.element=w.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(w){w>0&&(this.current.lineWidth=w)}setLineCap(w){this.current.lineCap=D[w]}setLineJoin(w){this.current.lineJoin=d[w]}setMiterLimit(w){this.current.miterLimit=w}setStrokeAlpha(w){this.current.strokeAlpha=w}setStrokeRGBColor(w,z,Z){this.current.strokeColor=p.Util.makeHexColor(w,z,Z)}setFillAlpha(w){this.current.fillAlpha=w}setFillRGBColor(w,z,Z){this.current.fillColor=p.Util.makeHexColor(w,z,Z),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(w){this.current.strokeColor=this._makeColorN_Pattern(w)}setFillColorN(w){this.current.fillColor=this._makeColorN_Pattern(w)}shadingFill(w){const{width:z,height:Z}=this.viewport,et=p.Util.inverseTransform(this.transformMatrix),[K,ht,nt,yt]=p.Util.getAxialAlignedBoundingBox([0,0,z,Z],et),mt=this.svgFactory.createElement("svg:rect");mt.setAttributeNS(null,"x",K),mt.setAttributeNS(null,"y",ht),mt.setAttributeNS(null,"width",nt-K),mt.setAttributeNS(null,"height",yt-ht),mt.setAttributeNS(null,"fill",this._makeShadingPattern(w)),this.current.fillAlpha<1&&mt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(mt)}_makeColorN_Pattern(w){return w[0]==="TilingPattern"?this._makeTilingPattern(w):this._makeShadingPattern(w)}_makeTilingPattern(w){const z=w[1],Z=w[2],et=w[3]||p.IDENTITY_MATRIX,[K,ht,nt,yt]=w[4],mt=w[5],Et=w[6],Rt=w[7],X=`shading${O++}`,[j,M,A,x]=p.Util.normalizeRect([...p.Util.applyTransform([K,ht],et),...p.Util.applyTransform([nt,yt],et)]),[y,L]=p.Util.singularValueDecompose2dScale(et),B=mt*y,G=Et*L,H=this.svgFactory.createElement("svg:pattern");H.setAttributeNS(null,"id",X),H.setAttributeNS(null,"patternUnits","userSpaceOnUse"),H.setAttributeNS(null,"width",B),H.setAttributeNS(null,"height",G),H.setAttributeNS(null,"x",`${j}`),H.setAttributeNS(null,"y",`${M}`);const v=this.svg,k=this.transformMatrix,N=this.current.fillColor,V=this.current.strokeColor,Y=this.svgFactory.create(A-j,x-M);if(this.svg=Y,this.transformMatrix=et,Rt===2){const $=p.Util.makeHexColor(...z);this.current.fillColor=$,this.current.strokeColor=$}return this.executeOpTree(this.convertOpList(Z)),this.svg=v,this.transformMatrix=k,this.current.fillColor=N,this.current.strokeColor=V,H.append(Y.childNodes[0]),this.defs.append(H),`url(#${X})`}_makeShadingPattern(w){switch(typeof w=="string"&&(w=this.objs.get(w)),w[0]){case"RadialAxial":const z=`shading${O++}`,Z=w[3];let et;switch(w[1]){case"axial":const K=w[4],ht=w[5];et=this.svgFactory.createElement("svg:linearGradient"),et.setAttributeNS(null,"id",z),et.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),et.setAttributeNS(null,"x1",K[0]),et.setAttributeNS(null,"y1",K[1]),et.setAttributeNS(null,"x2",ht[0]),et.setAttributeNS(null,"y2",ht[1]);break;case"radial":const nt=w[4],yt=w[5],mt=w[6],Et=w[7];et=this.svgFactory.createElement("svg:radialGradient"),et.setAttributeNS(null,"id",z),et.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),et.setAttributeNS(null,"cx",yt[0]),et.setAttributeNS(null,"cy",yt[1]),et.setAttributeNS(null,"r",Et),et.setAttributeNS(null,"fx",nt[0]),et.setAttributeNS(null,"fy",nt[1]),et.setAttributeNS(null,"fr",mt);break;default:throw new Error(`Unknown RadialAxial type: ${w[1]}`)}for(const K of Z){const ht=this.svgFactory.createElement("svg:stop");ht.setAttributeNS(null,"offset",K[0]),ht.setAttributeNS(null,"stop-color",K[1]),et.append(ht)}return this.defs.append(et),`url(#${z})`;case"Mesh":return(0,p.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${w[0]}`)}}setDash(w,z){this.current.dashArray=w,this.current.dashPhase=z}constructPath(w,z){const Z=this.current;let et=Z.x,K=Z.y,ht=[],nt=0;for(const yt of w)switch(yt|0){case p.OPS.rectangle:et=z[nt++],K=z[nt++];const mt=z[nt++],Et=z[nt++],Rt=et+mt,X=K+Et;ht.push("M",f(et),f(K),"L",f(Rt),f(K),"L",f(Rt),f(X),"L",f(et),f(X),"Z");break;case p.OPS.moveTo:et=z[nt++],K=z[nt++],ht.push("M",f(et),f(K));break;case p.OPS.lineTo:et=z[nt++],K=z[nt++],ht.push("L",f(et),f(K));break;case p.OPS.curveTo:et=z[nt+4],K=z[nt+5],ht.push("C",f(z[nt]),f(z[nt+1]),f(z[nt+2]),f(z[nt+3]),f(et),f(K)),nt+=6;break;case p.OPS.curveTo2:ht.push("C",f(et),f(K),f(z[nt]),f(z[nt+1]),f(z[nt+2]),f(z[nt+3])),et=z[nt+2],K=z[nt+3],nt+=4;break;case p.OPS.curveTo3:et=z[nt+2],K=z[nt+3],ht.push("C",f(z[nt]),f(z[nt+1]),f(et),f(K),f(et),f(K)),nt+=4;break;case p.OPS.closePath:ht.push("Z");break}ht=ht.join(" "),Z.path&&w.length>0&&w[0]!==p.OPS.rectangle&&w[0]!==p.OPS.moveTo?ht=Z.path.getAttributeNS(null,"d")+ht:(Z.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Z.path)),Z.path.setAttributeNS(null,"d",ht),Z.path.setAttributeNS(null,"fill","none"),Z.element=Z.path,Z.setCurrentPoint(et,K)}endPath(){const w=this.current;if(w.path=null,!this.pendingClip)return;if(!w.element){this.pendingClip=null;return}const z=`clippath${R++}`,Z=this.svgFactory.createElement("svg:clipPath");Z.setAttributeNS(null,"id",z),Z.setAttributeNS(null,"transform",S(this.transformMatrix));const et=w.element.cloneNode(!0);if(this.pendingClip==="evenodd"?et.setAttributeNS(null,"clip-rule","evenodd"):et.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Z.append(et),this.defs.append(Z),w.activeClipUrl){w.clipGroup=null;for(const K of this.extraStack)K.clipGroup=null;Z.setAttributeNS(null,"clip-path",w.activeClipUrl)}w.activeClipUrl=`url(#${z})`,this.tgrp=null}clip(w){this.pendingClip=w}closePath(){const w=this.current;if(w.path){const z=`${w.path.getAttributeNS(null,"d")}Z`;w.path.setAttributeNS(null,"d",z)}}setLeading(w){this.current.leading=-w}setTextRise(w){this.current.textRise=w}setTextRenderingMode(w){this.current.textRenderingMode=w}setHScale(w){this.current.textHScale=w/100}setRenderingIntent(w){}setFlatness(w){}setGState(w){for(const[z,Z]of w)switch(z){case"LW":this.setLineWidth(Z);break;case"LC":this.setLineCap(Z);break;case"LJ":this.setLineJoin(Z);break;case"ML":this.setMiterLimit(Z);break;case"D":this.setDash(Z[0],Z[1]);break;case"RI":this.setRenderingIntent(Z);break;case"FL":this.setFlatness(Z);break;case"Font":this.setFont(Z);break;case"CA":this.setStrokeAlpha(Z);break;case"ca":this.setFillAlpha(Z);break;default:(0,p.warn)(`Unimplemented graphic state operator ${z}`);break}}fill(){const w=this.current;w.element&&(w.element.setAttributeNS(null,"fill",w.fillColor),w.element.setAttributeNS(null,"fill-opacity",w.fillAlpha),this.endPath())}stroke(){const w=this.current;w.element&&(this._setStrokeAttributes(w.element),w.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(w,z=1){const Z=this.current;let et=Z.dashArray;z!==1&&et.length>0&&(et=et.map(function(K){return z*K})),w.setAttributeNS(null,"stroke",Z.strokeColor),w.setAttributeNS(null,"stroke-opacity",Z.strokeAlpha),w.setAttributeNS(null,"stroke-miterlimit",f(Z.miterLimit)),w.setAttributeNS(null,"stroke-linecap",Z.lineCap),w.setAttributeNS(null,"stroke-linejoin",Z.lineJoin),w.setAttributeNS(null,"stroke-width",f(z*Z.lineWidth)+"px"),w.setAttributeNS(null,"stroke-dasharray",et.map(f).join(" ")),w.setAttributeNS(null,"stroke-dashoffset",f(z*Z.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y","0"),w.setAttributeNS(null,"width","1px"),w.setAttributeNS(null,"height","1px"),w.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(w)}paintImageXObject(w){const z=this.getObject(w);if(!z){(0,p.warn)(`Dependent image with object ID ${w} is not ready yet`);return}this.paintInlineImageXObject(z)}paintInlineImageXObject(w,z){const Z=w.width,et=w.height,K=h(w,this.forceDataSchema,!!z),ht=this.svgFactory.createElement("svg:rect");ht.setAttributeNS(null,"x","0"),ht.setAttributeNS(null,"y","0"),ht.setAttributeNS(null,"width",f(Z)),ht.setAttributeNS(null,"height",f(et)),this.current.element=ht,this.clip("nonzero");const nt=this.svgFactory.createElement("svg:image");nt.setAttributeNS(F,"xlink:href",K),nt.setAttributeNS(null,"x","0"),nt.setAttributeNS(null,"y",f(-et)),nt.setAttributeNS(null,"width",f(Z)+"px"),nt.setAttributeNS(null,"height",f(et)+"px"),nt.setAttributeNS(null,"transform",`scale(${f(1/Z)} ${f(-1/et)})`),z?z.append(nt):this._ensureTransformGroup().append(nt)}paintImageMaskXObject(w){const z=this.getObject(w.data,w);if(z.bitmap){(0,p.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Z=this.current,et=z.width,K=z.height,ht=Z.fillColor;Z.maskId=`mask${g++}`;const nt=this.svgFactory.createElement("svg:mask");nt.setAttributeNS(null,"id",Z.maskId);const yt=this.svgFactory.createElement("svg:rect");yt.setAttributeNS(null,"x","0"),yt.setAttributeNS(null,"y","0"),yt.setAttributeNS(null,"width",f(et)),yt.setAttributeNS(null,"height",f(K)),yt.setAttributeNS(null,"fill",ht),yt.setAttributeNS(null,"mask",`url(#${Z.maskId})`),this.defs.append(nt),this._ensureTransformGroup().append(yt),this.paintInlineImageXObject(z,nt)}paintFormXObjectBegin(w,z){if(Array.isArray(w)&&w.length===6&&this.transform(w[0],w[1],w[2],w[3],w[4],w[5]),z){const Z=z[2]-z[0],et=z[3]-z[1],K=this.svgFactory.createElement("svg:rect");K.setAttributeNS(null,"x",z[0]),K.setAttributeNS(null,"y",z[1]),K.setAttributeNS(null,"width",f(Z)),K.setAttributeNS(null,"height",f(et)),this.current.element=K,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(w){const z=this.svgFactory.create(w.width,w.height),Z=this.svgFactory.createElement("svg:defs");z.append(Z),this.defs=Z;const et=this.svgFactory.createElement("svg:g");return et.setAttributeNS(null,"transform",S(w.transform)),z.append(et),this.svg=et,z}_ensureClipGroup(){if(!this.current.clipGroup){const w=this.svgFactory.createElement("svg:g");w.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(w),this.current.clipGroup=w}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",S(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}c.SVGGraphics=I}),((a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaText=void 0;class m{static textContent(p){const l=[],T={items:l,styles:Object.create(null)};function F(D){if(!D)return;let d=null;const s=D.name;if(s==="#text")d=D.value;else if(m.shouldBuildText(s))D?.attributes?.textContent?d=D.attributes.textContent:D.value&&(d=D.value);else return;if(d!==null&&l.push({str:d}),!!D.children)for(const h of D.children)F(h)}return F(p),T}static shouldBuildText(p){return!(p==="textarea"||p==="input"||p==="option"||p==="select")}}c.XfaText=m}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextLayerRenderTask=void 0,c.renderTextLayer=S,c.updateTextLayer=R;var o=m(1),p=m(6);const l=1e5,T=30,F=.8,D=new Map;function d(g,O){let I;if(O&&o.FeatureTest.isOffscreenCanvasSupported)I=new OffscreenCanvas(g,g).getContext("2d",{alpha:!1});else{const q=document.createElement("canvas");q.width=q.height=g,I=q.getContext("2d",{alpha:!1})}return I}function s(g,O){const I=D.get(g);if(I)return I;const q=d(T,O);q.font=`${T}px ${g}`;const w=q.measureText("");let z=w.fontBoundingBoxAscent,Z=Math.abs(w.fontBoundingBoxDescent);if(z){const K=z/(z+Z);return D.set(g,K),q.canvas.width=q.canvas.height=0,K}q.strokeStyle="red",q.clearRect(0,0,T,T),q.strokeText("g",0,0);let et=q.getImageData(0,0,T,T).data;Z=0;for(let K=et.length-1-3;K>=0;K-=4)if(et[K]>0){Z=Math.ceil(K/4/T);break}q.clearRect(0,0,T,T),q.strokeText("A",0,T),et=q.getImageData(0,0,T,T).data,z=0;for(let K=0,ht=et.length;K<ht;K+=4)if(et[K]>0){z=T-Math.floor(K/4/T);break}if(q.canvas.width=q.canvas.height=0,z){const K=z/(z+Z);return D.set(g,K),K}return D.set(g,F),F}function h(g,O,I){const q=document.createElement("span"),w={angle:0,canvasWidth:0,hasText:O.str!=="",hasEOL:O.hasEOL,fontSize:0};g._textDivs.push(q);const z=o.Util.transform(g._transform,O.transform);let Z=Math.atan2(z[1],z[0]);const et=I[O.fontName];et.vertical&&(Z+=Math.PI/2);const K=Math.hypot(z[2],z[3]),ht=K*s(et.fontFamily,g._isOffscreenCanvasSupported);let nt,yt;Z===0?(nt=z[4],yt=z[5]-ht):(nt=z[4]+ht*Math.sin(Z),yt=z[5]-ht*Math.cos(Z));const mt="calc(var(--scale-factor)*",Et=q.style;g._container===g._rootContainer?(Et.left=`${(100*nt/g._pageWidth).toFixed(2)}%`,Et.top=`${(100*yt/g._pageHeight).toFixed(2)}%`):(Et.left=`${mt}${nt.toFixed(2)}px)`,Et.top=`${mt}${yt.toFixed(2)}px)`),Et.fontSize=`${mt}${K.toFixed(2)}px)`,Et.fontFamily=et.fontFamily,w.fontSize=K,q.setAttribute("role","presentation"),q.textContent=O.str,q.dir=O.dir,g._fontInspectorEnabled&&(q.dataset.fontName=O.fontName),Z!==0&&(w.angle=Z*(180/Math.PI));let Rt=!1;if(O.str.length>1)Rt=!0;else if(O.str!==" "&&O.transform[0]!==O.transform[3]){const X=Math.abs(O.transform[0]),j=Math.abs(O.transform[3]);X!==j&&Math.max(X,j)/Math.min(X,j)>1.5&&(Rt=!0)}Rt&&(w.canvasWidth=et.vertical?O.height:O.width),g._textDivProperties.set(q,w),g._isReadableStream&&g._layoutText(q)}function _(g){const{div:O,scale:I,properties:q,ctx:w,prevFontSize:z,prevFontFamily:Z}=g,{style:et}=O;let K="";if(q.canvasWidth!==0&&q.hasText){const{fontFamily:ht}=et,{canvasWidth:nt,fontSize:yt}=q;(z!==yt||Z!==ht)&&(w.font=`${yt*I}px ${ht}`,g.prevFontSize=yt,g.prevFontFamily=ht);const{width:mt}=w.measureText(O.textContent);mt>0&&(K=`scaleX(${nt*I/mt})`)}q.angle!==0&&(K=`rotate(${q.angle}deg) ${K}`),K.length>0&&(et.transform=K)}function b(g){if(g._canceled)return;const O=g._textDivs,I=g._capability;if(O.length>l){I.resolve();return}if(!g._isReadableStream)for(const w of O)g._layoutText(w);I.resolve()}class f{constructor({textContentSource:O,container:I,viewport:q,textDivs:w,textDivProperties:z,textContentItemsStr:Z,isOffscreenCanvasSupported:et}){this._textContentSource=O,this._isReadableStream=O instanceof ReadableStream,this._container=this._rootContainer=I,this._textDivs=w||[],this._textContentItemsStr=Z||[],this._isOffscreenCanvasSupported=et,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=z||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:q.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d(0,et)};const{pageWidth:K,pageHeight:ht,pageX:nt,pageY:yt}=q.rawDims;this._transform=[1,0,0,-1,-nt,yt+ht],this._pageWidth=K,this._pageHeight=ht,(0,p.setLayerDimensions)(I,q),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(O,I){for(const q of O){if(q.str===void 0){if(q.type==="beginMarkedContentProps"||q.type==="beginMarkedContent"){const w=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),q.id!==null&&this._container.setAttribute("id",`${q.id}`),w.append(this._container)}else q.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(q.str),h(this,q,I)}}_layoutText(O){const I=this._layoutTextParams.properties=this._textDivProperties.get(O);if(this._layoutTextParams.div=O,_(this._layoutTextParams),I.hasText&&this._container.append(O),I.hasEOL){const q=document.createElement("br");q.setAttribute("role","presentation"),this._container.append(q)}}_render(){const O=new o.PromiseCapability;let I=Object.create(null);if(this._isReadableStream){const q=()=>{this._reader.read().then(({value:w,done:z})=>{if(z){O.resolve();return}Object.assign(I,w.styles),this._processItems(w.items,I),q()},O.reject)};this._reader=this._textContentSource.getReader(),q()}else if(this._textContentSource){const{items:q,styles:w}=this._textContentSource;this._processItems(q,w),O.resolve()}else throw new Error('No "textContentSource" parameter specified.');O.promise.then(()=>{I=null,b(this)},this._capability.reject)}}c.TextLayerRenderTask=f;function S(g){!g.textContentSource&&(g.textContent||g.textContentStream)&&((0,p.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),g.textContentSource=g.textContent||g.textContentStream);const{container:O,viewport:I}=g,q=getComputedStyle(O),w=q.getPropertyValue("visibility"),z=parseFloat(q.getPropertyValue("--scale-factor"));w==="visible"&&(!z||Math.abs(z-I.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Z=new f(g);return Z._render(),Z}function R({container:g,viewport:O,textDivs:I,textDivProperties:q,isOffscreenCanvasSupported:w,mustRotate:z=!0,mustRescale:Z=!0}){if(z&&(0,p.setLayerDimensions)(g,{rotation:O.rotation}),Z){const et=d(0,w),ht={prevFontSize:null,prevFontFamily:null,div:null,scale:O.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:et};for(const nt of I)ht.properties=q.get(nt),ht.div=nt,_(ht)}}}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationEditorLayer=void 0;var o=m(1),p=m(4),l=m(28),T=m(33),F=m(6),D=m(34);class d{#t;#e=!1;#n=null;#i=this.pointerup.bind(this);#o=this.pointerdown.bind(this);#s=new Map;#r=!1;#l=!1;#c=!1;#a;static _initialized=!1;constructor({uiManager:h,pageIndex:_,div:b,accessibilityManager:f,annotationLayer:S,viewport:R,l10n:g}){const O=[l.FreeTextEditor,T.InkEditor,D.StampEditor];if(!d._initialized){d._initialized=!0;for(const I of O)I.initialize(g)}h.registerEditorTypes(O),this.#a=h,this.pageIndex=_,this.div=b,this.#t=f,this.#n=S,this.viewport=R,this.#a.addLayer(this)}get isEmpty(){return this.#s.size===0}updateToolbar(h){this.#a.updateToolbar(h)}updateMode(h=this.#a.getMode()){this.#p(),h===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),h!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",h===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",h===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",h===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(h){if(!h&&this.#a.getMode()!==o.AnnotationEditorType.INK)return;if(!h){for(const b of this.#s.values())if(b.isEmpty()){b.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(h){this.#a.setEditingState(h)}addCommands(h){this.#a.addCommands(h)}enable(){this.div.style.pointerEvents="auto";const h=new Set;for(const b of this.#s.values())b.enableEditing(),b.annotationElementId&&h.add(b.annotationElementId);if(!this.#n)return;const _=this.#n.getEditableAnnotations();for(const b of _){if(b.hide(),this.#a.isDeletedAnnotationElement(b.data.id)||h.has(b.data.id))continue;const f=this.deserialize(b);f&&(this.addOrRebuild(f),f.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";const h=new Set;for(const _ of this.#s.values()){if(_.disableEditing(),!_.annotationElementId||_.serialize()!==null){h.add(_.annotationElementId);continue}this.getEditableAnnotation(_.annotationElementId)?.show(),_.remove()}if(this.#n){const _=this.#n.getEditableAnnotations();for(const b of _){const{id:f}=b.data;h.has(f)||this.#a.isDeletedAnnotationElement(f)||b.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(h){return this.#n?.getEditableAnnotation(h)||null}setActiveEditor(h){this.#a.getActive()!==h&&this.#a.setActiveEditor(h)}enableClick(){this.div.addEventListener("pointerdown",this.#o),this.div.addEventListener("pointerup",this.#i)}disableClick(){this.div.removeEventListener("pointerdown",this.#o),this.div.removeEventListener("pointerup",this.#i)}attach(h){this.#s.set(h.id,h);const{annotationElementId:_}=h;_&&this.#a.isDeletedAnnotationElement(_)&&this.#a.removeDeletedAnnotationElement(h)}detach(h){this.#s.delete(h.id),this.#t?.removePointerInTextLayer(h.contentDiv),!this.#c&&h.annotationElementId&&this.#a.addDeletedAnnotationElement(h)}remove(h){this.detach(h),this.#a.removeEditor(h),h.div.contains(document.activeElement)&&setTimeout(()=>{this.#a.focusMainContainer()},0),h.div.remove(),h.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(h){h.parent!==this&&(h.annotationElementId&&(this.#a.addDeletedAnnotationElement(h.annotationElementId),p.AnnotationEditor.deleteAnnotationElement(h),h.annotationElementId=null),this.attach(h),h.parent?.detach(h),h.setParent(this),h.div&&h.isAttachedToDOM&&(h.div.remove(),this.div.append(h.div)))}add(h){if(this.changeParent(h),this.#a.addEditor(h),this.attach(h),!h.isAttachedToDOM){const _=h.render();this.div.append(_),h.isAttachedToDOM=!0}h.fixAndSetPosition(),h.onceAdded(),this.#a.addToAnnotationStorage(h)}moveEditorInDOM(h){if(!h.isAttachedToDOM)return;const{activeElement:_}=document;h.div.contains(_)&&(h._focusEventsAllowed=!1,setTimeout(()=>{h.div.contains(document.activeElement)?h._focusEventsAllowed=!0:(h.div.addEventListener("focusin",()=>{h._focusEventsAllowed=!0},{once:!0}),_.focus())},0)),h._structTreeParentId=this.#t?.moveElementInDOM(this.div,h.div,h.contentDiv,!0)}addOrRebuild(h){h.needsToBeRebuilt()?h.rebuild():this.add(h)}addUndoableEditor(h){const _=()=>h._uiManager.rebuild(h),b=()=>{h.remove()};this.addCommands({cmd:_,undo:b,mustExec:!1})}getNextId(){return this.#a.getId()}#f(h){switch(this.#a.getMode()){case o.AnnotationEditorType.FREETEXT:return new l.FreeTextEditor(h);case o.AnnotationEditorType.INK:return new T.InkEditor(h);case o.AnnotationEditorType.STAMP:return new D.StampEditor(h)}return null}pasteEditor(h,_){this.#a.updateToolbar(h),this.#a.updateMode(h);const{offsetX:b,offsetY:f}=this.#h(),S=this.getNextId(),R=this.#f({parent:this,id:S,x:b,y:f,uiManager:this.#a,isCentered:!0,..._});R&&this.add(R)}deserialize(h){switch(h.annotationType??h.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return l.FreeTextEditor.deserialize(h,this,this.#a);case o.AnnotationEditorType.INK:return T.InkEditor.deserialize(h,this,this.#a);case o.AnnotationEditorType.STAMP:return D.StampEditor.deserialize(h,this,this.#a)}return null}#d(h,_){const b=this.getNextId(),f=this.#f({parent:this,id:b,x:h.offsetX,y:h.offsetY,uiManager:this.#a,isCentered:_});return f&&this.add(f),f}#h(){const{x:h,y:_,width:b,height:f}=this.div.getBoundingClientRect(),S=Math.max(0,h),R=Math.max(0,_),g=Math.min(window.innerWidth,h+b),O=Math.min(window.innerHeight,_+f),I=(S+g)/2-h,q=(R+O)/2-_,[w,z]=this.viewport.rotation%180===0?[I,q]:[q,I];return{offsetX:w,offsetY:z}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(h){this.#a.setSelected(h)}toggleSelected(h){this.#a.toggleSelected(h)}isSelected(h){return this.#a.isSelected(h)}unselect(h){this.#a.unselect(h)}pointerup(h){const{isMac:_}=o.FeatureTest.platform;if(!(h.button!==0||h.ctrlKey&&_)&&h.target===this.div&&this.#r){if(this.#r=!1,!this.#e){this.#e=!0;return}if(this.#a.getMode()===o.AnnotationEditorType.STAMP){this.#a.unselectAll();return}this.#d(h,!1)}}pointerdown(h){if(this.#r){this.#r=!1;return}const{isMac:_}=o.FeatureTest.platform;if(h.button!==0||h.ctrlKey&&_||h.target!==this.div)return;this.#r=!0;const b=this.#a.getActive();this.#e=!b||b.isEmpty()}findNewParent(h,_,b){const f=this.#a.findParent(_,b);return f===null||f===this?!1:(f.changeParent(h),!0)}destroy(){this.#a.getActive()?.parent===this&&(this.#a.commitOrRemove(),this.#a.setActiveEditor(null));for(const h of this.#s.values())this.#t?.removePointerInTextLayer(h.contentDiv),h.setParent(null),h.isAttachedToDOM=!1,h.div.remove();this.div=null,this.#s.clear(),this.#a.removeLayer(this)}#p(){this.#l=!0;for(const h of this.#s.values())h.isEmpty()&&h.remove();this.#l=!1}render({viewport:h}){this.viewport=h,(0,F.setLayerDimensions)(this.div,h);for(const _ of this.#a.getEditors(this.pageIndex))this.add(_);this.updateMode()}update({viewport:h}){this.#a.commitOrRemove(),this.viewport=h,(0,F.setLayerDimensions)(this.div,{rotation:h.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:h,pageHeight:_}=this.viewport.rawDims;return[h,_]}}c.AnnotationEditorLayer=d}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FreeTextEditor=void 0;var o=m(1),p=m(5),l=m(4),T=m(29);class F extends l.AnnotationEditor{#t=this.editorDivBlur.bind(this);#e=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#i=this.editorDivKeydown.bind(this);#o;#s="";#r=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const d=F.prototype,s=b=>b.isEmpty(),h=p.AnnotationEditorUIManager.TRANSLATE_SMALL,_=p.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new p.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],d.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],d.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],d._translateEmpty,{args:[-h,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],d._translateEmpty,{args:[-_,0],checker:s}],[["ArrowRight","mac+ArrowRight"],d._translateEmpty,{args:[h,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],d._translateEmpty,{args:[_,0],checker:s}],[["ArrowUp","mac+ArrowUp"],d._translateEmpty,{args:[0,-h],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],d._translateEmpty,{args:[0,-_],checker:s}],[["ArrowDown","mac+ArrowDown"],d._translateEmpty,{args:[0,h],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],d._translateEmpty,{args:[0,_],checker:s}]]))}static _type="freetext";constructor(d){super({...d,name:"freeTextEditor"}),this.#o=d.color||F._defaultColor||l.AnnotationEditor._defaultLineColor,this.#l=d.fontSize||F._defaultFontSize}static initialize(d){l.AnnotationEditor.initialize(d,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(d,s){switch(d){case o.AnnotationEditorParamsType.FREETEXT_SIZE:F._defaultFontSize=s;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:F._defaultColor=s;break}}updateParams(d,s){switch(d){case o.AnnotationEditorParamsType.FREETEXT_SIZE:this.#a(s);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(s);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,F._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,F._defaultColor||l.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[o.AnnotationEditorParamsType.FREETEXT_COLOR,this.#o]]}#a(d){const s=_=>{this.editorDiv.style.fontSize=`calc(${_}px * var(--scale-factor))`,this.translate(0,-(_-this.#l)*this.parentScale),this.#l=_,this.#h()},h=this.#l;this.addCommands({cmd:()=>{s(d)},undo:()=>{s(h)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(d){const s=this.#o;this.addCommands({cmd:()=>{this.#o=this.editorDiv.style.color=d},undo:()=>{this.#o=this.editorDiv.style.color=s},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(d,s){this._uiManager.translateSelectedEditors(d,s,!0)}getInitialTranslation(){const d=this.parentScale;return[-F._internalPadding*d,-(F._internalPadding+this.#l)*d]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#i),this.editorDiv.addEventListener("focus",this.#e),this.editorDiv.addEventListener("blur",this.#t),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#r),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#i),this.editorDiv.removeEventListener("focus",this.#e),this.editorDiv.removeEventListener("blur",this.#t),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(d){this._focusEventsAllowed&&(super.focusin(d),d.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const d=this.editorDiv.getElementsByTagName("div");if(d.length===0)return this.editorDiv.innerText;const s=[];for(const h of d)s.push(h.innerText.replace(/\r\n?|\n/,""));return s.join(`
`)}#h(){const[d,s]=this.parentDimensions;let h;if(this.isAttachedToDOM)h=this.div.getBoundingClientRect();else{const{currentLayer:_,div:b}=this,f=b.style.display;b.style.display="hidden",_.div.append(this.div),h=b.getBoundingClientRect(),b.remove(),b.style.display=f}this.rotation%180===this.parentRotation%180?(this.width=h.width/d,this.height=h.height/s):(this.width=h.height/d,this.height=h.width/s),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const d=this.#s,s=this.#s=this.#d().trimEnd();if(d===s)return;const h=_=>{if(this.#s=_,!_){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{h(s)},undo:()=>{h(d)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(d){this.enterInEditMode()}keydown(d){d.target===this.div&&d.key==="Enter"&&(this.enterInEditMode(),d.preventDefault())}editorDivKeydown(d){F._keyboardManager.exec(this,d)}editorDivFocus(d){this.isEditing=!0}editorDivBlur(d){this.isEditing=!1}editorDivInput(d){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let d,s;this.width&&(d=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#r),this.enableEditing(),l.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(_=>this.editorDiv?.setAttribute("aria-label",_)),l.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(_=>this.editorDiv?.setAttribute("default-content",_)),this.editorDiv.contentEditable=!0;const{style:h}=this.editorDiv;if(h.fontSize=`calc(${this.#l}px * var(--scale-factor))`,h.color=this.#o,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,p.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[_,b]=this.parentDimensions;if(this.annotationElementId){const{position:f}=this.#c;let[S,R]=this.getInitialTranslation();[S,R]=this.pageTranslationToScreen(S,R);const[g,O]=this.pageDimensions,[I,q]=this.pageTranslation;let w,z;switch(this.rotation){case 0:w=d+(f[0]-I)/g,z=s+this.height-(f[1]-q)/O;break;case 90:w=d+(f[0]-I)/g,z=s-(f[1]-q)/O,[S,R]=[R,-S];break;case 180:w=d-this.width+(f[0]-I)/g,z=s-(f[1]-q)/O,[S,R]=[-S,-R];break;case 270:w=d+(f[0]-I-this.height*O)/g,z=s+(f[1]-q-this.width*g)/O,[S,R]=[-R,S];break}this.setAt(w*_,z*b,S,R)}else this.setAt(d*_,s*b,this.width*_,this.height*b);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#s)for(const d of this.#s.split(`
`)){const s=document.createElement("div");s.append(d?document.createTextNode(d):document.createElement("br")),this.editorDiv.append(s)}}get contentDiv(){return this.editorDiv}static deserialize(d,s,h){let _=null;if(d instanceof T.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:f,fontColor:S},rect:R,rotation:g,id:O},textContent:I,textPosition:q,parent:{page:{pageNumber:w}}}=d;if(!I||I.length===0)return null;_=d={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(S),fontSize:f,value:I.join(`
`),position:q,pageIndex:w-1,rect:R,rotation:g,id:O,deleted:!1}}const b=super.deserialize(d,s,h);return b.#l=d.fontSize,b.#o=o.Util.makeHexColor(...d.color),b.#s=d.value,b.annotationElementId=d.id||null,b.#c=_,b}serialize(d=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const s=F._internalPadding*this.parentScale,h=this.getRect(s,s),_=l.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#o),b={annotationType:o.AnnotationEditorType.FREETEXT,color:_,fontSize:this.#l,value:this.#s,pageIndex:this.pageIndex,rect:h,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return d?b:this.annotationElementId&&!this.#v(b)?null:(b.id=this.annotationElementId,b)}#v(d){const{value:s,fontSize:h,color:_,rect:b,pageIndex:f}=this.#c;return d.value!==s||d.fontSize!==h||d.rect.some((S,R)=>Math.abs(S-b[R])>=1)||d.color.some((S,R)=>S!==_[R])||d.pageIndex!==f}#g(d=!1){if(!this.annotationElementId)return;if(this.#h(),!d&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}const s=F._internalPadding*this.parentScale;this.#c.rect=this.getRect(s,s)}}c.FreeTextEditor=F}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StampAnnotationElement=c.InkAnnotationElement=c.FreeTextAnnotationElement=c.AnnotationLayer=void 0;var o=m(1),p=m(6),l=m(3),T=m(30),F=m(31),D=m(32);const d=1e3,s=9,h=new WeakSet;function _(H){return{width:H[2]-H[0],height:H[3]-H[1]}}class b{static create(v){switch(v.data.annotationType){case o.AnnotationType.LINK:return new S(v);case o.AnnotationType.TEXT:return new R(v);case o.AnnotationType.WIDGET:switch(v.data.fieldType){case"Tx":return new O(v);case"Btn":return v.data.radioButton?new w(v):v.data.checkBox?new q(v):new z(v);case"Ch":return new Z(v);case"Sig":return new I(v)}return new g(v);case o.AnnotationType.POPUP:return new et(v);case o.AnnotationType.FREETEXT:return new ht(v);case o.AnnotationType.LINE:return new nt(v);case o.AnnotationType.SQUARE:return new yt(v);case o.AnnotationType.CIRCLE:return new mt(v);case o.AnnotationType.POLYLINE:return new Et(v);case o.AnnotationType.CARET:return new X(v);case o.AnnotationType.INK:return new j(v);case o.AnnotationType.POLYGON:return new Rt(v);case o.AnnotationType.HIGHLIGHT:return new M(v);case o.AnnotationType.UNDERLINE:return new A(v);case o.AnnotationType.SQUIGGLY:return new x(v);case o.AnnotationType.STRIKEOUT:return new y(v);case o.AnnotationType.STAMP:return new L(v);case o.AnnotationType.FILEATTACHMENT:return new B(v);default:return new f(v)}}}class f{#t=!1;constructor(v,{isRenderable:k=!1,ignoreBorder:N=!1,createQuadrilaterals:V=!1}={}){this.isRenderable=k,this.data=v.data,this.layer=v.layer,this.linkService=v.linkService,this.downloadManager=v.downloadManager,this.imageResourcesPath=v.imageResourcesPath,this.renderForms=v.renderForms,this.svgFactory=v.svgFactory,this.annotationStorage=v.annotationStorage,this.enableScripting=v.enableScripting,this.hasJSActions=v.hasJSActions,this._fieldObjects=v.fieldObjects,this.parent=v.parent,k&&(this.container=this._createContainer(N)),V&&this._createQuadrilaterals()}static _hasPopupData({titleObj:v,contentsObj:k,richText:N}){return!!(v?.str||k?.str||N?.str)}get hasPopupData(){return f._hasPopupData(this.data)}_createContainer(v){const{data:k,parent:{page:N,viewport:V}}=this,Y=document.createElement("section");Y.setAttribute("data-annotation-id",k.id),this instanceof g||(Y.tabIndex=d),Y.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Y.setAttribute("aria-haspopup","dialog"),k.noRotate&&Y.classList.add("norotate");const{pageWidth:$,pageHeight:rt,pageX:bt,pageY:Bt}=V.rawDims;if(!k.rect||this instanceof et){const{rotation:jt}=k;return!k.hasOwnCanvas&&jt!==0&&this.setRotation(jt,Y),Y}const{width:St,height:Ct}=_(k.rect),Dt=o.Util.normalizeRect([k.rect[0],N.view[3]-k.rect[1]+N.view[1],k.rect[2],N.view[3]-k.rect[3]+N.view[1]]);if(!v&&k.borderStyle.width>0){Y.style.borderWidth=`${k.borderStyle.width}px`;const jt=k.borderStyle.horizontalCornerRadius,qt=k.borderStyle.verticalCornerRadius;if(jt>0||qt>0){const re=`calc(${jt}px * var(--scale-factor)) / calc(${qt}px * var(--scale-factor))`;Y.style.borderRadius=re}else if(this instanceof w){const re=`calc(${St}px * var(--scale-factor)) / calc(${Ct}px * var(--scale-factor))`;Y.style.borderRadius=re}switch(k.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:Y.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:Y.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:Y.style.borderBottomStyle="solid";break}const Qt=k.borderColor||null;Qt?(this.#t=!0,Y.style.borderColor=o.Util.makeHexColor(Qt[0]|0,Qt[1]|0,Qt[2]|0)):Y.style.borderWidth=0}Y.style.left=`${100*(Dt[0]-bt)/$}%`,Y.style.top=`${100*(Dt[1]-Bt)/rt}%`;const{rotation:Mt}=k;return k.hasOwnCanvas||Mt===0?(Y.style.width=`${100*St/$}%`,Y.style.height=`${100*Ct/rt}%`):this.setRotation(Mt,Y),Y}setRotation(v,k=this.container){if(!this.data.rect)return;const{pageWidth:N,pageHeight:V}=this.parent.viewport.rawDims,{width:Y,height:$}=_(this.data.rect);let rt,bt;v%180===0?(rt=100*Y/N,bt=100*$/V):(rt=100*$/N,bt=100*Y/V),k.style.width=`${rt}%`,k.style.height=`${bt}%`,k.setAttribute("data-main-rotation",(360-v)%360)}get _commonActions(){const v=(k,N,V)=>{const Y=V.detail[k],$=Y[0],rt=Y.slice(1);V.target.style[N]=T.ColorConverters[`${$}_HTML`](rt),this.annotationStorage.setValue(this.data.id,{[N]:T.ColorConverters[`${$}_rgb`](rt)})};return(0,o.shadow)(this,"_commonActions",{display:k=>{const{display:N}=k.detail,V=N%2===1;this.container.style.visibility=V?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:V,noPrint:N===1||N===2})},print:k=>{this.annotationStorage.setValue(this.data.id,{noPrint:!k.detail.print})},hidden:k=>{const{hidden:N}=k.detail;this.container.style.visibility=N?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:N,noView:N})},focus:k=>{setTimeout(()=>k.target.focus({preventScroll:!1}),0)},userName:k=>{k.target.title=k.detail.userName},readonly:k=>{k.target.disabled=k.detail.readonly},required:k=>{this._setRequired(k.target,k.detail.required)},bgColor:k=>{v("bgColor","backgroundColor",k)},fillColor:k=>{v("fillColor","backgroundColor",k)},fgColor:k=>{v("fgColor","color",k)},textColor:k=>{v("textColor","color",k)},borderColor:k=>{v("borderColor","borderColor",k)},strokeColor:k=>{v("strokeColor","borderColor",k)},rotation:k=>{const N=k.detail.rotation;this.setRotation(N),this.annotationStorage.setValue(this.data.id,{rotation:N})}})}_dispatchEventFromSandbox(v,k){const N=this._commonActions;for(const V of Object.keys(k.detail))(v[V]||N[V])?.(k)}_setDefaultPropertiesFromJS(v){if(!this.enableScripting)return;const k=this.annotationStorage.getRawValue(this.data.id);if(!k)return;const N=this._commonActions;for(const[V,Y]of Object.entries(k)){const $=N[V];if($){const rt={detail:{[V]:Y},target:v};$(rt),delete k[V]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:v}=this.data;if(!v)return;const[k,N,V,Y]=this.data.rect;if(v.length===1){const[,{x:qt,y:Qt},{x:re,y:ve}]=v[0];if(V===qt&&Y===Qt&&k===re&&N===ve)return}const{style:$}=this.container;let rt;if(this.#t){const{borderColor:qt,borderWidth:Qt}=$;$.borderWidth=0,rt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${qt}" stroke-width="${Qt}">`],this.container.classList.add("hasBorder")}const bt=V-k,Bt=Y-N,{svgFactory:St}=this,Ct=St.createElement("svg");Ct.classList.add("quadrilateralsContainer"),Ct.setAttribute("width",0),Ct.setAttribute("height",0);const Dt=St.createElement("defs");Ct.append(Dt);const Mt=St.createElement("clipPath"),jt=`clippath_${this.data.id}`;Mt.setAttribute("id",jt),Mt.setAttribute("clipPathUnits","objectBoundingBox"),Dt.append(Mt);for(const[,{x:qt,y:Qt},{x:re,y:ve}]of v){const ne=St.createElement("rect"),De=(re-k)/bt,Tn=(Y-Qt)/Bt,un=(qt-re)/bt,Gn=(Qt-ve)/Bt;ne.setAttribute("x",De),ne.setAttribute("y",Tn),ne.setAttribute("width",un),ne.setAttribute("height",Gn),Mt.append(ne),rt?.push(`<rect vector-effect="non-scaling-stroke" x="${De}" y="${Tn}" width="${un}" height="${Gn}"/>`)}this.#t&&(rt.push("</g></svg>')"),$.backgroundImage=rt.join("")),this.container.append(Ct),this.container.style.clipPath=`url(#${jt})`}_createPopup(){const{container:v,data:k}=this;v.setAttribute("aria-haspopup","dialog");const N=new et({data:{color:k.color,titleObj:k.titleObj,modificationDate:k.modificationDate,contentsObj:k.contentsObj,richText:k.richText,parentRect:k.rect,borderStyle:0,id:`popup_${k.id}`,rotation:k.rotation},parent:this.parent,elements:[this]});this.parent.div.append(N.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(v,k=null){const N=[];if(this._fieldObjects){const V=this._fieldObjects[v];if(V)for(const{page:Y,id:$,exportValues:rt}of V){if(Y===-1||$===k)continue;const bt=typeof rt=="string"?rt:null,Bt=document.querySelector(`[data-element-id="${$}"]`);if(Bt&&!h.has(Bt)){(0,o.warn)(`_getElementsByName - element not allowed: ${$}`);continue}N.push({id:$,exportValue:bt,domElement:Bt})}return N}for(const V of document.getElementsByName(v)){const{exportValue:Y}=V,$=V.getAttribute("data-element-id");$!==k&&h.has(V)&&N.push({id:$,exportValue:Y,domElement:V})}return N}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const v=this.getElementsToTriggerPopup();if(Array.isArray(v))for(const k of v)k.classList.add("highlightArea");else v.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:v,data:{id:k}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:v,editId:k})})}}class S extends f{constructor(v,k=null){super(v,{isRenderable:!0,ignoreBorder:!!k?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=v.data.isTooltipOnly}render(){const{data:v,linkService:k}=this,N=document.createElement("a");N.setAttribute("data-element-id",v.id);let V=!1;return v.url?(k.addLinkAttributes(N,v.url,v.newWindow),V=!0):v.action?(this._bindNamedAction(N,v.action),V=!0):v.attachment?(this._bindAttachment(N,v.attachment),V=!0):v.setOCGState?(this.#e(N,v.setOCGState),V=!0):v.dest?(this._bindLink(N,v.dest),V=!0):(v.actions&&(v.actions.Action||v.actions["Mouse Up"]||v.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(N,v),V=!0),v.resetForm?(this._bindResetFormAction(N,v.resetForm),V=!0):this.isTooltipOnly&&!V&&(this._bindLink(N,""),V=!0)),this.container.classList.add("linkAnnotation"),V&&this.container.append(N),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(v,k){v.href=this.linkService.getDestinationHash(k),v.onclick=()=>(k&&this.linkService.goToDestination(k),!1),(k||k==="")&&this.#t()}_bindNamedAction(v,k){v.href=this.linkService.getAnchorUrl(""),v.onclick=()=>(this.linkService.executeNamedAction(k),!1),this.#t()}_bindAttachment(v,k){v.href=this.linkService.getAnchorUrl(""),v.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,k.content,k.filename),!1),this.#t()}#e(v,k){v.href=this.linkService.getAnchorUrl(""),v.onclick=()=>(this.linkService.executeSetOCGState(k),!1),this.#t()}_bindJSAction(v,k){v.href=this.linkService.getAnchorUrl("");const N=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const V of Object.keys(k.actions)){const Y=N.get(V);Y&&(v[Y]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k.id,name:V}}),!1))}v.onclick||(v.onclick=()=>!1),this.#t()}_bindResetFormAction(v,k){const N=v.onclick;if(N||(v.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),N||(v.onclick=()=>!1);return}v.onclick=()=>{N?.();const{fields:V,refs:Y,include:$}=k,rt=[];if(V.length!==0||Y.length!==0){const St=new Set(Y);for(const Ct of V){const Dt=this._fieldObjects[Ct]||[];for(const{id:Mt}of Dt)St.add(Mt)}for(const Ct of Object.values(this._fieldObjects))for(const Dt of Ct)St.has(Dt.id)===$&&rt.push(Dt)}else for(const St of Object.values(this._fieldObjects))rt.push(...St);const bt=this.annotationStorage,Bt=[];for(const St of rt){const{id:Ct}=St;switch(Bt.push(Ct),St.type){case"text":{const Mt=St.defaultValue||"";bt.setValue(Ct,{value:Mt});break}case"checkbox":case"radiobutton":{const Mt=St.defaultValue===St.exportValues;bt.setValue(Ct,{value:Mt});break}case"combobox":case"listbox":{const Mt=St.defaultValue||"";bt.setValue(Ct,{value:Mt});break}default:continue}const Dt=document.querySelector(`[data-element-id="${Ct}"]`);if(Dt){if(!h.has(Dt)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${Ct}`);continue}}else continue;Dt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Bt,name:"ResetForm"}}),!1}}}class R extends f{constructor(v){super(v,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const v=document.createElement("img");return v.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",v.alt="[{{type}} Annotation]",v.dataset.l10nId="text_annotation_type",v.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(v),this.container}}class g extends f{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(v){this.data.hasOwnCanvas&&(v.previousSibling?.nodeName==="CANVAS"&&(v.previousSibling.hidden=!0),v.hidden=!1)}_getKeyModifier(v){const{isWin:k,isMac:N}=o.FeatureTest.platform;return k&&v.ctrlKey||N&&v.metaKey}_setEventListener(v,k,N,V,Y){N.includes("mouse")?v.addEventListener(N,$=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:V,value:Y($),shift:$.shiftKey,modifier:this._getKeyModifier($)}})}):v.addEventListener(N,$=>{if(N==="blur"){if(!k.focused||!$.relatedTarget)return;k.focused=!1}else if(N==="focus"){if(k.focused)return;k.focused=!0}Y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:V,value:Y($)}})})}_setEventListeners(v,k,N,V){for(const[Y,$]of N)($==="Action"||this.data.actions?.[$])&&(($==="Focus"||$==="Blur")&&(k||={focused:!1}),this._setEventListener(v,k,Y,$,V),$==="Focus"&&!this.data.actions?.Blur?this._setEventListener(v,k,"blur","Blur",null):$==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(v,k,"focus","Focus",null))}_setBackgroundColor(v){const k=this.data.backgroundColor||null;v.style.backgroundColor=k===null?"transparent":o.Util.makeHexColor(k[0],k[1],k[2])}_setTextStyle(v){const k=["left","center","right"],{fontColor:N}=this.data.defaultAppearanceData,V=this.data.defaultAppearanceData.fontSize||s,Y=v.style;let $;const rt=2,bt=Bt=>Math.round(10*Bt)/10;if(this.data.multiLine){const Bt=Math.abs(this.data.rect[3]-this.data.rect[1]-rt),St=Math.round(Bt/(o.LINE_FACTOR*V))||1,Ct=Bt/St;$=Math.min(V,bt(Ct/o.LINE_FACTOR))}else{const Bt=Math.abs(this.data.rect[3]-this.data.rect[1]-rt);$=Math.min(V,bt(Bt/o.LINE_FACTOR))}Y.fontSize=`calc(${$}px * var(--scale-factor))`,Y.color=o.Util.makeHexColor(N[0],N[1],N[2]),this.data.textAlignment!==null&&(Y.textAlign=k[this.data.textAlignment])}_setRequired(v,k){k?v.setAttribute("required",!0):v.removeAttribute("required"),v.setAttribute("aria-required",k)}}class O extends g{constructor(v){const k=v.renderForms||!v.data.hasAppearance&&!!v.data.fieldValue;super(v,{isRenderable:k})}setPropertyOnSiblings(v,k,N,V){const Y=this.annotationStorage;for(const $ of this._getElementsByName(v.name,v.id))$.domElement&&($.domElement[k]=N),Y.setValue($.id,{[V]:N})}render(){const v=this.annotationStorage,k=this.data.id;this.container.classList.add("textWidgetAnnotation");let N=null;if(this.renderForms){const V=v.getValue(k,{value:this.data.fieldValue});let Y=V.value||"";const $=v.getValue(k,{charLimit:this.data.maxLen}).charLimit;$&&Y.length>$&&(Y=Y.slice(0,$));let rt=V.formattedValue||this.data.textContent?.join(`
`)||null;rt&&this.data.comb&&(rt=rt.replaceAll(/\s+/g,""));const bt={userValue:Y,formattedValue:rt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(N=document.createElement("textarea"),N.textContent=rt??Y,this.data.doNotScroll&&(N.style.overflowY="hidden")):(N=document.createElement("input"),N.type="text",N.setAttribute("value",rt??Y),this.data.doNotScroll&&(N.style.overflowX="hidden")),this.data.hasOwnCanvas&&(N.hidden=!0),h.add(N),N.setAttribute("data-element-id",k),N.disabled=this.data.readOnly,N.name=this.data.fieldName,N.tabIndex=d,this._setRequired(N,this.data.required),$&&(N.maxLength=$),N.addEventListener("input",St=>{v.setValue(k,{value:St.target.value}),this.setPropertyOnSiblings(N,"value",St.target.value,"value"),bt.formattedValue=null}),N.addEventListener("resetform",St=>{const Ct=this.data.defaultFieldValue??"";N.value=bt.userValue=Ct,bt.formattedValue=null});let Bt=St=>{const{formattedValue:Ct}=bt;Ct!=null&&(St.target.value=Ct),St.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){N.addEventListener("focus",Ct=>{if(bt.focused)return;const{target:Dt}=Ct;bt.userValue&&(Dt.value=bt.userValue),bt.lastCommittedValue=Dt.value,bt.commitKey=1,bt.focused=!0}),N.addEventListener("updatefromsandbox",Ct=>{this.showElementAndHideCanvas(Ct.target);const Dt={value(Mt){bt.userValue=Mt.detail.value??"",v.setValue(k,{value:bt.userValue.toString()}),Mt.target.value=bt.userValue},formattedValue(Mt){const{formattedValue:jt}=Mt.detail;bt.formattedValue=jt,jt!=null&&Mt.target!==document.activeElement&&(Mt.target.value=jt),v.setValue(k,{formattedValue:jt})},selRange(Mt){Mt.target.setSelectionRange(...Mt.detail.selRange)},charLimit:Mt=>{const{charLimit:jt}=Mt.detail,{target:qt}=Mt;if(jt===0){qt.removeAttribute("maxLength");return}qt.setAttribute("maxLength",jt);let Qt=bt.userValue;!Qt||Qt.length<=jt||(Qt=Qt.slice(0,jt),qt.value=bt.userValue=Qt,v.setValue(k,{value:Qt}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k,name:"Keystroke",value:Qt,willCommit:!0,commitKey:1,selStart:qt.selectionStart,selEnd:qt.selectionEnd}}))}};this._dispatchEventFromSandbox(Dt,Ct)}),N.addEventListener("keydown",Ct=>{bt.commitKey=1;let Dt=-1;if(Ct.key==="Escape"?Dt=0:Ct.key==="Enter"&&!this.data.multiLine?Dt=2:Ct.key==="Tab"&&(bt.commitKey=3),Dt===-1)return;const{value:Mt}=Ct.target;bt.lastCommittedValue!==Mt&&(bt.lastCommittedValue=Mt,bt.userValue=Mt,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k,name:"Keystroke",value:Mt,willCommit:!0,commitKey:Dt,selStart:Ct.target.selectionStart,selEnd:Ct.target.selectionEnd}}))});const St=Bt;Bt=null,N.addEventListener("blur",Ct=>{if(!bt.focused||!Ct.relatedTarget)return;bt.focused=!1;const{value:Dt}=Ct.target;bt.userValue=Dt,bt.lastCommittedValue!==Dt&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k,name:"Keystroke",value:Dt,willCommit:!0,commitKey:bt.commitKey,selStart:Ct.target.selectionStart,selEnd:Ct.target.selectionEnd}}),St(Ct)}),this.data.actions?.Keystroke&&N.addEventListener("beforeinput",Ct=>{bt.lastCommittedValue=null;const{data:Dt,target:Mt}=Ct,{value:jt,selectionStart:qt,selectionEnd:Qt}=Mt;let re=qt,ve=Qt;switch(Ct.inputType){case"deleteWordBackward":{const ne=jt.substring(0,qt).match(/\w*[^\w]*$/);ne&&(re-=ne[0].length);break}case"deleteWordForward":{const ne=jt.substring(qt).match(/^[^\w]*\w*/);ne&&(ve+=ne[0].length);break}case"deleteContentBackward":qt===Qt&&(re-=1);break;case"deleteContentForward":qt===Qt&&(ve+=1);break}Ct.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k,name:"Keystroke",value:jt,change:Dt||"",willCommit:!1,selStart:re,selEnd:ve}})}),this._setEventListeners(N,bt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ct=>Ct.target.value)}if(Bt&&N.addEventListener("blur",Bt),this.data.comb){const Ct=(this.data.rect[2]-this.data.rect[0])/$;N.classList.add("comb"),N.style.letterSpacing=`calc(${Ct}px * var(--scale-factor) - 1ch)`}}else N=document.createElement("div"),N.textContent=this.data.fieldValue,N.style.verticalAlign="middle",N.style.display="table-cell";return this._setTextStyle(N),this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.append(N),this.container}}class I extends g{constructor(v){super(v,{isRenderable:!!v.data.hasOwnCanvas})}}class q extends g{constructor(v){super(v,{isRenderable:v.renderForms})}render(){const v=this.annotationStorage,k=this.data,N=k.id;let V=v.getValue(N,{value:k.exportValue===k.fieldValue}).value;typeof V=="string"&&(V=V!=="Off",v.setValue(N,{value:V})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Y=document.createElement("input");return h.add(Y),Y.setAttribute("data-element-id",N),Y.disabled=k.readOnly,this._setRequired(Y,this.data.required),Y.type="checkbox",Y.name=k.fieldName,V&&Y.setAttribute("checked",!0),Y.setAttribute("exportValue",k.exportValue),Y.tabIndex=d,Y.addEventListener("change",$=>{const{name:rt,checked:bt}=$.target;for(const Bt of this._getElementsByName(rt,N)){const St=bt&&Bt.exportValue===k.exportValue;Bt.domElement&&(Bt.domElement.checked=St),v.setValue(Bt.id,{value:St})}v.setValue(N,{value:bt})}),Y.addEventListener("resetform",$=>{const rt=k.defaultFieldValue||"Off";$.target.checked=rt===k.exportValue}),this.enableScripting&&this.hasJSActions&&(Y.addEventListener("updatefromsandbox",$=>{const rt={value(bt){bt.target.checked=bt.detail.value!=="Off",v.setValue(N,{value:bt.target.checked})}};this._dispatchEventFromSandbox(rt,$)}),this._setEventListeners(Y,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$=>$.target.checked)),this._setBackgroundColor(Y),this._setDefaultPropertiesFromJS(Y),this.container.append(Y),this.container}}class w extends g{constructor(v){super(v,{isRenderable:v.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const v=this.annotationStorage,k=this.data,N=k.id;let V=v.getValue(N,{value:k.fieldValue===k.buttonValue}).value;typeof V=="string"&&(V=V!==k.buttonValue,v.setValue(N,{value:V}));const Y=document.createElement("input");if(h.add(Y),Y.setAttribute("data-element-id",N),Y.disabled=k.readOnly,this._setRequired(Y,this.data.required),Y.type="radio",Y.name=k.fieldName,V&&Y.setAttribute("checked",!0),Y.tabIndex=d,Y.addEventListener("change",$=>{const{name:rt,checked:bt}=$.target;for(const Bt of this._getElementsByName(rt,N))v.setValue(Bt.id,{value:!1});v.setValue(N,{value:bt})}),Y.addEventListener("resetform",$=>{const rt=k.defaultFieldValue;$.target.checked=rt!=null&&rt===k.buttonValue}),this.enableScripting&&this.hasJSActions){const $=k.buttonValue;Y.addEventListener("updatefromsandbox",rt=>{const bt={value:Bt=>{const St=$===Bt.detail.value;for(const Ct of this._getElementsByName(Bt.target.name)){const Dt=St&&Ct.id===N;Ct.domElement&&(Ct.domElement.checked=Dt),v.setValue(Ct.id,{value:Dt})}}};this._dispatchEventFromSandbox(bt,rt)}),this._setEventListeners(Y,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],rt=>rt.target.checked)}return this._setBackgroundColor(Y),this._setDefaultPropertiesFromJS(Y),this.container.append(Y),this.container}}class z extends S{constructor(v){super(v,{ignoreBorder:v.data.hasAppearance})}render(){const v=super.render();v.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(v.title=this.data.alternativeText);const k=v.lastChild;return this.enableScripting&&this.hasJSActions&&k&&(this._setDefaultPropertiesFromJS(k),k.addEventListener("updatefromsandbox",N=>{this._dispatchEventFromSandbox({},N)})),v}}class Z extends g{constructor(v){super(v,{isRenderable:v.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const v=this.annotationStorage,k=this.data.id,N=v.getValue(k,{value:this.data.fieldValue}),V=document.createElement("select");h.add(V),V.setAttribute("data-element-id",k),V.disabled=this.data.readOnly,this._setRequired(V,this.data.required),V.name=this.data.fieldName,V.tabIndex=d;let Y=this.data.combo&&this.data.options.length>0;this.data.combo||(V.size=this.data.options.length,this.data.multiSelect&&(V.multiple=!0)),V.addEventListener("resetform",St=>{const Ct=this.data.defaultFieldValue;for(const Dt of V.options)Dt.selected=Dt.value===Ct});for(const St of this.data.options){const Ct=document.createElement("option");Ct.textContent=St.displayValue,Ct.value=St.exportValue,N.value.includes(St.exportValue)&&(Ct.setAttribute("selected",!0),Y=!1),V.append(Ct)}let $=null;if(Y){const St=document.createElement("option");St.value=" ",St.setAttribute("hidden",!0),St.setAttribute("selected",!0),V.prepend(St),$=()=>{St.remove(),V.removeEventListener("input",$),$=null},V.addEventListener("input",$)}const rt=St=>{const Ct=St?"value":"textContent",{options:Dt,multiple:Mt}=V;return Mt?Array.prototype.filter.call(Dt,jt=>jt.selected).map(jt=>jt[Ct]):Dt.selectedIndex===-1?null:Dt[Dt.selectedIndex][Ct]};let bt=rt(!1);const Bt=St=>{const Ct=St.target.options;return Array.prototype.map.call(Ct,Dt=>({displayValue:Dt.textContent,exportValue:Dt.value}))};return this.enableScripting&&this.hasJSActions?(V.addEventListener("updatefromsandbox",St=>{const Ct={value(Dt){$?.();const Mt=Dt.detail.value,jt=new Set(Array.isArray(Mt)?Mt:[Mt]);for(const qt of V.options)qt.selected=jt.has(qt.value);v.setValue(k,{value:rt(!0)}),bt=rt(!1)},multipleSelection(Dt){V.multiple=!0},remove(Dt){const Mt=V.options,jt=Dt.detail.remove;Mt[jt].selected=!1,V.remove(jt),Mt.length>0&&Array.prototype.findIndex.call(Mt,Qt=>Qt.selected)===-1&&(Mt[0].selected=!0),v.setValue(k,{value:rt(!0),items:Bt(Dt)}),bt=rt(!1)},clear(Dt){for(;V.length!==0;)V.remove(0);v.setValue(k,{value:null,items:[]}),bt=rt(!1)},insert(Dt){const{index:Mt,displayValue:jt,exportValue:qt}=Dt.detail.insert,Qt=V.children[Mt],re=document.createElement("option");re.textContent=jt,re.value=qt,Qt?Qt.before(re):V.append(re),v.setValue(k,{value:rt(!0),items:Bt(Dt)}),bt=rt(!1)},items(Dt){const{items:Mt}=Dt.detail;for(;V.length!==0;)V.remove(0);for(const jt of Mt){const{displayValue:qt,exportValue:Qt}=jt,re=document.createElement("option");re.textContent=qt,re.value=Qt,V.append(re)}V.options.length>0&&(V.options[0].selected=!0),v.setValue(k,{value:rt(!0),items:Bt(Dt)}),bt=rt(!1)},indices(Dt){const Mt=new Set(Dt.detail.indices);for(const jt of Dt.target.options)jt.selected=Mt.has(jt.index);v.setValue(k,{value:rt(!0)}),bt=rt(!1)},editable(Dt){Dt.target.disabled=!Dt.detail.editable}};this._dispatchEventFromSandbox(Ct,St)}),V.addEventListener("input",St=>{const Ct=rt(!0);v.setValue(k,{value:Ct}),St.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k,name:"Keystroke",value:bt,changeEx:Ct,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(V,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],St=>St.target.value)):V.addEventListener("input",function(St){v.setValue(k,{value:rt(!0)})}),this.data.combo&&this._setTextStyle(V),this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class et extends f{constructor(v){const{data:k,elements:N}=v;super(v,{isRenderable:f._hasPopupData(k)}),this.elements=N}render(){this.container.classList.add("popupAnnotation");const v=new K({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),k=[];for(const N of this.elements)N.popup=v,k.push(N.data.id),N.addHighlightArea();return this.container.setAttribute("aria-controls",k.map(N=>`${o.AnnotationPrefix}${N}`).join(",")),this.container}}class K{#t=null;#e=this.#u.bind(this);#n=this.#S.bind(this);#i=this.#A.bind(this);#o=this.#b.bind(this);#s=null;#r=null;#l=null;#c=null;#a=null;#f=null;#d=!1;#h=null;#p=null;#v=null;#g=null;#m=!1;constructor({container:v,color:k,elements:N,titleObj:V,modificationDate:Y,contentsObj:$,richText:rt,parent:bt,rect:Bt,parentRect:St,open:Ct}){this.#r=v,this.#g=V,this.#l=$,this.#v=rt,this.#a=bt,this.#s=k,this.#p=Bt,this.#f=St,this.#c=N;const Dt=p.PDFDateString.toDateObject(Y);Dt&&(this.#t=bt.l10n.get("annotation_date_string",{date:Dt.toLocaleDateString(),time:Dt.toLocaleTimeString()})),this.trigger=N.flatMap(Mt=>Mt.getElementsToTriggerPopup());for(const Mt of this.trigger)Mt.addEventListener("click",this.#o),Mt.addEventListener("mouseenter",this.#i),Mt.addEventListener("mouseleave",this.#n),Mt.classList.add("popupTriggerArea");for(const Mt of N)Mt.container?.addEventListener("keydown",this.#e);this.#r.hidden=!0,Ct&&this.#b()}render(){if(this.#h)return;const{page:{view:v},viewport:{rawDims:{pageWidth:k,pageHeight:N,pageX:V,pageY:Y}}}=this.#a,$=this.#h=document.createElement("div");if($.className="popup",this.#s){const ne=$.style.outlineColor=o.Util.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$.style.backgroundColor=`color-mix(in srgb, ${ne} 30%, white)`:$.style.backgroundColor=o.Util.makeHexColor(...this.#s.map(Tn=>Math.floor(.7*(255-Tn)+Tn)))}const rt=document.createElement("span");rt.className="header";const bt=document.createElement("h1");if(rt.append(bt),{dir:bt.dir,str:bt.textContent}=this.#g,$.append(rt),this.#t){const ne=document.createElement("span");ne.classList.add("popupDate"),this.#t.then(De=>{ne.textContent=De}),rt.append(ne)}const Bt=this.#l,St=this.#v;if(St?.str&&(!Bt?.str||Bt.str===St.str))D.XfaLayer.render({xfaHtml:St.html,intent:"richText",div:$}),$.lastChild.classList.add("richText","popupContent");else{const ne=this._formatContents(Bt);$.append(ne)}let Ct=!!this.#f,Dt=Ct?this.#f:this.#p;for(const ne of this.#c)if(!Dt||o.Util.intersect(ne.data.rect,Dt)!==null){Dt=ne.data.rect,Ct=!0;break}const Mt=o.Util.normalizeRect([Dt[0],v[3]-Dt[1]+v[1],Dt[2],v[3]-Dt[3]+v[1]]),qt=Ct?Dt[2]-Dt[0]+5:0,Qt=Mt[0]+qt,re=Mt[1],{style:ve}=this.#r;ve.left=`${100*(Qt-V)/k}%`,ve.top=`${100*(re-Y)/N}%`,this.#r.append($)}_formatContents({str:v,dir:k}){const N=document.createElement("p");N.classList.add("popupContent"),N.dir=k;const V=v.split(/(?:\r\n?|\n)/);for(let Y=0,$=V.length;Y<$;++Y){const rt=V[Y];N.append(document.createTextNode(rt)),Y<$-1&&N.append(document.createElement("br"))}return N}#u(v){v.altKey||v.shiftKey||v.ctrlKey||v.metaKey||(v.key==="Enter"||v.key==="Escape"&&this.#d)&&this.#b()}#b(){this.#d=!this.#d,this.#d?(this.#A(),this.#r.addEventListener("click",this.#o),this.#r.addEventListener("keydown",this.#e)):(this.#S(),this.#r.removeEventListener("click",this.#o),this.#r.removeEventListener("keydown",this.#e))}#A(){this.#h||this.render(),this.isVisible?this.#d&&this.#r.classList.add("focused"):(this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#S(){this.#r.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#m=this.isVisible,this.#m&&(this.#r.hidden=!0)}maybeShow(){this.#m&&(this.#m=!1,this.#r.hidden=!1)}get isVisible(){return this.#r.hidden===!1}}class ht extends f{constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0}),this.textContent=v.data.textContent,this.textPosition=v.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const v=document.createElement("div");v.classList.add("annotationTextContent"),v.setAttribute("role","comment");for(const k of this.textContent){const N=document.createElement("span");N.textContent=k,v.append(N)}this.container.append(v)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}c.FreeTextAnnotationElement=ht;class nt extends f{#t=null;constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const v=this.data,{width:k,height:N}=_(v.rect),V=this.svgFactory.create(k,N,!0),Y=this.#t=this.svgFactory.createElement("svg:line");return Y.setAttribute("x1",v.rect[2]-v.lineCoordinates[0]),Y.setAttribute("y1",v.rect[3]-v.lineCoordinates[1]),Y.setAttribute("x2",v.rect[2]-v.lineCoordinates[2]),Y.setAttribute("y2",v.rect[3]-v.lineCoordinates[3]),Y.setAttribute("stroke-width",v.borderStyle.width||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),V.append(Y),this.container.append(V),!v.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class yt extends f{#t=null;constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const v=this.data,{width:k,height:N}=_(v.rect),V=this.svgFactory.create(k,N,!0),Y=v.borderStyle.width,$=this.#t=this.svgFactory.createElement("svg:rect");return $.setAttribute("x",Y/2),$.setAttribute("y",Y/2),$.setAttribute("width",k-Y),$.setAttribute("height",N-Y),$.setAttribute("stroke-width",Y||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),V.append($),this.container.append(V),!v.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class mt extends f{#t=null;constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const v=this.data,{width:k,height:N}=_(v.rect),V=this.svgFactory.create(k,N,!0),Y=v.borderStyle.width,$=this.#t=this.svgFactory.createElement("svg:ellipse");return $.setAttribute("cx",k/2),$.setAttribute("cy",N/2),$.setAttribute("rx",k/2-Y/2),$.setAttribute("ry",N/2-Y/2),$.setAttribute("stroke-width",Y||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),V.append($),this.container.append(V),!v.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Et extends f{#t=null;constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const v=this.data,{width:k,height:N}=_(v.rect),V=this.svgFactory.create(k,N,!0);let Y=[];for(const rt of v.vertices){const bt=rt.x-v.rect[0],Bt=v.rect[3]-rt.y;Y.push(bt+","+Bt)}Y=Y.join(" ");const $=this.#t=this.svgFactory.createElement(this.svgElementName);return $.setAttribute("points",Y),$.setAttribute("stroke-width",v.borderStyle.width||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),V.append($),this.container.append(V),!v.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Rt extends Et{constructor(v){super(v),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class X extends f{constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class j extends f{#t=[];constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const v=this.data,{width:k,height:N}=_(v.rect),V=this.svgFactory.create(k,N,!0);for(const Y of v.inkLists){let $=[];for(const bt of Y){const Bt=bt.x-v.rect[0],St=v.rect[3]-bt.y;$.push(`${Bt},${St}`)}$=$.join(" ");const rt=this.svgFactory.createElement(this.svgElementName);this.#t.push(rt),rt.setAttribute("points",$),rt.setAttribute("stroke-width",v.borderStyle.width||1),rt.setAttribute("stroke","transparent"),rt.setAttribute("fill","transparent"),!v.popupRef&&this.hasPopupData&&this._createPopup(),V.append(rt)}return this.container.append(V),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}c.InkAnnotationElement=j;class M extends f{constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class A extends f{constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class x extends f{constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class y extends f{constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class L extends f{constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}c.StampAnnotationElement=L;class B extends f{#t=null;constructor(v){super(v,{isRenderable:!0});const{filename:k,content:N}=this.data.file;this.filename=(0,p.getFilenameFromUrl)(k,!0),this.content=N,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:k,content:N})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:v,data:k}=this;let N;k.hasAppearance||k.fillAlpha===0?N=document.createElement("div"):(N=document.createElement("img"),N.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(k.name)?"paperclip":"pushpin"}.svg`,k.fillAlpha&&k.fillAlpha<1&&(N.style=`filter: opacity(${Math.round(k.fillAlpha*100)}%);`)),N.addEventListener("dblclick",this.#e.bind(this)),this.#t=N;const{isMac:V}=o.FeatureTest.platform;return v.addEventListener("keydown",Y=>{Y.key==="Enter"&&(V?Y.metaKey:Y.ctrlKey)&&this.#e()}),!k.popupRef&&this.hasPopupData?this._createPopup():N.classList.add("popupTriggerArea"),v.append(N),v}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class G{#t=null;#e=null;#n=new Map;constructor({div:v,accessibilityManager:k,annotationCanvasMap:N,l10n:V,page:Y,viewport:$}){this.div=v,this.#t=k,this.#e=N,this.l10n=V,this.page=Y,this.viewport=$,this.zIndex=0,this.l10n||=F.NullL10n}#i(v,k){const N=v.firstChild||v;N.id=`${o.AnnotationPrefix}${k}`,this.div.append(v),this.#t?.moveElementInDOM(this.div,v,N,!1)}async render(v){const{annotations:k}=v,N=this.div;(0,p.setLayerDimensions)(N,this.viewport);const V=new Map,Y={data:null,layer:N,linkService:v.linkService,downloadManager:v.downloadManager,imageResourcesPath:v.imageResourcesPath||"",renderForms:v.renderForms!==!1,svgFactory:new p.DOMSVGFactory,annotationStorage:v.annotationStorage||new l.AnnotationStorage,enableScripting:v.enableScripting===!0,hasJSActions:v.hasJSActions,fieldObjects:v.fieldObjects,parent:this,elements:null};for(const $ of k){if($.noHTML)continue;const rt=$.annotationType===o.AnnotationType.POPUP;if(rt){const St=V.get($.id);if(!St)continue;Y.elements=St}else{const{width:St,height:Ct}=_($.rect);if(St<=0||Ct<=0)continue}Y.data=$;const bt=b.create(Y);if(!bt.isRenderable)continue;if(!rt&&$.popupRef){const St=V.get($.popupRef);St?St.push(bt):V.set($.popupRef,[bt])}bt.annotationEditorType>0&&this.#n.set(bt.data.id,bt);const Bt=bt.render();$.hidden&&(Bt.style.visibility="hidden"),this.#i(Bt,$.id)}this.#o(),await this.l10n.translate(N)}update({viewport:v}){const k=this.div;this.viewport=v,(0,p.setLayerDimensions)(k,{rotation:v.rotation}),this.#o(),k.hidden=!1}#o(){if(!this.#e)return;const v=this.div;for(const[k,N]of this.#e){const V=v.querySelector(`[data-annotation-id="${k}"]`);if(!V)continue;const{firstChild:Y}=V;Y?Y.nodeName==="CANVAS"?Y.replaceWith(N):Y.before(N):V.append(N)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(v){return this.#n.get(v)}}c.AnnotationLayer=G}),((a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ColorConverters=void 0;function m(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}function o(l){return Math.max(0,Math.min(255,255*l))}class p{static CMYK_G([T,F,D,d]){return["G",1-Math.min(1,.3*T+.59*D+.11*F+d)]}static G_CMYK([T]){return["CMYK",0,0,0,1-T]}static G_RGB([T]){return["RGB",T,T,T]}static G_rgb([T]){return T=o(T),[T,T,T]}static G_HTML([T]){const F=m(T);return`#${F}${F}${F}`}static RGB_G([T,F,D]){return["G",.3*T+.59*F+.11*D]}static RGB_rgb(T){return T.map(o)}static RGB_HTML(T){return`#${T.map(m).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([T,F,D,d]){return["RGB",1-Math.min(1,T+d),1-Math.min(1,D+d),1-Math.min(1,F+d)]}static CMYK_rgb([T,F,D,d]){return[o(1-Math.min(1,T+d)),o(1-Math.min(1,D+d)),o(1-Math.min(1,F+d))]}static CMYK_HTML(T){const F=this.CMYK_RGB(T).slice(1);return this.RGB_HTML(F)}static RGB_CMYK([T,F,D]){const d=1-T,s=1-F,h=1-D,_=Math.min(d,s,h);return["CMYK",d,s,h,_]}}c.ColorConverters=p}),((a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NullL10n=void 0,c.getL10nFallback=o;const m={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};m.print_progress_percent="{{progress}}%";function o(T,F){switch(T){case"find_match_count":T=`find_match_count[${F.total===1?"one":"other"}]`;break;case"find_match_count_limit":T=`find_match_count_limit[${F.limit===1?"one":"other"}]`;break}return m[T]||""}function p(T,F){return F?T.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(D,d)=>d in F?F[d]:"{{"+d+"}}"):T}const l={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(T,F=null,D=o(T,F)){return p(D,F)},async translate(T){}};c.NullL10n=l}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaLayer=void 0;var o=m(25);class p{static setupStorage(T,F,D,d,s){const h=d.getValue(F,{value:null});switch(D.name){case"textarea":if(h.value!==null&&(T.textContent=h.value),s==="print")break;T.addEventListener("input",_=>{d.setValue(F,{value:_.target.value})});break;case"input":if(D.attributes.type==="radio"||D.attributes.type==="checkbox"){if(h.value===D.attributes.xfaOn?T.setAttribute("checked",!0):h.value===D.attributes.xfaOff&&T.removeAttribute("checked"),s==="print")break;T.addEventListener("change",_=>{d.setValue(F,{value:_.target.checked?_.target.getAttribute("xfaOn"):_.target.getAttribute("xfaOff")})})}else{if(h.value!==null&&T.setAttribute("value",h.value),s==="print")break;T.addEventListener("input",_=>{d.setValue(F,{value:_.target.value})})}break;case"select":if(h.value!==null){T.setAttribute("value",h.value);for(const _ of D.children)_.attributes.value===h.value?_.attributes.selected=!0:_.attributes.hasOwnProperty("selected")&&delete _.attributes.selected}T.addEventListener("input",_=>{const b=_.target.options,f=b.selectedIndex===-1?"":b[b.selectedIndex].value;d.setValue(F,{value:f})});break}}static setAttributes({html:T,element:F,storage:D=null,intent:d,linkService:s}){const{attributes:h}=F,_=T instanceof HTMLAnchorElement;h.type==="radio"&&(h.name=`${h.name}-${d}`);for(const[b,f]of Object.entries(h))if(f!=null)switch(b){case"class":f.length&&T.setAttribute(b,f.join(" "));break;case"dataId":break;case"id":T.setAttribute("data-element-id",f);break;case"style":Object.assign(T.style,f);break;case"textContent":T.textContent=f;break;default:(!_||b!=="href"&&b!=="newWindow")&&T.setAttribute(b,f)}_&&s.addLinkAttributes(T,h.href,h.newWindow),D&&h.dataId&&this.setupStorage(T,h.dataId,F,D)}static render(T){const F=T.annotationStorage,D=T.linkService,d=T.xfaHtml,s=T.intent||"display",h=document.createElement(d.name);d.attributes&&this.setAttributes({html:h,element:d,intent:s,linkService:D});const _=[[d,-1,h]],b=T.div;if(b.append(h),T.viewport){const S=`matrix(${T.viewport.transform.join(",")})`;b.style.transform=S}s!=="richText"&&b.setAttribute("class","xfaLayer xfaFont");const f=[];for(;_.length>0;){const[S,R,g]=_.at(-1);if(R+1===S.children.length){_.pop();continue}const O=S.children[++_.at(-1)[1]];if(O===null)continue;const{name:I}=O;if(I==="#text"){const w=document.createTextNode(O.value);f.push(w),g.append(w);continue}const q=O?.attributes?.xmlns?document.createElementNS(O.attributes.xmlns,I):document.createElement(I);if(g.append(q),O.attributes&&this.setAttributes({html:q,element:O,storage:F,intent:s,linkService:D}),O.children&&O.children.length>0)_.push([O,-1,q]);else if(O.value){const w=document.createTextNode(O.value);o.XfaText.shouldBuildText(I)&&f.push(w),q.append(w)}}for(const S of b.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:f}}static update(T){const F=`matrix(${T.viewport.transform.join(",")})`;T.div.style.transform=F,T.div.hidden=!1}}c.XfaLayer=p}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.InkEditor=void 0;var o=m(1),p=m(4),l=m(29),T=m(6),F=m(5);class D extends p.AnnotationEditor{#t=0;#e=0;#n=this.canvasPointermove.bind(this);#i=this.canvasPointerleave.bind(this);#o=this.canvasPointerup.bind(this);#s=this.canvasPointerdown.bind(this);#r=new Path2D;#l=!1;#c=!1;#a=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(s){super({...s,name:"inkEditor"}),this.color=s.color||null,this.thickness=s.thickness||null,this.opacity=s.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(s){p.AnnotationEditor.initialize(s,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(s,h){switch(s){case o.AnnotationEditorParamsType.INK_THICKNESS:D._defaultThickness=h;break;case o.AnnotationEditorParamsType.INK_COLOR:D._defaultColor=h;break;case o.AnnotationEditorParamsType.INK_OPACITY:D._defaultOpacity=h/100;break}}updateParams(s,h){switch(s){case o.AnnotationEditorParamsType.INK_THICKNESS:this.#v(h);break;case o.AnnotationEditorParamsType.INK_COLOR:this.#g(h);break;case o.AnnotationEditorParamsType.INK_OPACITY:this.#m(h);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,D._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,D._defaultColor||p.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(D._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||D._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||D._defaultColor||p.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??D._defaultOpacity))]]}#v(s){const h=this.thickness;this.addCommands({cmd:()=>{this.thickness=s,this.#x()},undo:()=>{this.thickness=h,this.#x()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#g(s){const h=this.color;this.addCommands({cmd:()=>{this.color=s,this.#y()},undo:()=>{this.color=h,this.#y()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(s){s/=100;const h=this.opacity;this.addCommands({cmd:()=>{this.opacity=s,this.#y()},undo:()=>{this.opacity=h,this.#y()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#M(),this.#k()),this.isAttachedToDOM||(this.parent.add(this),this.#_()),this.#x()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(s){!this.parent&&s?this._uiManager.removeShouldRescale(this):this.parent&&s===null&&this._uiManager.addShouldRescale(this),super.setParent(s)}onScaleChanging(){const[s,h]=this.parentDimensions,_=this.width*s,b=this.height*h;this.setDimensions(_,b)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#s))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#s))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){const{parentRotation:s,parentDimensions:[h,_]}=this;switch(s){case 90:return[0,_,_,h];case 180:return[h,_,h,_];case 270:return[h,0,_,h];default:return[0,0,h,_]}}#b(){const{ctx:s,color:h,opacity:_,thickness:b,parentScale:f,scaleFactor:S}=this;s.lineWidth=b*f/S,s.lineCap="round",s.lineJoin="round",s.miterLimit=10,s.strokeStyle=`${h}${(0,F.opacityToHex)(_)}`}#A(s,h){this.canvas.addEventListener("contextmenu",T.noContextMenu),this.canvas.addEventListener("pointerleave",this.#i),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#o),this.canvas.removeEventListener("pointerdown",this.#s),this.isEditing=!0,this.#a||(this.#a=!0,this.#_(),this.thickness||=D._defaultThickness,this.color||=D._defaultColor||p.AnnotationEditor._defaultLineColor,this.opacity??=D._defaultOpacity),this.currentPath.push([s,h]),this.#c=!1,this.#b(),this.#p=()=>{this.#P(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#S(s,h){const[_,b]=this.currentPath.at(-1);if(this.currentPath.length>1&&s===_&&h===b)return;const f=this.currentPath;let S=this.#r;if(f.push([s,h]),this.#c=!0,f.length<=2){S.moveTo(...f[0]),S.lineTo(s,h);return}f.length===3&&(this.#r=S=new Path2D,S.moveTo(...f[0])),this.#N(S,...f.at(-3),...f.at(-2),s,h)}#R(){if(this.currentPath.length===0)return;const s=this.currentPath.at(-1);this.#r.lineTo(...s)}#T(s,h){this.#p=null,s=Math.min(Math.max(s,0),this.canvas.width),h=Math.min(Math.max(h,0),this.canvas.height),this.#S(s,h),this.#R();let _;if(this.currentPath.length!==1)_=this.#F();else{const g=[s,h];_=[[g,g.slice(),g.slice(),g]]}const b=this.#r,f=this.currentPath;this.currentPath=[],this.#r=new Path2D;const S=()=>{this.allRawPaths.push(f),this.paths.push(_),this.bezierPath2D.push(b),this.rebuild()},R=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#M(),this.#k()),this.#x())};this.addCommands({cmd:S,undo:R,mustExec:!0})}#P(){if(!this.#c)return;this.#c=!1;const s=Math.ceil(this.thickness*this.parentScale),h=this.currentPath.slice(-3),_=h.map(S=>S[0]),b=h.map(S=>S[1]);Math.min(..._)-s,Math.max(..._)+s,Math.min(...b)-s,Math.max(...b)+s;const{ctx:f}=this;f.save(),f.clearRect(0,0,this.canvas.width,this.canvas.height);for(const S of this.bezierPath2D)f.stroke(S);f.stroke(this.#r),f.restore()}#N(s,h,_,b,f,S,R){const g=(h+b)/2,O=(_+f)/2,I=(b+S)/2,q=(f+R)/2;s.bezierCurveTo(g+2*(b-g)/3,O+2*(f-O)/3,I+2*(b-I)/3,q+2*(f-q)/3,I,q)}#F(){const s=this.currentPath;if(s.length<=2)return[[s[0],s[0],s.at(-1),s.at(-1)]];const h=[];let _,[b,f]=s[0];for(_=1;_<s.length-2;_++){const[w,z]=s[_],[Z,et]=s[_+1],K=(w+Z)/2,ht=(z+et)/2,nt=[b+2*(w-b)/3,f+2*(z-f)/3],yt=[K+2*(w-K)/3,ht+2*(z-ht)/3];h.push([[b,f],nt,yt,[K,ht]]),[b,f]=[K,ht]}const[S,R]=s[_],[g,O]=s[_+1],I=[b+2*(S-b)/3,f+2*(R-f)/3],q=[g+2*(S-g)/3,O+2*(R-O)/3];return h.push([[b,f],I,q,[g,O]]),h}#y(){if(this.isEmpty()){this.#C();return}this.#b();const{canvas:s,ctx:h}=this;h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,s.width,s.height),this.#C();for(const _ of this.bezierPath2D)h.stroke(_)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#x(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(s){this._focusEventsAllowed&&(super.focusin(s),this.enableEditMode())}canvasPointerdown(s){s.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),s.preventDefault(),s.type!=="mouse"&&this.div.focus(),this.#A(s.offsetX,s.offsetY))}canvasPointermove(s){s.preventDefault(),this.#S(s.offsetX,s.offsetY)}canvasPointerup(s){s.preventDefault(),this.#L(s)}canvasPointerleave(s){this.#L(s)}#L(s){this.canvas.removeEventListener("pointerleave",this.#i),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#o),this.canvas.addEventListener("pointerdown",this.#s),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",T.noContextMenu)},10),this.#T(s.offsetX,s.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#M(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",p.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(s=>this.canvas?.setAttribute("aria-label",s)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#k(){this.#f=new ResizeObserver(s=>{const h=s[0].contentRect;h.width&&h.height&&this.setDimensions(h.width,h.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let s,h;this.width&&(s=this.x,h=this.y),super.render(),p.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(R=>this.div?.setAttribute("aria-label",R));const[_,b,f,S]=this.#u();if(this.setAt(_,b,0,0),this.setDims(f,S),this.#M(),this.width){const[R,g]=this.parentDimensions;this.setAspectRatio(this.width*R,this.height*g),this.setAt(s*R,h*g,this.width*R,this.height*g),this.#a=!0,this.#_(),this.setDims(this.width*R,this.height*g),this.#y(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#k(),this.div}#_(){if(!this.#a)return;const[s,h]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*s),this.canvas.height=Math.ceil(this.height*h),this.#C()}setDimensions(s,h){const _=Math.round(s),b=Math.round(h);if(this.#d===_&&this.#h===b)return;this.#d=_,this.#h=b,this.canvas.style.visibility="hidden";const[f,S]=this.parentDimensions;this.width=s/f,this.height=h/S,this.fixAndSetPosition(),this.#l&&this.#w(s,h),this.#_(),this.#y(),this.canvas.style.visibility="visible",this.fixDims()}#w(s,h){const _=this.#O(),b=(s-_)/this.#e,f=(h-_)/this.#t;this.scaleFactor=Math.min(b,f)}#C(){const s=this.#O()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+s,this.translationY*this.scaleFactor+s)}static#j(s){const h=new Path2D;for(let _=0,b=s.length;_<b;_++){const[f,S,R,g]=s[_];_===0&&h.moveTo(...f),h.bezierCurveTo(S[0],S[1],R[0],R[1],g[0],g[1])}return h}static#z(s,h,_){const[b,f,S,R]=h;switch(_){case 0:for(let g=0,O=s.length;g<O;g+=2)s[g]+=b,s[g+1]=R-s[g+1];break;case 90:for(let g=0,O=s.length;g<O;g+=2){const I=s[g];s[g]=s[g+1]+b,s[g+1]=I+f}break;case 180:for(let g=0,O=s.length;g<O;g+=2)s[g]=S-s[g],s[g+1]+=f;break;case 270:for(let g=0,O=s.length;g<O;g+=2){const I=s[g];s[g]=S-s[g+1],s[g+1]=R-I}break;default:throw new Error("Invalid rotation")}return s}static#I(s,h,_){const[b,f,S,R]=h;switch(_){case 0:for(let g=0,O=s.length;g<O;g+=2)s[g]-=b,s[g+1]=R-s[g+1];break;case 90:for(let g=0,O=s.length;g<O;g+=2){const I=s[g];s[g]=s[g+1]-f,s[g+1]=I-b}break;case 180:for(let g=0,O=s.length;g<O;g+=2)s[g]=S-s[g],s[g+1]-=f;break;case 270:for(let g=0,O=s.length;g<O;g+=2){const I=s[g];s[g]=R-s[g+1],s[g+1]=S-I}break;default:throw new Error("Invalid rotation")}return s}#B(s,h,_,b){const f=[],S=this.thickness/2,R=s*h+S,g=s*_+S;for(const O of this.paths){const I=[],q=[];for(let w=0,z=O.length;w<z;w++){const[Z,et,K,ht]=O[w],nt=s*Z[0]+R,yt=s*Z[1]+g,mt=s*et[0]+R,Et=s*et[1]+g,Rt=s*K[0]+R,X=s*K[1]+g,j=s*ht[0]+R,M=s*ht[1]+g;w===0&&(I.push(nt,yt),q.push(nt,yt)),I.push(mt,Et,Rt,X,j,M),q.push(mt,Et),w===z-1&&q.push(j,M)}f.push({bezier:D.#z(I,b,this.rotation),points:D.#z(q,b,this.rotation)})}return f}#D(){let s=1/0,h=-1/0,_=1/0,b=-1/0;for(const f of this.paths)for(const[S,R,g,O]of f){const I=o.Util.bezierBoundingBox(...S,...R,...g,...O);s=Math.min(s,I[0]),_=Math.min(_,I[1]),h=Math.max(h,I[2]),b=Math.max(b,I[3])}return[s,_,h,b]}#O(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#x(s=!1){if(this.isEmpty())return;if(!this.#l){this.#y();return}const h=this.#D(),_=this.#O();this.#e=Math.max(p.AnnotationEditor.MIN_SIZE,h[2]-h[0]),this.#t=Math.max(p.AnnotationEditor.MIN_SIZE,h[3]-h[1]);const b=Math.ceil(_+this.#e*this.scaleFactor),f=Math.ceil(_+this.#t*this.scaleFactor),[S,R]=this.parentDimensions;this.width=b/S,this.height=f/R,this.setAspectRatio(b,f);const g=this.translationX,O=this.translationY;this.translationX=-h[0],this.translationY=-h[1],this.#_(),this.#y(),this.#d=b,this.#h=f,this.setDims(b,f);const I=s?_/this.scaleFactor/2:0;this.translate(g-this.translationX-I,O-this.translationY-I)}static deserialize(s,h,_){if(s instanceof l.InkAnnotationElement)return null;const b=super.deserialize(s,h,_);b.thickness=s.thickness,b.color=o.Util.makeHexColor(...s.color),b.opacity=s.opacity;const[f,S]=b.pageDimensions,R=b.width*f,g=b.height*S,O=b.parentScale,I=s.thickness/2;b.#l=!0,b.#d=Math.round(R),b.#h=Math.round(g);const{paths:q,rect:w,rotation:z}=s;for(let{bezier:et}of q){et=D.#I(et,w,z);const K=[];b.paths.push(K);let ht=O*(et[0]-I),nt=O*(et[1]-I);for(let mt=2,Et=et.length;mt<Et;mt+=6){const Rt=O*(et[mt]-I),X=O*(et[mt+1]-I),j=O*(et[mt+2]-I),M=O*(et[mt+3]-I),A=O*(et[mt+4]-I),x=O*(et[mt+5]-I);K.push([[ht,nt],[Rt,X],[j,M],[A,x]]),ht=A,nt=x}const yt=this.#j(K);b.bezierPath2D.push(yt)}const Z=b.#D();return b.#e=Math.max(p.AnnotationEditor.MIN_SIZE,Z[2]-Z[0]),b.#t=Math.max(p.AnnotationEditor.MIN_SIZE,Z[3]-Z[1]),b.#w(R,g),b}serialize(){if(this.isEmpty())return null;const s=this.getRect(0,0),h=p.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:h,thickness:this.thickness,opacity:this.opacity,paths:this.#B(this.scaleFactor/this.parentScale,this.translationX,this.translationY,s),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}c.InkEditor=D}),((a,c,m)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StampEditor=void 0;var o=m(1),p=m(4),l=m(6),T=m(29);class F extends p.AnnotationEditor{#t=null;#e=null;#n=null;#i=null;#o=null;#s=null;#r=null;#l=null;#c=!1;#a=!1;static _type="stamp";constructor(d){super({...d,name:"stampEditor"}),this.#i=d.bitmapUrl,this.#o=d.bitmapFile}static initialize(d){p.AnnotationEditor.initialize(d)}static get supportedTypes(){const d=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",d.map(s=>`image/${s}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(d){return this.supportedTypes.includes(d)}static paste(d,s){s.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:d.getAsFile()})}#f(d,s=!1){if(!d){this.remove();return}this.#t=d.bitmap,s||(this.#e=d.id,this.#c=d.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#s&&this.div.focus()}#h(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(s=>this.#f(s,!0)).finally(()=>this.#d());return}if(this.#i){const s=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(s).then(h=>this.#f(h)).finally(()=>this.#d());return}if(this.#o){const s=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(s).then(h=>this.#f(h)).finally(()=>this.#d());return}const d=document.createElement("input");d.type="file",d.accept=F.supportedTypesStr,this.#n=new Promise(s=>{d.addEventListener("change",async()=>{if(!d.files||d.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const h=await this._uiManager.imageManager.getFromFile(d.files[0]);this.#f(h)}s()}),d.addEventListener("cancel",()=>{this.remove(),s()})}).finally(()=>this.#d()),d.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#s?.remove(),this.#s=null,this.#r?.disconnect(),this.#r=null),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#h();return}super.rebuild(),this.div!==null&&(this.#e&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let d,s;if(this.width&&(d=this.x,s=this.y),super.render(),this.div.hidden=!0,this.#t?this.#p():this.#h(),this.width){const[h,_]=this.parentDimensions;this.setAt(d*h,s*_,this.width*h,this.height*_)}return this.div}#p(){const{div:d}=this;let{width:s,height:h}=this.#t;const[_,b]=this.pageDimensions,f=.75;if(this.width)s=this.width*_,h=this.height*b;else if(s>f*_||h>f*b){const O=Math.min(f*_/s,f*b/h);s*=O,h*=O}const[S,R]=this.parentDimensions;this.setDims(s*S/_,h*R/b),this._uiManager.enableWaiting(!1);const g=this.#s=document.createElement("canvas");d.append(g),d.hidden=!1,this.#m(s,h),this.#b(),this.#a||(this.parent.addUndoableEditor(this),this.#a=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#v(d,s){const[h,_]=this.parentDimensions;this.width=d/h,this.height=s/_,this.setDims(d,s),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const b=200;this.#l=setTimeout(()=>{this.#l=null,this.#m(d,s)},b)}#g(d,s){const{width:h,height:_}=this.#t;let b=h,f=_,S=this.#t;for(;b>2*d||f>2*s;){const R=b,g=f;b>2*d&&(b=b>=16384?Math.floor(b/2)-1:Math.ceil(b/2)),f>2*s&&(f=f>=16384?Math.floor(f/2)-1:Math.ceil(f/2));const O=new OffscreenCanvas(b,f);O.getContext("2d").drawImage(S,0,0,R,g,0,0,b,f),S=O.transferToImageBitmap()}return S}#m(d,s){d=Math.ceil(d),s=Math.ceil(s);const h=this.#s;if(!h||h.width===d&&h.height===s)return;h.width=d,h.height=s;const _=this.#c?this.#t:this.#g(d,s),b=h.getContext("2d");b.filter=this._uiManager.hcmFilter,b.drawImage(_,0,0,_.width,_.height,0,0,d,s)}#u(d){if(d){if(this.#c){const _=this._uiManager.imageManager.getSvgUrl(this.#e);if(_)return _}const s=document.createElement("canvas");return{width:s.width,height:s.height}=this.#t,s.getContext("2d").drawImage(this.#t,0,0),s.toDataURL()}if(this.#c){const[s,h]=this.pageDimensions,_=Math.round(this.width*s*l.PixelsPerInch.PDF_TO_CSS_UNITS),b=Math.round(this.height*h*l.PixelsPerInch.PDF_TO_CSS_UNITS),f=new OffscreenCanvas(_,b);return f.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,_,b),f.transferToImageBitmap()}return structuredClone(this.#t)}#b(){this.#r=new ResizeObserver(d=>{const s=d[0].contentRect;s.width&&s.height&&this.#v(s.width,s.height)}),this.#r.observe(this.div)}static deserialize(d,s,h){if(d instanceof T.StampAnnotationElement)return null;const _=super.deserialize(d,s,h),{rect:b,bitmapUrl:f,bitmapId:S,isSvg:R,accessibilityData:g}=d;S&&h.imageManager.isValidId(S)?_.#e=S:_.#i=f,_.#c=R;const[O,I]=_.pageDimensions;return _.width=(b[2]-b[0])/O,_.height=(b[3]-b[1])/I,g&&(_.altTextData=g),_}serialize(d=!1,s=null){if(this.isEmpty())return null;const h={annotationType:o.AnnotationEditorType.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(d)return h.bitmapUrl=this.#u(!0),h.accessibilityData=this.altTextData,h;const{decorative:_,altText:b}=this.altTextData;if(!_&&b&&(h.accessibilityData={type:"Figure",alt:b}),s===null)return h;s.stamps||=new Map;const f=this.#c?(h.rect[2]-h.rect[0])*(h.rect[3]-h.rect[1]):null;if(!s.stamps.has(this.#e))s.stamps.set(this.#e,{area:f,serialized:h}),h.bitmap=this.#u(!1);else if(this.#c){const S=s.stamps.get(this.#e);f>S.area&&(S.area=f,S.serialized.bitmap.close(),S.serialized.bitmap=this.#u(!1))}return h}}c.StampEditor=F})],__webpack_module_cache__={};function __w_pdfjs_require__(a){var c=__webpack_module_cache__[a];if(c!==void 0)return c.exports;var m=__webpack_module_cache__[a]={exports:{}};return __webpack_modules__[a](m,m.exports,__w_pdfjs_require__),m.exports}var __webpack_exports__={};return(()=>{var a=__webpack_exports__;Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"AbortException",{enumerable:!0,get:function(){return c.AbortException}}),Object.defineProperty(a,"AnnotationEditorLayer",{enumerable:!0,get:function(){return l.AnnotationEditorLayer}}),Object.defineProperty(a,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return c.AnnotationEditorParamsType}}),Object.defineProperty(a,"AnnotationEditorType",{enumerable:!0,get:function(){return c.AnnotationEditorType}}),Object.defineProperty(a,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return T.AnnotationEditorUIManager}}),Object.defineProperty(a,"AnnotationLayer",{enumerable:!0,get:function(){return F.AnnotationLayer}}),Object.defineProperty(a,"AnnotationMode",{enumerable:!0,get:function(){return c.AnnotationMode}}),Object.defineProperty(a,"CMapCompressionType",{enumerable:!0,get:function(){return c.CMapCompressionType}}),Object.defineProperty(a,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(a,"FeatureTest",{enumerable:!0,get:function(){return c.FeatureTest}}),Object.defineProperty(a,"GlobalWorkerOptions",{enumerable:!0,get:function(){return D.GlobalWorkerOptions}}),Object.defineProperty(a,"ImageKind",{enumerable:!0,get:function(){return c.ImageKind}}),Object.defineProperty(a,"InvalidPDFException",{enumerable:!0,get:function(){return c.InvalidPDFException}}),Object.defineProperty(a,"MissingPDFException",{enumerable:!0,get:function(){return c.MissingPDFException}}),Object.defineProperty(a,"OPS",{enumerable:!0,get:function(){return c.OPS}}),Object.defineProperty(a,"PDFDataRangeTransport",{enumerable:!0,get:function(){return m.PDFDataRangeTransport}}),Object.defineProperty(a,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(a,"PDFWorker",{enumerable:!0,get:function(){return m.PDFWorker}}),Object.defineProperty(a,"PasswordResponses",{enumerable:!0,get:function(){return c.PasswordResponses}}),Object.defineProperty(a,"PermissionFlag",{enumerable:!0,get:function(){return c.PermissionFlag}}),Object.defineProperty(a,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(a,"PromiseCapability",{enumerable:!0,get:function(){return c.PromiseCapability}}),Object.defineProperty(a,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(a,"SVGGraphics",{enumerable:!0,get:function(){return m.SVGGraphics}}),Object.defineProperty(a,"UnexpectedResponseException",{enumerable:!0,get:function(){return c.UnexpectedResponseException}}),Object.defineProperty(a,"Util",{enumerable:!0,get:function(){return c.Util}}),Object.defineProperty(a,"VerbosityLevel",{enumerable:!0,get:function(){return c.VerbosityLevel}}),Object.defineProperty(a,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(a,"build",{enumerable:!0,get:function(){return m.build}}),Object.defineProperty(a,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return c.createValidAbsoluteUrl}}),Object.defineProperty(a,"getDocument",{enumerable:!0,get:function(){return m.getDocument}}),Object.defineProperty(a,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(a,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(a,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(a,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(a,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(a,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(a,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(a,"normalizeUnicode",{enumerable:!0,get:function(){return c.normalizeUnicode}}),Object.defineProperty(a,"renderTextLayer",{enumerable:!0,get:function(){return p.renderTextLayer}}),Object.defineProperty(a,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(a,"shadow",{enumerable:!0,get:function(){return c.shadow}}),Object.defineProperty(a,"updateTextLayer",{enumerable:!0,get:function(){return p.updateTextLayer}}),Object.defineProperty(a,"version",{enumerable:!0,get:function(){return m.version}});var c=__w_pdfjs_require__(1),m=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),p=__w_pdfjs_require__(26),l=__w_pdfjs_require__(27),T=__w_pdfjs_require__(5),F=__w_pdfjs_require__(29),D=__w_pdfjs_require__(14),d=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf)),pdf.exports}var hasRequiredCore_min;function requireCore_min(){return hasRequiredCore_min||(hasRequiredCore_min=1,(function(a){var c=requireReact(),m=requirePdf();function o(E){var P=Object.create(null);return E&&Object.keys(E).forEach((function(W){if(W!=="default"){var Q=Object.getOwnPropertyDescriptor(E,W);Object.defineProperty(P,W,Q.get?Q:{enumerable:!0,get:function(){return E[W]}})}})),P.default=E,Object.freeze(P)}var p,l=o(c),T=o(m);a.AnnotationType=void 0,(p=a.AnnotationType||(a.AnnotationType={}))[p.Text=1]="Text",p[p.Link=2]="Link",p[p.FreeText=3]="FreeText",p[p.Line=4]="Line",p[p.Square=5]="Square",p[p.Circle=6]="Circle",p[p.Polygon=7]="Polygon",p[p.Polyline=8]="Polyline",p[p.Highlight=9]="Highlight",p[p.Underline=10]="Underline",p[p.Squiggly=11]="Squiggly",p[p.StrikeOut=12]="StrikeOut",p[p.Stamp=13]="Stamp",p[p.Caret=14]="Caret",p[p.Ink=15]="Ink",p[p.Popup=16]="Popup",p[p.FileAttachment=17]="FileAttachment";var F=function(E,P){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,Q){W.__proto__=Q}||function(W,Q){for(var tt in Q)Object.prototype.hasOwnProperty.call(Q,tt)&&(W[tt]=Q[tt])},F(E,P)};function D(E,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function W(){this.constructor=E}F(E,P),E.prototype=P===null?Object.create(P):(W.prototype=P.prototype,new W)}var d,s=function(){return s=Object.assign||function(E){for(var P,W=1,Q=arguments.length;W<Q;W++)for(var tt in P=arguments[W])Object.prototype.hasOwnProperty.call(P,tt)&&(E[tt]=P[tt]);return E},s.apply(this,arguments)};a.TextDirection=void 0,(d=a.TextDirection||(a.TextDirection={})).RightToLeft="RTL",d.LeftToRight="LTR";var h,_=l.createContext({currentTheme:"light",direction:a.TextDirection.LeftToRight,setCurrentTheme:function(){}}),b=function(E){var P=[];return Object.keys(E).forEach((function(W){W&&E[W]&&P.push(W)})),P.join(" ")},f=typeof window<"u"?l.useLayoutEffect:l.useEffect,S=function(E){var P=l.useRef(null),W=E.once,Q=E.threshold,tt=E.onVisibilityChanged;return f((function(){var at=P.current;if(at){var dt=new IntersectionObserver((function(ot){ot.forEach((function(J){var ct=J.isIntersecting,st=J.intersectionRatio;tt({isVisible:ct,ratio:st}),ct&&W&&(dt.unobserve(at),dt.disconnect())}))}),{threshold:Q||0});return dt.observe(at),function(){dt.unobserve(at),dt.disconnect()}}}),[]),P},R=function(E){var P=E.children,W=E.ignoreDirection,Q=W!==void 0&&W,tt=E.size,at=tt===void 0?24:tt,dt=l.useContext(_).direction,ot=!Q&&dt===a.TextDirection.RightToLeft,J="".concat(at||24,"px");return l.createElement("svg",{"aria-hidden":"true",className:b({"rpv-core__icon":!0,"rpv-core__icon--rtl":ot}),focusable:"false",height:J,viewBox:"0 0 24 24",width:J},P)},g=function(){return l.createElement(R,{size:16},l.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},O=function(E){var P=E.children,W=E.testId,Q=E.onClick,tt=l.useContext(_).direction===a.TextDirection.RightToLeft,at=W?{"data-testid":W}:{};return l.createElement("button",s({className:b({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":tt}),type:"button",onClick:Q},at),P)},I=function(E){var P=E.size,W=P===void 0?"4rem":P,Q=E.testId,tt=l.useState(!1),at=tt[0],dt=tt[1],ot=Q?{"data-testid":Q}:{},J=S({onVisibilityChanged:function(ct){dt(ct.isVisible)}});return l.createElement("div",s({},ot,{className:b({"rpv-core__spinner":!0,"rpv-core__spinner--animating":at}),ref:J,style:{height:W,width:W}}))},q=function(E){var P=E.ariaLabel,W=P===void 0?"":P,Q=E.autoFocus,tt=Q!==void 0&&Q,at=E.placeholder,dt=at===void 0?"":at,ot=E.testId,J=E.type,ct=J===void 0?"text":J,st=E.value,wt=st===void 0?"":st,Tt=E.onChange,xt=E.onKeyDown,It=xt===void 0?function(){}:xt,zt=l.useContext(_).direction,Ft=l.useRef(),ue=zt===a.TextDirection.RightToLeft,Wt={ref:Ft,"data-testid":"","aria-label":W,className:b({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":ue}),placeholder:dt,value:wt,onChange:function(Jt){return Tt(Jt.target.value)},onKeyDown:It};return ot&&(Wt["data-testid"]=ot),f((function(){if(tt){var Jt=Ft.current;if(Jt){var ae=window.scrollX,Vt=window.scrollY;Jt.focus(),window.scrollTo(ae,Vt)}}}),[]),ct==="text"?l.createElement("input",s({type:"text"},Wt)):l.createElement("input",s({type:"password"},Wt))};(function(E){E[E.ExitFullScreen=0]="ExitFullScreen",E[E.FullScreenChange=1]="FullScreenChange",E[E.FullScreenElement=2]="FullScreenElement",E[E.FullScreenEnabled=3]="FullScreenEnabled",E[E.RequestFullScreen=4]="RequestFullScreen"})(h||(h={}));var w,z={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Z={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},et={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},K=typeof window<"u",ht=K&&(h.FullScreenEnabled in document&&z||Z.FullScreenEnabled in document&&Z||et.FullScreenEnabled in document&&et)||z,nt=function(){return K&&ht.FullScreenEnabled in document&&document[ht.FullScreenEnabled]===!0},yt=function(E){return K?E[ht.ExitFullScreen]():Promise.resolve({})},mt=function(){return K?document[ht.FullScreenElement]:null},Et=function(E,P){var W=l.useRef(),Q=function(){W.current&&clearTimeout(W.current)};return l.useEffect((function(){return function(){return Q()}}),[]),l.useCallback((function(){for(var tt=[],at=0;at<arguments.length;at++)tt[at]=arguments[at];Q(),W.current=setTimeout((function(){E.apply(void 0,tt)}),P)}),[E,P])},Rt=function(){var E=l.useRef(!1);return l.useEffect((function(){return E.current=!0,function(){E.current=!1}}),[]),E},X=function(E){var P=l.useRef(E);return l.useEffect((function(){P.current=E}),[E]),P.current};(function(E){E.NotRenderedYet="NotRenderedYet",E.Rendering="Rendering",E.Rendered="Rendered"})(w||(w={}));var j,M=-9999,A=function(E){var P=E.doc,W=P.numPages,Q=P.loadingTask.docId,tt=l.useMemo((function(){return Array(W).fill(null).map((function(ot,J){return{pageIndex:J,renderStatus:w.NotRenderedYet,visibility:M}}))}),[Q]),at=l.useRef({currentRenderingPage:-1,startRange:0,endRange:W-1,visibilities:tt}),dt=function(ot,J){at.current.visibilities[ot].visibility=J};return{getHighestPriorityPage:function(){var ot=at.current.visibilities.slice(at.current.startRange,at.current.endRange+1).filter((function(Tt){return Tt.visibility>M}));if(!ot.length)return-1;for(var J=ot[0].pageIndex,ct=ot[ot.length-1].pageIndex,st=ot.length,wt=0;wt<st;wt++){if(ot[wt].renderStatus===w.Rendering)return-1;if(ot[wt].renderStatus===w.NotRenderedYet)return ot[wt].pageIndex}return ct+1<W&&at.current.visibilities[ct+1].renderStatus!==w.Rendered?ct+1:J-1>=0&&at.current.visibilities[J-1].renderStatus!==w.Rendered?J-1:-1},isInRange:function(ot){return ot>=at.current.startRange&&ot<=at.current.endRange},markNotRendered:function(){for(var ot=0;ot<W;ot++)at.current.visibilities[ot].renderStatus=w.NotRenderedYet},markRendered:function(ot){at.current.visibilities[ot].renderStatus=w.Rendered},markRendering:function(ot){at.current.currentRenderingPage!==-1&&at.current.currentRenderingPage!==ot&&at.current.visibilities[at.current.currentRenderingPage].renderStatus===w.Rendering&&(at.current.visibilities[at.current.currentRenderingPage].renderStatus=w.NotRenderedYet),at.current.visibilities[ot].renderStatus=w.Rendering,at.current.currentRenderingPage=ot},setOutOfRange:function(ot){dt(ot,M)},setRange:function(ot,J){at.current.startRange=ot,at.current.endRange=J;for(var ct=0;ct<W;ct++)(ct<ot||ct>J)&&(at.current.visibilities[ct].visibility=M,at.current.visibilities[ct].renderStatus=w.NotRenderedYet)},setVisibility:dt}},x={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},y=l.createContext({l10n:x,setL10n:function(){}}),L=0,B=function(){return L++},G=function(E,P,W){var Q=function(tt){var at=P.current;if(at){var dt=tt.target;if(dt instanceof Element&&dt.shadowRoot){var ot=tt.composedPath();ot.length>0&&!at.contains(ot[0])&&W()}else at.contains(dt)||W()}};l.useEffect((function(){if(E){var tt={capture:!0};return document.addEventListener("click",Q,tt),function(){document.removeEventListener("click",Q,tt)}}}),[])},H=function(E){var P=function(W){W.key==="Escape"&&E()};l.useEffect((function(){return document.addEventListener("keyup",P),function(){document.removeEventListener("keyup",P)}}),[])},v=function(E){var P=E.ariaControlsSuffix,W=E.children,Q=E.closeOnClickOutside,tt=E.closeOnEscape,at=E.onToggle,dt=l.useRef(),ot=l.useContext(_).direction===a.TextDirection.RightToLeft;return l.useEffect((function(){var J=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=J}}),[]),H((function(){dt.current&&tt&&at()})),G(Q,dt,at),f((function(){var J=dt.current;if(J){var ct=.75*document.body.clientHeight;J.getBoundingClientRect().height>=ct&&(J.style.overflow="auto",J.style.maxHeight="".concat(ct,"px"))}}),[]),l.createElement("div",{"aria-modal":"true",className:b({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":ot}),id:"rpv-core__modal-body-".concat(P),ref:dt,role:"dialog",tabIndex:-1},W)},k=function(E){var P=E.children;return l.createElement("div",{className:"rpv-core__modal-overlay"},P)};a.ToggleStatus=void 0,(j=a.ToggleStatus||(a.ToggleStatus={})).Close="Close",j.Open="Open",j.Toggle="Toggle";var N,V=function(E){var P=l.useState(E),W=P[0],Q=P[1];return{opened:W,toggle:function(tt){switch(tt){case a.ToggleStatus.Close:Q(!1);break;case a.ToggleStatus.Open:Q(!0);break;case a.ToggleStatus.Toggle:default:Q((function(at){return!at}))}}}},Y=function(E){var P=E.content,W=E.isOpened,Q=W!==void 0&&W,tt=E.target,at=V(Q),dt=at.opened,ot=at.toggle;return l.createElement(l.Fragment,null,tt&&tt(ot,dt),dt&&P(ot))};a.Position=void 0,(N=a.Position||(a.Position={})).TopLeft="TOP_LEFT",N.TopCenter="TOP_CENTER",N.TopRight="TOP_RIGHT",N.RightTop="RIGHT_TOP",N.RightCenter="RIGHT_CENTER",N.RightBottom="RIGHT_BOTTOM",N.BottomLeft="BOTTOM_LEFT",N.BottomCenter="BOTTOM_CENTER",N.BottomRight="BOTTOM_RIGHT",N.LeftTop="LEFT_TOP",N.LeftCenter="LEFT_CENTER",N.LeftBottom="LEFT_BOTTOM";var $,rt,bt,Bt,St,Ct,Dt,Mt,jt=function(E,P,W,Q,tt){f((function(){var at=P.current,dt=E.current,ot=W.current;if(dt&&at&&ot){var J=ot.getBoundingClientRect(),ct=(function(Tt,xt,It,zt){var Ft=xt.getBoundingClientRect(),ue=Tt.getBoundingClientRect(),Wt=ue.height,Jt=ue.width,ae=0,Vt=0;switch(It){case a.Position.TopLeft:ae=Ft.top-Wt,Vt=Ft.left;break;case a.Position.TopCenter:ae=Ft.top-Wt,Vt=Ft.left+Ft.width/2-Jt/2;break;case a.Position.TopRight:ae=Ft.top-Wt,Vt=Ft.left+Ft.width-Jt;break;case a.Position.RightTop:ae=Ft.top,Vt=Ft.left+Ft.width;break;case a.Position.RightCenter:ae=Ft.top+Ft.height/2-Wt/2,Vt=Ft.left+Ft.width;break;case a.Position.RightBottom:ae=Ft.top+Ft.height-Wt,Vt=Ft.left+Ft.width;break;case a.Position.BottomLeft:ae=Ft.top+Ft.height,Vt=Ft.left;break;case a.Position.BottomCenter:ae=Ft.top+Ft.height,Vt=Ft.left+Ft.width/2-Jt/2;break;case a.Position.BottomRight:ae=Ft.top+Ft.height,Vt=Ft.left+Ft.width-Jt;break;case a.Position.LeftTop:ae=Ft.top,Vt=Ft.left-Jt;break;case a.Position.LeftCenter:ae=Ft.top+Ft.height/2-Wt/2,Vt=Ft.left-Jt;break;case a.Position.LeftBottom:ae=Ft.top+Ft.height-Wt,Vt=Ft.left-Jt}return{left:Vt+(zt.left||0),top:ae+(zt.top||0)}})(dt,at,Q,tt),st=ct.top,wt=ct.left;dt.style.top="".concat(st-J.top,"px"),dt.style.left="".concat(wt-J.left,"px")}}),[])},qt=function(E){var P,W=E.customClassName,Q=E.position;return l.createElement("div",{className:b((P={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Q===a.Position.TopLeft,"rpv-core__arrow--tc":Q===a.Position.TopCenter,"rpv-core__arrow--tr":Q===a.Position.TopRight,"rpv-core__arrow--rt":Q===a.Position.RightTop,"rpv-core__arrow--rc":Q===a.Position.RightCenter,"rpv-core__arrow--rb":Q===a.Position.RightBottom,"rpv-core__arrow--bl":Q===a.Position.BottomLeft,"rpv-core__arrow--bc":Q===a.Position.BottomCenter,"rpv-core__arrow--br":Q===a.Position.BottomRight,"rpv-core__arrow--lt":Q===a.Position.LeftTop,"rpv-core__arrow--lc":Q===a.Position.LeftCenter,"rpv-core__arrow--lb":Q===a.Position.LeftBottom},P["".concat(W)]=W!=="",P))})},Qt=function(E){var P=E.ariaControlsSuffix,W=E.children,Q=E.closeOnClickOutside,tt=E.offset,at=E.position,dt=E.targetRef,ot=E.onClose,J=l.useRef(),ct=l.useRef(),st=l.useRef(),wt=l.useContext(_).direction===a.TextDirection.RightToLeft;G(Q,J,ot),jt(J,dt,st,at,tt),f((function(){var xt=ct.current;if(xt){var It=.75*document.body.clientHeight;xt.getBoundingClientRect().height>=It&&(xt.style.overflow="auto",xt.style.maxHeight="".concat(It,"px"))}}),[]);var Tt="rpv-core__popover-body-inner-".concat(P);return l.createElement(l.Fragment,null,l.createElement("div",{ref:st,style:{left:0,position:"absolute",top:0}}),l.createElement("div",{"aria-describedby":Tt,className:b({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":wt}),id:"rpv-core__popover-body-".concat(P),ref:J,role:"dialog",tabIndex:-1},l.createElement(qt,{customClassName:"rpv-core__popover-body-arrow",position:at}),l.createElement("div",{id:Tt,ref:ct},W)))},re=function(E){var P=E.closeOnEscape,W=E.onClose,Q=l.useRef();return H((function(){Q.current&&P&&W()})),l.createElement("div",{className:"rpv-core__popover-overlay",ref:Q})},ve=function(E){var P=E.ariaControlsSuffix,W=E.children,Q=E.contentRef,tt=E.offset,at=E.position,dt=E.targetRef,ot=l.useRef(),J=l.useContext(_).direction===a.TextDirection.RightToLeft;return jt(Q,dt,ot,at,tt),l.createElement(l.Fragment,null,l.createElement("div",{ref:ot,style:{left:0,position:"absolute",top:0}}),l.createElement("div",{className:b({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":J}),id:"rpv-core__tooltip-body-".concat(P),ref:Q,role:"tooltip"},l.createElement(qt,{customClassName:"rpv-core__tooltip-body-arrow",position:at}),l.createElement("div",{className:"rpv-core__tooltip-body-content"},W)))};a.FullScreenMode=void 0,($=a.FullScreenMode||(a.FullScreenMode={})).Normal="Normal",$.Entering="Entering",$.Entered="Entered",$.EnteredCompletely="EnteredCompletely",$.Exitting="Exitting",$.Exited="Exited",a.LayerRenderStatus=void 0,(rt=a.LayerRenderStatus||(a.LayerRenderStatus={}))[rt.PreRender=0]="PreRender",rt[rt.DidRender=1]="DidRender",a.PageMode=void 0,(bt=a.PageMode||(a.PageMode={})).Attachments="UseAttachments",bt.Bookmarks="UseOutlines",bt.ContentGroup="UseOC",bt.Default="UserNone",bt.FullScreen="FullScreen",bt.Thumbnails="UseThumbs",a.PasswordStatus=void 0,(Bt=a.PasswordStatus||(a.PasswordStatus={})).RequiredPassword="RequiredPassword",Bt.WrongPassword="WrongPassword",a.RotateDirection=void 0,(St=a.RotateDirection||(a.RotateDirection={})).Backward="Backward",St.Forward="Forward",a.ScrollMode=void 0,(Ct=a.ScrollMode||(a.ScrollMode={})).Page="Page",Ct.Horizontal="Horizontal",Ct.Vertical="Vertical",Ct.Wrapped="Wrapped",a.SpecialZoomLevel=void 0,(Dt=a.SpecialZoomLevel||(a.SpecialZoomLevel={})).ActualSize="ActualSize",Dt.PageFit="PageFit",Dt.PageWidth="PageWidth",a.ViewMode=void 0,(Mt=a.ViewMode||(a.ViewMode={})).DualPage="DualPage",Mt.DualPageWithCover="DualPageWithCover",Mt.SinglePage="SinglePage";var ne,De=function(E,P){return E.reduce((function(W,Q,tt){return tt%P?W[W.length-1].push(Q):W.push([Q]),W}),[])},Tn=function(E,P){switch(P[1].name){case"XYZ":return{bottomOffset:function(W,Q){return P[3]===null?Q:P[3]},leftOffset:function(W,Q){return P[2]===null?0:P[2]},pageIndex:E,scaleTo:P[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:E,scaleTo:a.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:P[2],leftOffset:0,pageIndex:E,scaleTo:a.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:E,scaleTo:1}}},un=new Map,Gn=new Map,En=function(E,P){return"".concat(E.loadingTask.docId,"___").concat(P.num,"R").concat(P.gen===0?"":P.gen)},Xn=function(E,P,W){un.set(En(E,P),W)},Li=function(E,P){if(!E)return Promise.reject("The document is not loaded yet");var W="".concat(E.loadingTask.docId,"___").concat(P),Q=Gn.get(W);return Q?Promise.resolve(Q):new Promise((function(tt,at){E.getPage(P+1).then((function(dt){Gn.set(W,dt),dt.ref&&Xn(E,dt.ref,P),tt(dt)}))}))},$a=function(E,P){return new Promise((function(W){new Promise((function(Q){typeof P=="string"?E.getDestination(P).then((function(tt){Q(tt)})):Q(P)})).then((function(Q){if(typeof Q[0]=="object"&&Q[0]!==null){var tt=Q[0],at=(function(ot,J){var ct=En(ot,J);return un.has(ct)?un.get(ct):null})(E,tt);at===null?E.getPageIndex(tt).then((function(ot){Xn(E,tt,ot),$a(E,P).then((function(J){return W(J)}))})):W(Tn(at,Q))}else{var dt=Tn(Q[0],Q);W(dt)}}))}))};(function(E){E[E.Solid=1]="Solid",E[E.Dashed=2]="Dashed",E[E.Beveled=3]="Beveled",E[E.Inset=4]="Inset",E[E.Underline=5]="Underline"})(ne||(ne={}));var Pn,Pt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),pt=function(E,P,W,Q){var tt=parseInt(E,10);return tt>=P&&tt<=W?tt:Q},ut=function(E){return E.contentsObj?E.contentsObj.str:E.contents||""},Ut=function(E){return E.titleObj?E.titleObj.str:E.title||""},je=function(E){var P=E.annotation,W=l.useContext(_).direction,Q=Ut(P),tt=ut(P),at=W===a.TextDirection.RightToLeft,dt=l.useRef(),ot="";if(P.modificationDate){var J=(function(ct){var st=Pt.exec(ct);if(!st)return null;var wt=parseInt(st[1],10),Tt=pt(st[2],1,12,1)-1,xt=pt(st[3],1,31,1),It=pt(st[4],0,23,0),zt=pt(st[5],0,59,0),Ft=pt(st[6],0,59,0),ue=st[7]||"Z",Wt=pt(st[8],0,23,0),Jt=pt(st[9],0,59,0);switch(ue){case"-":It+=Wt,zt+=Jt;break;case"+":It-=Wt,zt-=Jt}return new Date(Date.UTC(wt,Tt,xt,It,zt,Ft))})(P.modificationDate);ot=J?"".concat(J.toLocaleDateString(),", ").concat(J.toLocaleTimeString()):""}return l.useLayoutEffect((function(){if(dt.current){var ct=document.querySelector('[data-annotation-id="'.concat(P.id,'"]'));if(ct){var st=ct;return st.style.zIndex+=1,function(){st.style.zIndex="".concat(parseInt(st.style.zIndex,10)-1)}}}}),[]),l.createElement("div",{ref:dt,className:b({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":at}),style:{top:P.annotationType===a.AnnotationType.Popup?"":"100%"}},Q&&l.createElement(l.Fragment,null,l.createElement("div",{className:b({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!at,"rpv-core__annotation-popup-title--rtl":at})},Q),l.createElement("div",{className:"rpv-core__annotation-popup-date"},ot)),tt&&l.createElement("div",{className:"rpv-core__annotation-popup-content"},tt.split(`
`).map((function(ct,st){return l.createElement(l.Fragment,{key:st},ct,l.createElement("br",null))}))))};(function(E){E.Click="Click",E.Hover="Hover"})(Pn||(Pn={}));var fe,Ae=function(E){var P,W=E.annotation,Q=E.children,tt=E.ignoreBorder,at=E.hasPopup,dt=E.isRenderable,ot=E.page,J=E.viewport,ct=W.rect,st=(function(){var te=V(!1),Re=te.opened,Ce=te.toggle,we=l.useState(Pn.Hover),Oe=we[0],Ne=we[1];return{opened:Re,closeOnHover:function(){Oe===Pn.Hover&&Ce(a.ToggleStatus.Close)},openOnHover:function(){Oe===Pn.Hover&&Ce(a.ToggleStatus.Open)},toggleOnClick:function(){switch(Oe){case Pn.Click:Re&&Ne(Pn.Hover),Ce(a.ToggleStatus.Toggle);break;case Pn.Hover:Ne(Pn.Click),Ce(a.ToggleStatus.Open)}}}})(),wt=st.closeOnHover,Tt=st.opened,xt=st.openOnHover,It=st.toggleOnClick,zt=(P=[ct[0],ot.view[3]+ot.view[1]-ct[1],ct[2],ot.view[3]+ot.view[1]-ct[3]],[Math.min(P[0],P[2]),Math.min(P[1],P[3]),Math.max(P[0],P[2]),Math.max(P[1],P[3])]),Ft=ct[2]-ct[0],ue=ct[3]-ct[1],Wt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!tt&&W.borderStyle.width>0){switch(W.borderStyle.style){case ne.Dashed:Wt.borderStyle="dashed";break;case ne.Solid:Wt.borderStyle="solid";break;case ne.Underline:Wt=Object.assign({borderBottomStyle:"solid"},Wt);case ne.Beveled:case ne.Inset:}var Jt=W.borderStyle.width;Wt.borderWidth="".concat(Jt,"px"),W.borderStyle.style!==ne.Underline&&(Ft-=2*Jt,ue-=2*Jt);var ae=W.borderStyle,Vt=ae.horizontalCornerRadius,se=ae.verticalCornerRadius;(Vt>0||se>0)&&(Wt.borderRadius="".concat(Vt,"px / ").concat(se,"px")),W.color?Wt.borderColor="rgb(".concat(0|W.color[0],", ").concat(0|W.color[1],", ").concat(0|W.color[2],")"):Wt.borderWidth="0"}return l.createElement(l.Fragment,null,dt&&Q({popup:{opened:Tt,closeOnHover:wt,openOnHover:xt,toggleOnClick:It},slot:{attrs:{style:Object.assign({height:"".concat(ue,"px"),left:"".concat(zt[0],"px"),top:"".concat(zt[1],"px"),transform:"matrix(".concat(J.transform.join(","),")"),transformOrigin:"-".concat(zt[0],"px -").concat(zt[1],"px"),width:"".concat(Ft,"px")},Wt)},children:l.createElement(l.Fragment,null,at&&Tt&&l.createElement(je,{annotation:W}))}}))},ri=function(E){var P=E.annotation,W=E.page,Q=E.viewport,tt=P.hasPopup===!1,at=Ut(P),dt=ut(P),ot=!!(P.hasPopup||at||dt);return l.createElement(Ae,{annotation:P,hasPopup:tt,ignoreBorder:!0,isRenderable:ot,page:W,viewport:Q},(function(J){return l.createElement("div",s({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":P.id,onClick:J.popup.toggleOnClick,onMouseEnter:J.popup.openOnHover,onMouseLeave:J.popup.closeOnHover}),J.slot.children)}))},si=function(E){var P=E.annotation,W=E.page,Q=E.viewport,tt=P.hasPopup===!1,at=Ut(P),dt=ut(P),ot=!!(P.hasPopup||at||dt),J=P.rect,ct=J[2]-J[0],st=J[3]-J[1],wt=P.borderStyle.width;return l.createElement(Ae,{annotation:P,hasPopup:tt,ignoreBorder:!0,isRenderable:ot,page:W,viewport:Q},(function(Tt){return l.createElement("div",s({},Tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":P.id,onClick:Tt.popup.toggleOnClick,onMouseEnter:Tt.popup.openOnHover,onMouseLeave:Tt.popup.closeOnHover}),l.createElement("svg",{height:"".concat(st,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ct," ").concat(st),width:"".concat(ct,"px")},l.createElement("circle",{cy:st/2,fill:"none",rx:ct/2-wt/2,ry:st/2-wt/2,stroke:"transparent",strokeWidth:wt||1})),Tt.slot.children)}))},Nn=function(E){var P=E.annotation,W=E.page,Q=E.viewport,tt=Ut(P),at=ut(P),dt=!(P.hasPopup!==!1||!tt&&!at),ot=function(){var J,ct,st,wt,Tt=P.file;Tt&&(J=Tt.filename,ct=Tt.content,st=typeof ct=="string"?"":URL.createObjectURL(new Blob([ct],{type:""})),(wt=document.createElement("a")).style.display="none",wt.href=st||J,wt.setAttribute("download",(function(xt){var It=xt.split("/").pop();return It?It.split("#")[0].split("?")[0]:xt})(J)),document.body.appendChild(wt),wt.click(),document.body.removeChild(wt),st&&URL.revokeObjectURL(st))};return l.createElement(Ae,{annotation:P,hasPopup:dt,ignoreBorder:!0,isRenderable:!0,page:W,viewport:Q},(function(J){return l.createElement("div",s({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":P.id,onClick:J.popup.toggleOnClick,onDoubleClick:ot,onMouseEnter:J.popup.openOnHover,onMouseLeave:J.popup.closeOnHover}),J.slot.children)}))},gn=function(E){var P=E.annotation,W=E.page,Q=E.viewport,tt=P.hasPopup===!1,at=Ut(P),dt=ut(P),ot=!!(P.hasPopup||at||dt);return l.createElement(Ae,{annotation:P,hasPopup:tt,ignoreBorder:!0,isRenderable:ot,page:W,viewport:Q},(function(J){return l.createElement("div",s({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":P.id,onClick:J.popup.toggleOnClick,onMouseEnter:J.popup.openOnHover,onMouseLeave:J.popup.closeOnHover}),J.slot.children)}))},Hn=function(E){var P=E.annotation,W=E.page,Q=E.viewport,tt=Ut(P),at=ut(P),dt=!(!tt&&!at),ot=!P.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(P.parentType)!==-1;return f((function(){if(P.parentId){var J=document.querySelector('[data-annotation-id="'.concat(P.parentId,'"]')),ct=document.querySelector('[data-annotation-id="'.concat(P.id,'"]'));if(J&&ct){var st=parseFloat(J.style.left),wt=parseFloat(J.style.top)+parseFloat(J.style.height);ct.style.left="".concat(st,"px"),ct.style.top="".concat(wt,"px"),ct.style.transformOrigin="-".concat(st,"px -").concat(wt,"px")}}}),[]),l.createElement(Ae,{annotation:P,hasPopup:ot,ignoreBorder:!1,isRenderable:dt,page:W,viewport:Q},(function(J){return l.createElement("div",s({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":P.id}),l.createElement(je,{annotation:P}))}))},oi=function(E){var P=E.annotation,W=E.childAnnotation,Q=E.page,tt=E.viewport,at=P.hasPopup===!1,dt=Ut(P),ot=ut(P),J=!!(P.hasPopup||dt||ot);if(P.quadPoints&&P.quadPoints.length>0){var ct=P.quadPoints.map((function(st){return Object.assign({},P,{rect:[st[2].x,st[2].y,st[1].x,st[1].y],quadPoints:[]})}));return l.createElement(l.Fragment,null,ct.map((function(st,wt){return l.createElement(oi,{key:wt,annotation:st,childAnnotation:W,page:Q,viewport:tt})})))}return l.createElement(Ae,{annotation:P,hasPopup:at,ignoreBorder:!0,isRenderable:J,page:Q,viewport:tt},(function(st){return l.createElement(l.Fragment,null,l.createElement("div",s({},st.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":P.id,onClick:st.popup.toggleOnClick,onMouseEnter:st.popup.openOnHover,onMouseLeave:st.popup.closeOnHover}),st.slot.children),W&&W.annotationType===a.AnnotationType.Popup&&st.popup.opened&&l.createElement(Hn,{annotation:W,page:Q,viewport:tt}))}))},Vi=function(E){var P=E.annotation,W=E.page,Q=E.viewport,tt=P.hasPopup===!1,at=Ut(P),dt=ut(P),ot=!!(P.hasPopup||at||dt),J=P.rect,ct=J[2]-J[0],st=J[3]-J[1],wt=P.borderStyle.width;return l.createElement(Ae,{annotation:P,hasPopup:tt,ignoreBorder:!0,isRenderable:ot,page:W,viewport:Q},(function(Tt){return l.createElement("div",s({},Tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":P.id,onClick:Tt.popup.toggleOnClick,onMouseEnter:Tt.popup.openOnHover,onMouseLeave:Tt.popup.closeOnHover}),P.inkLists&&P.inkLists.length&&l.createElement("svg",{height:"".concat(st,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ct," ").concat(st),width:"".concat(ct,"px")},P.inkLists.map((function(xt,It){return l.createElement("polyline",{key:It,fill:"none",stroke:"transparent",strokeWidth:wt||1,points:xt.map((function(zt){return"".concat(zt.x-J[0],",").concat(J[3]-zt.y)})).join(" ")})}))),Tt.slot.children)}))},ln=function(E){var P=E.annotation,W=E.page,Q=E.viewport,tt=P.hasPopup===!1,at=Ut(P),dt=ut(P),ot=!!(P.hasPopup||at||dt),J=P.rect,ct=J[2]-J[0],st=J[3]-J[1],wt=P.borderStyle.width;return l.createElement(Ae,{annotation:P,hasPopup:tt,ignoreBorder:!0,isRenderable:ot,page:W,viewport:Q},(function(Tt){return l.createElement("div",s({},Tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":P.id,onClick:Tt.popup.toggleOnClick,onMouseEnter:Tt.popup.openOnHover,onMouseLeave:Tt.popup.closeOnHover}),l.createElement("svg",{height:"".concat(st,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ct," ").concat(st),width:"".concat(ct,"px")},l.createElement("line",{stroke:"transparent",strokeWidth:wt||1,x1:J[2]-P.lineCoordinates[0],x2:J[2]-P.lineCoordinates[2],y1:J[3]-P.lineCoordinates[1],y2:J[3]-P.lineCoordinates[3]})),Tt.slot.children)}))},mi=/^([^\w]*)(javascript|data|vbscript)/im,pa=/&#(\w+)(^\w|;)?/g,ma=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ga=/^([^:]+):/gm,Pi=function(E,P){var W,Q=(W=E||"",W.replace(pa,(function(ot,J){return String.fromCharCode(J)}))).replace(ma,"").trim();if(!Q)return P;var tt=Q[0];if(tt==="."||tt==="/")return Q;var at=Q.match(ga);if(!at)return Q;var dt=at[0];return mi.test(dt)?P:Q},Mn=function(E){var P,W=E.annotation,Q=E.annotationContainerRef,tt=E.doc,at=E.outlines,dt=E.page,ot=E.pageIndex,J=E.scale,ct=E.viewport,st=E.onExecuteNamedAction,wt=E.onJumpFromLinkAnnotation,Tt=E.onJumpToDest,xt=l.useRef(),It=at&&at.length&&W.dest&&typeof W.dest=="string"?(P=at.find((function(Wt){return Wt.dest===W.dest})))===null||P===void 0?void 0:P.title:"",zt=!!(W.url||W.dest||W.action||W.unsafeUrl),Ft={};if(W.url||W.unsafeUrl){var ue=Pi(W.url||W.unsafeUrl,"");ue?Ft={"data-target":"external",href:ue,rel:"noopener noreferrer nofollow",target:W.newWindow?"_blank":"",title:ue}:zt=!1}else Ft={href:"","data-annotation-link":W.id,onClick:function(Wt){Wt.preventDefault(),W.action?st(W.action):$a(tt,W.dest).then((function(Jt){var ae=xt.current,Vt=Q.current;if(ae&&Vt){var se=ae.getBoundingClientRect();Vt.style.setProperty("height","100%"),Vt.style.setProperty("width","100%");var te=Vt.getBoundingClientRect();Vt.style.removeProperty("height"),Vt.style.removeProperty("width");var Re=(se.left-te.left)/J,Ce=(te.bottom-se.bottom+se.height)/J;wt({bottomOffset:Ce,label:It,leftOffset:Re,pageIndex:ot})}Tt(Jt)}))}};return It&&(Ft=Object.assign({},Ft,{title:It,"aria-label":It})),l.createElement(Ae,{annotation:W,hasPopup:!1,ignoreBorder:!1,isRenderable:zt,page:dt,viewport:ct},(function(Wt){return l.createElement("div",s({},Wt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":W.id,"data-testid":"core__annotation--link-".concat(W.id)}),l.createElement("a",s({ref:xt},Ft)))}))},wi=function(E){var P=E.annotation,W=E.page,Q=E.viewport,tt=P.hasPopup===!1,at=Ut(P),dt=ut(P),ot=!!(P.hasPopup||at||dt),J=P.rect,ct=J[2]-J[0],st=J[3]-J[1],wt=P.borderStyle.width;return l.createElement(Ae,{annotation:P,hasPopup:tt,ignoreBorder:!0,isRenderable:ot,page:W,viewport:Q},(function(Tt){return l.createElement("div",s({},Tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":P.id,onClick:Tt.popup.toggleOnClick,onMouseEnter:Tt.popup.openOnHover,onMouseLeave:Tt.popup.closeOnHover}),P.vertices&&P.vertices.length&&l.createElement("svg",{height:"".concat(st,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ct," ").concat(st),width:"".concat(ct,"px")},l.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:wt||1,points:P.vertices.map((function(xt){return"".concat(xt.x-J[0],",").concat(J[3]-xt.y)})).join(" ")})),Tt.slot.children)}))},va=function(E){var P=E.annotation,W=E.page,Q=E.viewport,tt=P.hasPopup===!1,at=Ut(P),dt=ut(P),ot=!!(P.hasPopup||at||dt),J=P.rect,ct=J[2]-J[0],st=J[3]-J[1],wt=P.borderStyle.width;return l.createElement(Ae,{annotation:P,hasPopup:tt,ignoreBorder:!0,isRenderable:ot,page:W,viewport:Q},(function(Tt){return l.createElement("div",s({},Tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":P.id,onClick:Tt.popup.toggleOnClick,onMouseEnter:Tt.popup.openOnHover,onMouseLeave:Tt.popup.closeOnHover}),P.vertices&&P.vertices.length&&l.createElement("svg",{height:"".concat(st,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ct," ").concat(st),width:"".concat(ct,"px")},l.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:wt||1,points:P.vertices.map((function(xt){return"".concat(xt.x-J[0],",").concat(J[3]-xt.y)})).join(" ")})),Tt.slot.children)}))},Vs=function(E){var P=E.annotation,W=E.page,Q=E.viewport,tt=P.hasPopup===!1,at=Ut(P),dt=ut(P),ot=!!(P.hasPopup||at||dt),J=P.rect,ct=J[2]-J[0],st=J[3]-J[1],wt=P.borderStyle.width;return l.createElement(Ae,{annotation:P,hasPopup:tt,ignoreBorder:!0,isRenderable:ot,page:W,viewport:Q},(function(Tt){return l.createElement("div",s({},Tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":P.id,onClick:Tt.popup.toggleOnClick,onMouseEnter:Tt.popup.openOnHover,onMouseLeave:Tt.popup.closeOnHover}),l.createElement("svg",{height:"".concat(st,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ct," ").concat(st),width:"".concat(ct,"px")},l.createElement("rect",{height:st-wt,fill:"none",stroke:"transparent",strokeWidth:wt||1,x:wt/2,y:wt/2,width:ct-wt})),Tt.slot.children)}))},Ni=function(E){var P=E.annotation,W=E.page,Q=E.viewport,tt=P.hasPopup===!1,at=Ut(P),dt=ut(P),ot=!!(P.hasPopup||at||dt);return l.createElement(Ae,{annotation:P,hasPopup:tt,ignoreBorder:!0,isRenderable:ot,page:W,viewport:Q},(function(J){return l.createElement("div",s({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":P.id,onClick:J.popup.toggleOnClick,onMouseEnter:J.popup.openOnHover,onMouseLeave:J.popup.closeOnHover}),J.slot.children)}))},kn=function(E){var P=E.annotation,W=E.page,Q=E.viewport,tt=P.hasPopup===!1,at=Ut(P),dt=ut(P),ot=!!(P.hasPopup||at||dt);return l.createElement(Ae,{annotation:P,hasPopup:tt,ignoreBorder:!0,isRenderable:ot,page:W,viewport:Q},(function(J){return l.createElement("div",s({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":P.id,onClick:J.popup.toggleOnClick,onMouseEnter:J.popup.openOnHover,onMouseLeave:J.popup.closeOnHover}),J.slot.children)}))},qn=function(E){var P=E.annotation,W=E.page,Q=E.viewport,tt=P.hasPopup===!1,at=Ut(P),dt=ut(P),ot=!!(P.hasPopup||at||dt);return l.createElement(Ae,{annotation:P,hasPopup:tt,ignoreBorder:!0,isRenderable:ot,page:W,viewport:Q},(function(J){return l.createElement("div",s({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":P.id,onClick:J.popup.toggleOnClick,onMouseEnter:J.popup.openOnHover,onMouseLeave:J.popup.closeOnHover}),J.slot.children)}))},ba=function(){return l.createElement(R,{size:16},l.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),l.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),l.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),l.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},$r=function(){return l.createElement(R,{size:16},l.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),l.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),l.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),l.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),l.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),l.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),l.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),l.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),l.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),l.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},ul=function(){return l.createElement(R,{size:16},l.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),l.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},dl=function(){return l.createElement(R,{size:16},l.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),l.createElement("path",{d:"M6 4.5L6 0.5"}),l.createElement("path",{d:"M18 4.5L18 0.5"}),l.createElement("path",{d:"M10 4.5L10 0.5"}),l.createElement("path",{d:"M14 4.5L14 0.5"}))},Gs=function(){return l.createElement(R,{size:16},l.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),l.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),l.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},tr=function(){return l.createElement(R,{size:16},l.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},ts=function(E){var P=E.annotation,W=E.childAnnotation,Q=E.page,tt=E.viewport,at=P.hasPopup===!1,dt=Ut(P),ot=ut(P),J=!!(P.hasPopup||dt||ot),ct=P.name?P.name.toLowerCase():"";return l.createElement(Ae,{annotation:P,hasPopup:at,ignoreBorder:!1,isRenderable:J,page:Q,viewport:tt},(function(st){return l.createElement(l.Fragment,null,l.createElement("div",s({},st.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":P.id,onClick:st.popup.toggleOnClick,onMouseEnter:st.popup.openOnHover,onMouseLeave:st.popup.closeOnHover}),ct&&l.createElement("div",{className:"rpv-core__annotation-text-icon"},ct==="check"&&l.createElement(g,null),ct==="comment"&&l.createElement(ba,null),ct==="help"&&l.createElement($r,null),ct==="insert"&&l.createElement(tr,null),ct==="key"&&l.createElement(ul,null),ct==="note"&&l.createElement(dl,null),(ct==="newparagraph"||ct==="paragraph")&&l.createElement(Gs,null)),st.slot.children),W&&W.annotationType===a.AnnotationType.Popup&&st.popup.opened&&l.createElement(Hn,{annotation:W,page:Q,viewport:tt}))}))},ya=function(E){var P=E.annotation,W=E.page,Q=E.viewport,tt=P.hasPopup===!1,at=Ut(P),dt=ut(P),ot=!!(P.hasPopup||at||dt);return l.createElement(Ae,{annotation:P,hasPopup:tt,ignoreBorder:!0,isRenderable:ot,page:W,viewport:Q},(function(J){return l.createElement("div",s({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":P.id,onClick:J.popup.toggleOnClick,onMouseEnter:J.popup.openOnHover,onMouseLeave:J.popup.closeOnHover}),J.slot.children)}))},_a=function(E){var P=E.annotations,W=E.doc,Q=E.outlines,tt=E.page,at=E.pageIndex,dt=E.plugins,ot=E.rotation,J=E.scale,ct=E.onExecuteNamedAction,st=E.onJumpFromLinkAnnotation,wt=E.onJumpToDest,Tt=l.useRef(),xt=tt.getViewport({rotation:ot,scale:J}).clone({dontFlip:!0}),It=P.filter((function(zt){return!zt.parentId}));return f((function(){var zt=Tt.current;zt&&dt.forEach((function(Ft){Ft.onAnnotationLayerRender&&Ft.onAnnotationLayerRender({annotations:It,container:zt,pageIndex:at,rotation:ot,scale:J})}))}),[]),l.createElement("div",{ref:Tt,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(at)},It.map((function(zt){var Ft=P.find((function(ue){return ue.parentId===zt.id}));switch(zt.annotationType){case a.AnnotationType.Caret:return l.createElement(ri,{key:zt.id,annotation:zt,page:tt,viewport:xt});case a.AnnotationType.Circle:return l.createElement(si,{key:zt.id,annotation:zt,page:tt,viewport:xt});case a.AnnotationType.FileAttachment:return l.createElement(Nn,{key:zt.id,annotation:zt,page:tt,viewport:xt});case a.AnnotationType.FreeText:return l.createElement(gn,{key:zt.id,annotation:zt,page:tt,viewport:xt});case a.AnnotationType.Highlight:return l.createElement(oi,{key:zt.id,annotation:zt,childAnnotation:Ft,page:tt,viewport:xt});case a.AnnotationType.Ink:return l.createElement(Vi,{key:zt.id,annotation:zt,page:tt,viewport:xt});case a.AnnotationType.Line:return l.createElement(ln,{key:zt.id,annotation:zt,page:tt,viewport:xt});case a.AnnotationType.Link:return l.createElement(Mn,{key:zt.id,annotation:zt,annotationContainerRef:Tt,doc:W,outlines:Q,page:tt,pageIndex:at,scale:J,viewport:xt,onExecuteNamedAction:ct,onJumpFromLinkAnnotation:st,onJumpToDest:wt});case a.AnnotationType.Polygon:return l.createElement(wi,{key:zt.id,annotation:zt,page:tt,viewport:xt});case a.AnnotationType.Polyline:return l.createElement(va,{key:zt.id,annotation:zt,page:tt,viewport:xt});case a.AnnotationType.Popup:return l.createElement(Hn,{key:zt.id,annotation:zt,page:tt,viewport:xt});case a.AnnotationType.Square:return l.createElement(Vs,{key:zt.id,annotation:zt,page:tt,viewport:xt});case a.AnnotationType.Squiggly:return l.createElement(Ni,{key:zt.id,annotation:zt,page:tt,viewport:xt});case a.AnnotationType.Stamp:return l.createElement(kn,{key:zt.id,annotation:zt,page:tt,viewport:xt});case a.AnnotationType.StrikeOut:return l.createElement(qn,{key:zt.id,annotation:zt,page:tt,viewport:xt});case a.AnnotationType.Text:return l.createElement(ts,{key:zt.id,annotation:zt,childAnnotation:Ft,page:tt,viewport:xt});case a.AnnotationType.Underline:return l.createElement(ya,{key:zt.id,annotation:zt,page:tt,viewport:xt});default:return l.createElement(l.Fragment,{key:zt.id})}})))},er=function(E){var P=E.page,W=E.renderAnnotations,Q=Rt(),tt=l.useState({loading:!0,annotations:[]}),at=tt[0],dt=tt[1];return l.useEffect((function(){P.getAnnotations({intent:"display"}).then((function(ot){Q.current&&dt({loading:!1,annotations:ot})}))}),[]),at.loading?l.createElement(l.Fragment,null):W(at.annotations)},Ea=function(E){var P=E.doc,W=E.outlines,Q=E.page,tt=E.pageIndex,at=E.plugins,dt=E.rotation,ot=E.scale,J=E.onExecuteNamedAction,ct=E.onJumpFromLinkAnnotation,st=E.onJumpToDest;return l.createElement(er,{page:Q,renderAnnotations:function(wt){return l.createElement(_a,{annotations:wt,doc:P,outlines:W,page:Q,pageIndex:tt,plugins:at,rotation:dt,scale:ot,onExecuteNamedAction:J,onJumpFromLinkAnnotation:ct,onJumpToDest:st})}})},dn=function(E,P){var W=E%P;return W===0?E:Math.floor(E-W)},Xs=function(E){var P=E.canvasLayerRef,W=E.height,Q=E.page,tt=E.pageIndex,at=E.plugins,dt=E.rotation,ot=E.scale,J=E.width,ct=E.onRenderCanvasCompleted,st=l.useRef();return f((function(){var wt=st.current;wt&&wt.cancel();var Tt=P.current;Tt.removeAttribute("data-testid"),at.forEach((function(te){te.onCanvasLayerRender&&te.onCanvasLayerRender({ele:Tt,pageIndex:tt,rotation:dt,scale:ot,status:a.LayerRenderStatus.PreRender})}));var xt=Q.getViewport({rotation:dt,scale:ot}),It=window.devicePixelRatio||1,zt=Math.sqrt(16777216/(xt.width*xt.height)),Ft=It>zt;Ft?Tt.style.transform="scale(1, 1)":Tt.style.removeProperty("transform");var ue=Math.min(zt,It),Wt=(function(te,Re){var Ce,we;if(Math.floor(te)===te)return[te,1];var Oe=1/te;if(Oe>Re)return[1,Re];if(Math.floor(Oe)===Oe)return[1,Oe];for(var Ne=te>1?Oe:te,an=0,Xe=1,hn=1,en=1;;){var rn=an+hn,Je=Xe+en;if(Je>Re)break;Ne<=rn/Je?(hn=(Ce=[rn,Je])[0],en=Ce[1]):(an=(we=[rn,Je])[0],Xe=we[1])}return Ne<(an/Xe+hn/en)/2?Ne===te?[an,Xe]:[Xe,an]:Ne===te?[hn,en]:[en,hn]})(ue,8),Jt=Wt[0],ae=Wt[1];Tt.width=dn(xt.width*ue,Jt),Tt.height=dn(xt.height*ue,Jt),Tt.style.width="".concat(dn(xt.width,ae),"px"),Tt.style.height="".concat(dn(xt.height,ae),"px"),Tt.hidden=!0;var Vt=Tt.getContext("2d",{alpha:!1}),se=Ft||It!==1?[ue,0,0,ue,0,0]:null;return st.current=Q.render({canvasContext:Vt,transform:se,viewport:xt}),st.current.promise.then((function(){Tt.hidden=!1,Tt.setAttribute("data-testid","core__canvas-layer-".concat(tt)),at.forEach((function(te){te.onCanvasLayerRender&&te.onCanvasLayerRender({ele:Tt,pageIndex:tt,rotation:dt,scale:ot,status:a.LayerRenderStatus.DidRender})})),ct()}),(function(){ct()})),function(){Tt&&(Tt.width=0,Tt.height=0)}}),[]),l.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(W,"px"),width:"".concat(J,"px")}},l.createElement("canvas",{ref:P}))},Ys=function(E){var P=E.height,W=E.page,Q=E.rotation,tt=E.scale,at=E.width,dt=l.useRef();return f((function(){var ot=dt.current,J=W.getViewport({rotation:Q,scale:tt});W.getOperatorList().then((function(ct){(function(){var st=dt.current;st&&(st.innerHTML="")})(),new T.SVGGraphics(W.commonObjs,W.objs).getSVG(ct,J).then((function(st){st.style.height="".concat(P,"px"),st.style.width="".concat(at,"px"),ot.appendChild(st)}))}))}),[]),l.createElement("div",{className:"rpv-core__svg-layer",ref:dt})},Gi=function(E){var P=E.containerRef,W=E.page,Q=E.pageIndex,tt=E.plugins,at=E.rotation,dt=E.scale,ot=E.onRenderTextCompleted,J=l.useRef(),ct=function(){var st=P.current;st&&([].slice.call(st.querySelectorAll(".rpv-core__text-layer-text")).forEach((function(wt){return st.removeChild(wt)})),[].slice.call(st.querySelectorAll('br[role="presentation"]')).forEach((function(wt){return st.removeChild(wt)})))};return f((function(){var st=J.current;st&&st.cancel();var wt=P.current;if(wt){wt.removeAttribute("data-testid");var Tt=W.getViewport({rotation:at,scale:dt});return tt.forEach((function(xt){xt.onTextLayerRender&&xt.onTextLayerRender({ele:wt,pageIndex:Q,scale:dt,status:a.LayerRenderStatus.PreRender})})),W.getTextContent().then((function(xt){ct(),J.current=T.renderTextLayer({container:wt,textContent:xt,textContentSource:xt,viewport:Tt}),J.current.promise.then((function(){wt.setAttribute("data-testid","core__text-layer-".concat(Q)),[].slice.call(wt.children).forEach((function(It){It.classList.contains("rpv-core__text-layer-text--not")||It.classList.add("rpv-core__text-layer-text")})),tt.forEach((function(It){It.onTextLayerRender&&It.onTextLayerRender({ele:wt,pageIndex:Q,scale:dt,status:a.LayerRenderStatus.DidRender})})),ot()}),(function(){wt.removeAttribute("data-testid"),ot()}))})),function(){var xt;ct(),(xt=J.current)===null||xt===void 0||xt.cancel()}}}),[]),l.createElement("div",{className:"rpv-core__text-layer",ref:P})},Sa=function(E){var P=E.doc,W=E.measureRef,Q=E.outlines,tt=E.pageIndex,at=E.pageRotation,dt=E.pageSize,ot=E.plugins,J=E.renderPage,ct=E.renderQueueKey,st=E.rotation,wt=E.scale,Tt=E.shouldRender,xt=E.viewMode,It=E.onExecuteNamedAction,zt=E.onJumpFromLinkAnnotation,Ft=E.onJumpToDest,ue=E.onRenderCompleted,Wt=E.onRotatePage,Jt=Rt(),ae=l.useState(null),Vt=ae[0],se=ae[1],te=l.useState(!1),Re=te[0],Ce=te[1],we=l.useState(!1),Oe=we[0],Ne=we[1],an=l.useRef(),Xe=l.useRef(),hn=Math.abs(st+at)%180==0,en=dt.pageWidth*wt,rn=dt.pageHeight*wt,Je=hn?en:rn,nn=hn?rn:en,Dn=(dt.rotation+st+at)%360,gi=l.useRef(0),Jn=J||function(vn){return l.createElement(l.Fragment,null,vn.canvasLayer.children,vn.textLayer.children,vn.annotationLayer.children)};return l.useEffect((function(){se(null),Ce(!1),Ne(!1)}),[at,st,wt]),l.useEffect((function(){Tt&&Jt.current&&!Vt&&Li(P,tt).then((function(vn){Jt.current&&(gi.current=ct,se(vn))}))}),[Tt,Vt]),l.useEffect((function(){Re&&Oe&&(ct!==gi.current?(se(null),Ce(!1),Ne(!1)):ue(tt))}),[Re,Oe]),l.createElement("div",{className:b({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":xt===a.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":xt===a.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":xt===a.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(tt),ref:W,style:{height:"".concat(nn,"px"),width:"".concat(Je,"px")}},Vt?l.createElement(l.Fragment,null,Jn({annotationLayer:{attrs:{},children:l.createElement(Ea,{doc:P,outlines:Q,page:Vt,pageIndex:tt,plugins:ot,rotation:Dn,scale:wt,onExecuteNamedAction:It,onJumpFromLinkAnnotation:zt,onJumpToDest:Ft})},canvasLayer:{attrs:{},children:l.createElement(Xs,{canvasLayerRef:an,height:nn,page:Vt,pageIndex:tt,plugins:ot,rotation:Dn,scale:wt,width:Je,onRenderCanvasCompleted:function(){Jt.current&&Ce(!0)}})},canvasLayerRendered:Re,doc:P,height:nn,pageIndex:tt,rotation:Dn,scale:wt,svgLayer:{attrs:{},children:l.createElement(Ys,{height:nn,page:Vt,rotation:Dn,scale:wt,width:Je})},textLayer:{attrs:{},children:l.createElement(Gi,{containerRef:Xe,page:Vt,pageIndex:tt,plugins:ot,rotation:Dn,scale:wt,onRenderTextCompleted:function(){Jt.current&&Ne(!0)}})},textLayerRendered:Oe,width:Je,markRendered:ue,onRotatePage:function(vn){return Wt(tt,vn)}}),ot.map((function(vn,Vn){return vn.renderPageLayer?l.createElement(l.Fragment,{key:Vn},vn.renderPageLayer({canvasLayerRef:an,canvasLayerRendered:Re,doc:P,height:nn,pageIndex:tt,rotation:Dn,scale:wt,textLayerRef:Xe,textLayerRendered:Oe,width:Je})):l.createElement(l.Fragment,{key:Vn})}))):l.createElement(I,{testId:"core__page-layer-loading-".concat(tt)}))},hl=function(E,P){var W=P.rect;return E.height!==W.height||E.width!==W.width?W:E};(function(E){E.Horizontal="Horizontal",E.Vertical="Vertical",E.Both="Both"})(fe||(fe={}));var Ws=function(E){return 1-Math.pow(1-E,4)},nr=1e-4,Zs={left:0,top:0},ir={capture:!1,passive:!0},Sr=function(E){var P=E.elementRef,W=E.enableSmoothScroll,Q=E.isRtl,tt=E.scrollDirection,at=E.onSmoothScroll,dt=l.useState(Zs),ot=dt[0],J=dt[1],ct=l.useState(P.current),st=ct[0],wt=ct[1],Tt=Q?-1:1,xt=l.useRef(tt);xt.current=tt;var It=l.useRef(Zs),zt=l.useRef(!0),Ft=l.useCallback((function(){zt.current=!0,W&&J(It.current),at(!1)}),[]),ue=l.useCallback((function(){if(st){switch(xt.current){case fe.Horizontal:It.current={left:Tt*st.scrollLeft,top:0};break;case fe.Both:It.current={left:Tt*st.scrollLeft,top:st.scrollTop};break;case fe.Vertical:default:It.current={left:0,top:st.scrollTop}}W&&!zt.current||J(It.current)}}),[st]);f((function(){wt(P.current)})),f((function(){if(st)return st.addEventListener("scroll",ue,ir),function(){st.removeEventListener("scroll",ue,ir)}}),[st]);var Wt=l.useCallback((function(Jt,ae){var Vt=P.current;if(!Vt)return Promise.resolve();var se={left:0,top:0};switch(xt.current){case fe.Horizontal:se.left=Tt*Jt.left;break;case fe.Both:se.left=Tt*Jt.left,se.top=Jt.top;break;case fe.Vertical:default:se.top=Jt.top}return ae?(zt.current=!1,at(!0),new Promise((function(te,Re){(function(Ce,we,Oe,Ne,an,Xe){an===void 0&&(an=function(Vn){return Vn}),Xe===void 0&&(Xe=function(){});var hn=0,en=0,rn=!1;switch(we){case fe.Horizontal:en=Ce.scrollLeft,hn=0;case fe.Both:en=Ce.scrollLeft,hn=Ce.scrollTop;break;case fe.Vertical:default:en=0,hn=Ce.scrollTop}var Je=function(){rn||(rn=!0,Ce.scrollLeft=Oe.left,Ce.scrollTop=Oe.top,Xe())};if(Math.abs(hn-Oe.top)<=nr&&we===fe.Vertical)Je();else if(Math.abs(en-Oe.left)<=nr&&we===fe.Horizontal)Je();else{var nn,Dn=-1,gi=en-Oe.left,Jn=hn-Oe.top,vn=function(Vn){Dn===-1&&(Dn=Vn);var Ti=Vn-Dn,ie=Math.min(Ti/Ne,1),$t=an(ie),Gt={left:en-gi*$t,top:hn-Jn*$t};switch(we){case fe.Horizontal:Ce.scrollLeft=Gt.left;break;case fe.Both:Ce.scrollLeft=Gt.left,Ce.scrollTop=Gt.top;break;case fe.Vertical:default:Ce.scrollTop=Gt.top}Math.abs(Gt.top-Oe.top)<=nr&&Math.abs(Gt.left-Oe.left)<=nr&&!rn&&(window.cancelAnimationFrame(nn),Je()),Ti<Ne?nn=window.requestAnimationFrame(vn):window.cancelAnimationFrame(nn)};nn=window.requestAnimationFrame(vn)}})(Vt,xt.current,se,400,Ws,(function(){Ft(),te()}))}))):new Promise((function(te,Re){switch(xt.current){case fe.Horizontal:Vt.scrollLeft=se.left;break;case fe.Both:Vt.scrollLeft=se.left,Vt.scrollTop=se.top;break;case fe.Vertical:default:Vt.scrollTop=se.top}te()}))}),[P]);return{scrollOffset:ot,scrollTo:Wt}},Yn=function(E,P,W){return Math.max(E,Math.min(W,P))},Kn=function(E,P){if(P!==a.ViewMode.DualPageWithCover)return 0;if(!(function(tt){var at=tt.length;if(at===1)return!1;for(var dt=1;dt<at;dt++)if(tt[dt].height!==tt[0].height||tt[dt].width!==tt[0].width)return!0;return!1})(E))return 2*E[0].width;var W=De(E.slice(1),2).map((function(tt){return tt.length===2?tt[0].width+tt[1].width:tt[0].width})),Q=[E[0].width].concat(W);return Math.max.apply(Math,Q)},Ks={left:0,top:0},fl={left:0,top:0},ar={left:0,top:0},Qs={left:0,top:0},Ar={height:0,width:0},Js={left:0,top:0},Wn="data-virtual-index",es=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],$s=function(E){var P=E.enableSmoothScroll,W=E.isRtl,Q=E.numberOfItems,tt=E.parentRef,at=E.setRenderRange,dt=E.sizes,ot=E.scrollMode,J=E.viewMode,ct=l.useState(!1),st=ct[0],wt=ct[1],Tt=l.useCallback((function(ie){return wt(ie)}),[]),xt=l.useRef(ot);xt.current=ot;var It=l.useRef(J);It.current=J;var zt=ot===a.ScrollMode.Wrapped||J===a.ViewMode.DualPageWithCover||J===a.ViewMode.DualPage?fe.Both:ot===a.ScrollMode.Horizontal?fe.Horizontal:fe.Vertical,Ft=Sr({elementRef:tt,enableSmoothScroll:P,isRtl:W,scrollDirection:zt,onSmoothScroll:Tt}),ue=Ft.scrollOffset,Wt=Ft.scrollTo,Jt=(function(ie){var $t=ie.elementRef,Gt=l.useState($t.current),Zt=Gt[0],Xt=Gt[1],oe=l.useRef(!1),ce=l.useReducer(hl,{height:0,width:0}),Yt=ce[0],Ht=ce[1];return f((function(){$t.current!==Zt&&Xt($t.current)})),f((function(){if(Zt&&!oe.current){oe.current=!0;var pe=Zt.getBoundingClientRect(),be=pe.height,He=pe.width;Ht({rect:{height:be,width:He}})}}),[Zt]),l.useEffect((function(){if(Zt){var pe=new ResizeObserver((function(be,He){be.forEach((function(ze){if(ze.target===Zt){var bn=ze.contentRect,Sn=bn.height,ge=bn.width;Ht({rect:{height:Sn,width:ge}})}}))}));return pe.observe(Zt),function(){pe.unobserve(Zt)}}}),[Zt]),Yt})({elementRef:tt}),ae=l.useRef({scrollOffset:Js,measurements:[]});ae.current.scrollOffset=ue;var Vt=l.useMemo((function(){return Array(Q).fill(-1)}),[]),se=l.useState(Vt),te=se[0],Re=se[1],Ce=l.useMemo((function(){var ie=new IntersectionObserver((function($t){$t.forEach((function(Gt){var Zt=Gt.isIntersecting?Gt.intersectionRatio:-1,Xt=Gt.target.getAttribute(Wn);if(Xt){var oe=parseInt(Xt,10);0<=oe&&oe<Q&&Re((function(ce){return ce[oe]=Zt,(function(Yt,Ht,pe){for(var be,He=0,ze=Ht.length;He<ze;He++)!be&&He in Ht||(be||(be=Array.prototype.slice.call(Ht,0,He)),be[He]=Ht[He]);return Yt.concat(be||Array.prototype.slice.call(Ht))})([],ce)}))}}))}),{threshold:es});return ie}),[]),we=l.useMemo((function(){return ot===a.ScrollMode.Page&&J===a.ViewMode.SinglePage?(function(ie,$t,Gt){for(var Zt=[],Xt=0;Xt<ie;Xt++){var oe={height:Math.max($t.height,Gt[Xt].height),width:Math.max($t.width,Gt[Xt].width)},ce=Xt===0?Qs:Zt[Xt-1].end,Yt={left:ce.left+oe.width,top:ce.top+oe.height};Zt[Xt]={index:Xt,start:ce,size:oe,end:Yt,visibility:-1}}return Zt})(Q,Jt,dt):J===a.ViewMode.DualPageWithCover?(function(ie,$t,Gt,Zt){for(var Xt=[],oe=0,ce=0,Yt=ar,Ht=0;Ht<ie;Ht++){var pe=Ht===0?{height:Zt===a.ScrollMode.Page?Math.max($t.height,Gt[Ht].height):Gt[Ht].height,width:Zt===a.ScrollMode.Page?Math.max($t.width,Gt[Ht].width):Gt[Ht].width}:{height:Zt===a.ScrollMode.Page?Math.max($t.height,Gt[Ht].height):Gt[Ht].height,width:Math.max($t.width/2,Gt[Ht].width)};Zt===a.ScrollMode.Page?Yt=Ht===0?ar:{left:Ht%2==0?pe.width:0,top:Math.floor((Ht-1)/2)*pe.height+Xt[0].end.top}:Ht===0?(Yt=ar,oe=Gt[0].height,ce=0):Ht%2==1?(Yt={left:0,top:oe+=ce},ce=Ht===ie-1?Gt[Ht].height:Math.max(Gt[Ht].height,Gt[Ht+1].height)):Yt={left:Xt[Ht-1].end.left,top:oe};var be={left:Yt.left+pe.width,top:Yt.top+pe.height};Xt[Ht]={index:Ht,start:Yt,size:pe,end:be,visibility:-1}}return Xt})(Q,Jt,dt,ot):J===a.ViewMode.DualPage?(function(ie,$t,Gt,Zt){for(var Xt=[],oe=0,ce=0,Yt=fl,Ht=0;Ht<ie;Ht++){var pe={height:Zt===a.ScrollMode.Page?Math.max($t.height,Gt[Ht].height):Gt[Ht].height,width:Math.max($t.width/2,Gt[Ht].width)};Zt===a.ScrollMode.Page?Yt={left:Ht%2==0?0:pe.width,top:Math.floor(Ht/2)*pe.height}:Ht%2==0?(Yt={left:0,top:oe+=ce},ce=Ht===ie-1?Gt[Ht].height:Math.max(Gt[Ht].height,Gt[Ht+1].height)):Yt={left:Xt[Ht-1].end.left,top:oe};var be={left:Yt.left+pe.width,top:Yt.top+pe.height};Xt[Ht]={index:Ht,start:Yt,size:pe,end:be,visibility:-1}}return Xt})(Q,Jt,dt,ot):(function(ie,$t,Gt,Zt){for(var Xt=[],oe=0,ce={left:0,top:0},Yt=0,Ht=Ks,pe=0;pe<ie;pe++){var be=Gt[pe];if(pe===0)oe=be.width,ce={left:0,top:0},Yt=be.height;else switch(Zt){case a.ScrollMode.Wrapped:(oe+=be.width)<$t.width?(Ht={left:Xt[pe-1].end.left,top:ce.top},Yt=Math.max(Yt,be.height)):(oe=be.width,ce={left:(Ht={left:ce.left,top:ce.top+Yt}).left,top:Ht.top},Yt=be.height);break;case a.ScrollMode.Horizontal:case a.ScrollMode.Vertical:default:Ht=Xt[pe-1].end}var He={left:Ht.left+be.width,top:Ht.top+be.height};Xt[pe]={index:pe,start:Ht,size:be,end:He,visibility:-1}}return Xt})(Q,Jt,dt,ot)}),[ot,dt,J,Jt]),Oe=we[Q-1]?{height:we[Q-1].end.top,width:we[Q-1].end.left}:Ar;ae.current.measurements=we;var Ne=l.useMemo((function(){var ie=(function(pe,be,He,ze){var bn=0;switch(pe){case fe.Horizontal:bn=ze.left;break;case fe.Vertical:default:bn=ze.top}var Sn=be.length-1,ge=(function(Te,$n,xa,Wi){for(;Te<=$n;){var ji=(Te+$n)/2|0,Ra=Wi(ji);if(Ra<xa)Te=ji+1;else{if(!(Ra>xa))return ji;$n=ji-1}}return Te>0?Te-1:0})(0,Sn,bn,(function(Te){switch(pe){case fe.Horizontal:return be[Te].start.left;case fe.Both:case fe.Vertical:default:return be[Te].start.top}}));if(pe===fe.Both)for(var An=be[ge].start.top;ge-1>=0&&be[ge-1].start.top===An&&be[ge-1].start.left>=ze.left;)ge--;for(var Ve=ge;Ve<=Sn;){var Ge={top:be[Ve].start.top-ze.top,left:be[Ve].start.left-ze.left},fn={height:He.height-Ge.top,width:He.width-Ge.left};if(pe===fe.Horizontal&&fn.width<0||pe===fe.Vertical&&fn.height<0||pe===fe.Both&&(fn.width<0||fn.height<0))break;Ve++}return{start:ge,end:Ve}})(zt,we,Jt,ue),$t=ie.start,Gt=ie.end,Zt=te.slice(Yn(0,Q,$t),Yn(0,Q,Gt)),Xt=$t+Zt.reduce((function(pe,be,He,ze){return be>ze[pe]?He:pe}),0),oe=Xt=Yn(0,Q-1,Xt),ce=at({endPage:Gt,numPages:Q,startPage:$t}),Yt=ce.startPage,Ht=ce.endPage;switch(Yt=Math.max(Yt,0),Ht=Math.min(Ht,Q-1),J){case a.ViewMode.DualPageWithCover:Xt>0&&(oe=Xt%2==1?Xt:Xt-1),Yt=Yt===0?0:Yt%2==1?Yt:Yt-1,Q-(Ht=Ht%2==1?Ht-1:Ht)<=2&&(Ht=Q-1);break;case a.ViewMode.DualPage:oe=Xt%2==0?Xt:Xt-1,Yt=Yt%2==0?Yt:Yt-1,Ht=Ht%2==1?Ht:Ht-1;break;case a.ViewMode.SinglePage:default:oe=Xt}return{startPage:Yt,endPage:Ht,maxVisbilityIndex:oe}}),[we,Jt,ue,J,te]),an=Ne.startPage,Xe=Ne.endPage,hn=Ne.maxVisbilityIndex,en=l.useMemo((function(){for(var ie=[],$t=function(Zt){var Xt=we[Zt],oe=s(s({},Xt),{visibility:te[Zt]!==void 0?te[Zt]:-1,measureRef:function(ce){ce&&(ce.setAttribute(Wn,"".concat(Zt)),Ce.observe(ce))}});ie.push(oe)},Gt=an;Gt<=Xe;Gt++)$t(Gt);return ie}),[an,Xe,te,we]),rn=l.useCallback((function(ie,$t){var Gt=ae.current.measurements[Yn(0,Q-1,ie)],Zt=xt.current===a.ScrollMode.Page?Js:$t;return Gt?Wt({left:Zt.left+Gt.start.left,top:Zt.top+Gt.start.top},P):Promise.resolve()}),[Wt,P]),Je=l.useCallback((function(ie,$t){var Gt=ae.current.measurements,Zt=Gt[ie].start,Xt=Gt.find((function(ce){return ce.start.top-Zt.top>1e-12}));if(!Xt)return Promise.resolve();var oe=Xt.index;switch(It.current){case a.ViewMode.DualPage:oe=oe%2==0?oe:oe+1;break;case a.ViewMode.DualPageWithCover:oe=oe%2==1?oe:oe+1}return rn(oe,$t)}),[]),nn=l.useCallback((function(ie,$t){for(var Gt=ae.current.measurements,Zt=Gt[ie].start,Xt=ie,oe=!1,ce=Q-1;ce>=0;ce--)if(Zt.top-Gt[ce].start.top>1e-12){oe=!0,Xt=Gt[ce].index;break}if(!oe)return Promise.resolve();switch(It.current){case a.ViewMode.DualPage:Xt=Xt%2==0?Xt:Xt-1;break;case a.ViewMode.DualPageWithCover:Xt=Xt%2==0?Xt-1:Xt}return Xt===ie&&(Xt=ie-1),rn(Xt,$t)}),[]),Dn=l.useCallback((function(ie,$t){if(It.current===a.ViewMode.DualPageWithCover||It.current===a.ViewMode.DualPage)return Je(ie,$t);switch(xt.current){case a.ScrollMode.Wrapped:return Je(ie,$t);case a.ScrollMode.Horizontal:case a.ScrollMode.Vertical:default:return rn(ie+1,$t)}}),[]),gi=l.useCallback((function(ie,$t){if(It.current===a.ViewMode.DualPageWithCover||It.current===a.ViewMode.DualPage)return nn(ie,$t);switch(xt.current){case a.ScrollMode.Wrapped:return nn(ie,$t);case a.ScrollMode.Horizontal:case a.ScrollMode.Vertical:default:return rn(ie-1,$t)}}),[]),Jn=l.useCallback((function(){return(function(ie,$t){switch($t){case a.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(ie.width,"px")};case a.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(ie.height,"px"),width:"100%"}}})(Oe,xt.current)}),[Oe]),vn=l.useCallback((function(ie){return(function($t,Gt,Zt){return Zt!==a.ScrollMode.Page?{}:{height:"".concat(Gt.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat($t.start.top,"px)")}})(ie,Jt,xt.current)}),[Jt]),Vn=l.useCallback((function(ie){return(function($t,Gt,Zt,Xt,oe){var ce,Yt,Ht,pe,be,He,ze,bn=Gt?"right":"left",Sn=Gt?-1:1,ge=Zt.length,An=$t.start.left*Sn,Ve=$t.size,Ge=Ve.height,fn=Ve.width;if(Xt===a.ViewMode.DualPageWithCover){var Te=oe===a.ScrollMode.Page?0:$t.start.top;return $t.index===0||ge%2==0&&$t.index===ge-1?((ce={height:"".concat(Ge,"px"),minWidth:"".concat(Kn(Zt,Xt),"px"),width:"100%"})[bn]=0,ce.position="absolute",ce.top=0,ce.transform="translate(".concat(An,"px, ").concat(Te,"px)"),ce):((Yt={height:"".concat(Ge,"px"),width:"".concat(fn,"px")})[bn]=0,Yt.position="absolute",Yt.top=0,Yt.transform="translate(".concat(An,"px, ").concat(Te,"px)"),Yt)}if(Xt===a.ViewMode.DualPage)return(Ht={height:"".concat(Ge,"px"),width:"".concat(fn,"px")})[bn]=0,Ht.position="absolute",Ht.top=0,Ht.transform="translate(".concat(An,"px, ").concat(oe===a.ScrollMode.Page?0:$t.start.top,"px)"),Ht;switch(oe){case a.ScrollMode.Horizontal:return(pe={height:"100%",width:"".concat(fn,"px")})[bn]=0,pe.position="absolute",pe.top=0,pe.transform="translateX(".concat(An,"px)"),pe;case a.ScrollMode.Page:return(be={height:"".concat(Ge,"px"),width:"".concat(fn,"px")})[bn]=0,be.position="absolute",be.top=0,be;case a.ScrollMode.Wrapped:return(He={height:"".concat(Ge,"px"),width:"".concat(fn,"px")})[bn]=0,He.position="absolute",He.top=0,He.transform="translate(".concat(An,"px, ").concat($t.start.top,"px)"),He;case a.ScrollMode.Vertical:default:return(ze={height:"".concat(Ge,"px"),width:"100%"})[bn]=0,ze.position="absolute",ze.top=0,ze.transform="translateY(".concat($t.start.top,"px)"),ze}})(ie,W,dt,It.current,xt.current)}),[W,dt]),Ti=l.useCallback((function(ie,$t){var Gt=ae.current,Zt=Gt.measurements,Xt=Gt.scrollOffset,oe=Zt[Yn(0,Q-1,$t)];if(oe){var ce=xt.current===a.ScrollMode.Page?{left:oe.start.left,top:oe.start.top}:{left:Xt.left*ie,top:Xt.top*ie};return Wt(ce,!1)}return Promise.resolve()}),[]);return l.useEffect((function(){return function(){Ce.disconnect()}}),[]),{boundingClientRect:Jt,isSmoothScrolling:st,startPage:an,endPage:Xe,maxVisbilityIndex:hn,virtualItems:en,getContainerStyles:Jn,getItemContainerStyles:vn,getItemStyles:Vn,scrollToItem:rn,scrollToNextItem:Dn,scrollToPreviousItem:gi,zoom:Ti}},rr=function(E,P,W,Q,tt,at){var dt=W;switch(!0){case(tt===a.ViewMode.DualPageWithCover&&at>=3):case(tt===a.ViewMode.DualPage&&at>=3):dt=2*W;break;default:dt=W}switch(Q){case a.SpecialZoomLevel.ActualSize:return 1;case a.SpecialZoomLevel.PageFit:return Math.min((E.clientWidth-17)/dt,(E.clientHeight-16)/P);case a.SpecialZoomLevel.PageWidth:return(E.clientWidth-17)/dt}},Aa=function(E){var P,W,Q=E.getCurrentPage,tt=(P=50,W=l.useRef([]),l.useEffect((function(){return function(){W.current=[]}}),[]),{push:function(ct){var st=W.current;st.length+1>P&&st.shift(),st.push(ct),W.current=st},map:function(ct){return W.current.map((function(st){return ct(st)}))},pop:function(){var ct=W.current;if(ct.length===0)return null;var st=ct.pop();return W.current=ct,st}}),at=(function(ct){var st=l.useRef([]);return l.useEffect((function(){return function(){st.current=[]}}),[]),{dequeue:function(){var wt=st.current;if(wt.length===0)return null;var Tt=wt.shift();return st.current=wt,Tt||null},enqueue:function(wt){var Tt=st.current;Tt.length+1>ct&&Tt.pop(),st.current=[wt].concat(Tt)},map:function(wt){return st.current.map((function(Tt){return wt(Tt)}))}}})(50),dt=function(){var ct=at.dequeue();return ct&&tt.push(ct),ct&&ct.pageIndex===Q()?dt():ct},ot=function(){var ct=tt.pop();return ct&&at.enqueue(ct),ct&&ct.pageIndex===Q()?ot():ct},J=l.useCallback((function(ct){tt.push(ct)}),[]);return{getNextDestination:dt,getPreviousDestination:ot,markVisitedDestination:J}},ns=function(E){var P=[];return E.map((function(W){P=P.concat(W).concat((function(Q){var tt=[];return Q.items&&Q.items.length>0&&(tt=tt.concat(ns(Q.items))),tt})(W))})),P},is={capture:!1,passive:!0},Ca={height:0,width:0},as={height:0,width:0},to=function(E){var P=E.getCurrentPage,W=E.getCurrentScrollMode,Q=E.jumpToPage,tt=E.targetRef,at=l.useState(a.FullScreenMode.Normal),dt=at[0],ot=at[1],J=(function(){var te=l.useState(Ca),Re=te[0],Ce=te[1],we=Et((function(){Ce({height:window.innerHeight,width:window.innerWidth})}),100);return f((function(){return window.addEventListener("resize",we,is),function(){window.removeEventListener("resize",we,is)}}),[]),Re})(),ct=l.useState(as),st=ct[0],wt=ct[1],Tt=l.useRef(as),xt=l.useRef(P()),It=l.useRef(as),zt=l.useState(tt.current),Ft=zt[0],ue=zt[1],Wt=l.useRef();f((function(){tt.current!==Ft&&ue(tt.current)}),[]),f((function(){if(Ft){var te=new ResizeObserver((function(Re){Re.forEach((function(Ce){var we=Ce.target.getBoundingClientRect(),Oe=we.height,Ne=we.width;wt({height:Oe,width:Ne})}))}));return te.observe(Ft),function(){te.unobserve(Ft),te.disconnect()}}}),[Ft]);var Jt=l.useCallback((function(te){var Re=mt();return Re&&Re!==te?(ot(a.FullScreenMode.Normal),yt(Re)):Promise.resolve()}),[]),ae=l.useCallback((function(te){te&&nt()&&(ue(te),Jt(te).then((function(){Wt.current=te,ot(a.FullScreenMode.Entering),(function(Re){K&&Re[ht.RequestFullScreen]()})(te)})))}),[]),Vt=l.useCallback((function(){mt()&&(ot(a.FullScreenMode.Exitting),yt(document))}),[]),se=l.useCallback((function(){Ft&&mt()!==Ft&&ot(a.FullScreenMode.Exitting)}),[Ft]);return l.useEffect((function(){switch(dt){case a.FullScreenMode.Entering:Wt.current&&(Wt.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),xt.current=P(),Tt.current={height:window.innerHeight,width:window.innerWidth};break;case a.FullScreenMode.Entered:W()===a.ScrollMode.Page?Q(xt.current).then((function(){ot(a.FullScreenMode.EnteredCompletely)})):ot(a.FullScreenMode.EnteredCompletely);break;case a.FullScreenMode.Exitting:Wt.current&&(Wt.current.style.backgroundColor="",Wt.current=null),xt.current=P();break;case a.FullScreenMode.Exited:ot(a.FullScreenMode.Normal),W()===a.ScrollMode.Page&&Q(xt.current)}}),[dt]),l.useEffect((function(){if(dt!==a.FullScreenMode.Normal)return dt===a.FullScreenMode.Entering&&J.height===st.height&&J.width===st.width&&J.height>0&&J.width>0&&(It.current.height===0||J.height==It.current.height)?(It.current={height:window.innerHeight,width:window.innerWidth},void ot(a.FullScreenMode.Entered)):void(dt===a.FullScreenMode.Exitting&&Tt.current.height===J.height&&Tt.current.width===J.width&&J.height>0&&J.width>0&&ot(a.FullScreenMode.Exited))}),[dt,J,st]),l.useEffect((function(){var te;return te=se,K&&document.addEventListener(ht.FullScreenChange,te),function(){(function(Re){K&&document.removeEventListener(ht.FullScreenChange,Re)})(se)}}),[Ft]),{enterFullScreenMode:ae,exitFullScreenMode:Vt,fullScreenMode:dt}},eo={buildPageStyles:function(){return{}},transformSize:function(E){return E.size}},Fi={left:0,top:0},pl=function(E){var P=E.currentFile,W=E.defaultScale,Q=E.doc,tt=E.enableSmoothScroll,at=E.initialPage,dt=E.initialRotation,ot=E.initialScale,J=E.pageLayout,ct=E.pageSizes,st=E.plugins,wt=E.renderPage,Tt=E.scrollMode,xt=E.setRenderRange,It=E.viewMode,zt=E.viewerState,Ft=E.onDocumentLoad,ue=E.onOpenFile,Wt=E.onPageChange,Jt=E.onRotate,ae=E.onRotatePage,Vt=E.onZoom,se=Q.numPages,te=Q.loadingTask.docId,Re=l.useContext(y).l10n,Ce=l.useContext(_),we=Ce.direction===a.TextDirection.RightToLeft,Oe=l.useRef(),Ne=l.useRef(),an=l.useState(at),Xe=an[0],hn=an[1],en=l.useRef(null),rn=Aa({getCurrentPage:function(){return ge.current.pageIndex}}),Je=l.useState(dt),nn=Je[0],Dn=Je[1],gi=X(nn),Jn=l.useState(!1),vn=Jn[0],Vn=Jn[1],Ti=l.useState(new Map),ie=Ti[0],$t=Ti[1],Gt=l.useState(Tt),Zt=Gt[0],Xt=Gt[1],oe=X(Zt),ce=l.useState(It),Yt=ce[0],Ht=ce[1],pe=X(Yt),be=(function(Nt){var he=Rt(),_e=l.useState([]),ye=_e[0],xe=_e[1];return l.useEffect((function(){Nt.getOutline().then((function(de){if(he.current&&de!==null){var $e=ns(de);xe($e)}}))}),[]),ye})(Q),He=l.useState(ot),ze=He[0],bn=He[1],Sn=X(ze),ge=l.useRef(zt),An=l.useRef(typeof W=="string"?W:null),Ve=l.useRef(-1),Ge=l.useRef(-1),fn=l.useRef(at),Te=to({getCurrentPage:function(){return ge.current.pageIndex},getCurrentScrollMode:function(){return ge.current.scrollMode},jumpToPage:function(Nt){return Mi(Nt)},targetRef:Ne}),$n=l.useState(-1),xa=$n[0],Wi=$n[1],ji=l.useState(0),Ra=ji[0],os=ji[1],Fn=A({doc:Q});l.useEffect((function(){return function(){un.clear(),Gn.clear()}}),[te]);var ls=l.useMemo((function(){return Object.assign({},eo,J)}),[]),ao=l.useMemo((function(){return Array(se).fill(0).map((function(Nt,he){var _e=[ct[he].pageHeight,ct[he].pageWidth],ye=Math.abs(nn)%180==0?{height:_e[0],width:_e[1]}:{height:_e[1],width:_e[0]},xe={height:ye.height*ze,width:ye.width*ze};return ls.transformSize({numPages:se,pageIndex:he,size:xe})}))}),[nn,ze]),Ie=$s({enableSmoothScroll:tt,isRtl:we,numberOfItems:se,parentRef:Ne,scrollMode:Zt,setRenderRange:xt,sizes:ao,viewMode:Yt}),ml=Et((function(){!An.current||ge.current.fullScreenMode!==a.FullScreenMode.Normal||at>0&&fn.current===at||Ii(An.current)}),200);(function(Nt){var he=Nt.targetRef,_e=Nt.onResize;f((function(){var ye=new ResizeObserver((function(de){de.forEach((function($e){_e($e.target)}))})),xe=he.current;if(xe)return ye.observe(xe),function(){ye.unobserve(xe)}}),[])})({targetRef:Ne,onResize:ml});var zi=function(Nt){var he=Nt;st.forEach((function(_e){_e.onViewerStateChange&&(he=_e.onViewerStateChange(he))})),ge.current=he},gl=function(){return Ne.current},vl=function(){return ge.current},bl=l.useCallback((function(Nt){rn.markVisitedDestination(Nt)}),[]),jn=l.useCallback((function(Nt){var he=Nt.pageIndex,_e=Nt.bottomOffset,ye=Nt.leftOffset,xe=Nt.scaleTo,de=Ne.current,$e=ge.current;return de&&$e?new Promise((function(vi,ka){Li(Q,he).then((function(Qi){var bi=Qi.getViewport({scale:1}),yi=0,ds=(typeof _e=="function"?_e(bi.width,bi.height):_e)||0,Ji=(typeof ye=="function"?ye(bi.width,bi.height):ye)||0,li=$e.scale;switch(xe){case a.SpecialZoomLevel.PageFit:yi=0,Ji=0,Ii(a.SpecialZoomLevel.PageFit);break;case a.SpecialZoomLevel.PageWidth:li=rr(de,ct[he].pageHeight,ct[he].pageWidth,a.SpecialZoomLevel.PageWidth,It,se),yi=(bi.height-ds)*li,Ji*=li,Ii(li);break;default:yi=(bi.height-ds)*li,Ji*=li}switch($e.scrollMode){case a.ScrollMode.Horizontal:Ie.scrollToItem(he,{left:Ji,top:0}).then((function(){vi()}));break;case a.ScrollMode.Vertical:default:Ie.scrollToItem(he,{left:0,top:yi}).then((function(){vi()}))}}))})):Promise.resolve()}),[]),wa=l.useCallback((function(Nt){return rn.markVisitedDestination(Nt),jn(Nt)}),[]),ro=l.useCallback((function(){var Nt=rn.getNextDestination();return Nt?jn(Nt):Promise.resolve()}),[]),so=l.useCallback((function(){var Nt=rn.getPreviousDestination();return Nt?jn(Nt):Promise.resolve()}),[]),oo=l.useCallback((function(){return Ie.scrollToNextItem(ge.current.pageIndex,Fi)}),[]),Mi=l.useCallback((function(Nt){return 0<=Nt&&Nt<se?Ie.scrollToItem(Nt,Fi):Promise.resolve()}),[]),cs=l.useCallback((function(){return Ie.scrollToPreviousItem(ge.current.pageIndex,Fi)}),[]),lo=l.useCallback((function(Nt){var he,_e;(he=Nt.name,_e=he.split(/\./).pop(),_e?_e.toLowerCase():"").toLowerCase()==="pdf"&&new Promise((function(ye){var xe=new FileReader;xe.readAsArrayBuffer(Nt),xe.onload=function(){var de=new Uint8Array(xe.result);ye(de)}})).then((function(ye){ue(Nt.name,ye)}))}),[ue]),Zi=l.useCallback((function(Nt){var he=Nt===a.RotateDirection.Backward?-90:90,_e=ge.current.rotation,ye=_e===360||_e===-360?he:_e+he;Fn.markNotRendered(),Dn(ye),zi(s(s({},ge.current),{rotation:ye})),Jt({direction:Nt,doc:Q,rotation:ye})}),[]),lr=l.useCallback((function(Nt,he){var _e=he===a.RotateDirection.Backward?-90:90,ye=ge.current.pagesRotation,xe=(ye.has(Nt)?ye.get(Nt):dt)+_e,de=ye.set(Nt,xe);$t(de),Vn((function($e){return!$e})),zi(s(s({},ge.current),{pagesRotation:de,rotatedPage:Nt})),ae({direction:he,doc:Q,pageIndex:Nt,rotation:xe}),Fn.markRendering(Nt),Wi(Nt)}),[]),Ta=l.useCallback((function(Nt){zi(s(s({},ge.current),{scrollMode:Nt})),Xt(Nt)}),[]),Rr=l.useCallback((function(Nt){zi(s(s({},ge.current),{viewMode:Nt})),Ht(Nt)}),[]),Ii=l.useCallback((function(Nt){var he=Ne.current,_e=ge.current.pageIndex;if(!(_e<0||_e>=se)){var ye=ct[_e].pageHeight,xe=ct[_e].pageWidth,de=he?typeof Nt=="string"?rr(he,ye,xe,Nt,ge.current.viewMode,se):Nt:1;An.current=typeof Nt=="string"?Nt:null,de!==ge.current.scale&&(os((function($e){return $e+1})),Fn.markNotRendered(),bn(de),Vt({doc:Q,scale:de}),zi(s(s({},ge.current),{scale:de})))}}),[]),Ki=l.useCallback((function(Nt){Te.enterFullScreenMode(Nt)}),[]),Ma=l.useCallback((function(){Te.exitFullScreenMode()}),[]);l.useEffect((function(){zi(s(s({},ge.current),{fullScreenMode:Te.fullScreenMode}))}),[Te.fullScreenMode]),l.useEffect((function(){var Nt={enterFullScreenMode:Ki,exitFullScreenMode:Ma,getPagesContainer:gl,getViewerState:vl,jumpToDestination:wa,jumpToNextDestination:ro,jumpToPreviousDestination:so,jumpToNextPage:oo,jumpToPreviousPage:cs,jumpToPage:Mi,openFile:lo,rotate:Zi,rotatePage:lr,setViewerState:zi,switchScrollMode:Ta,switchViewMode:Rr,zoom:Ii};return st.forEach((function(he){he.install&&he.install(Nt)})),function(){st.forEach((function(he){he.uninstall&&he.uninstall(Nt)}))}}),[te]),l.useEffect((function(){Ft({doc:Q,file:P}),st.forEach((function(Nt){Nt.onDocumentLoad&&Nt.onDocumentLoad({doc:Q,file:P})}))}),[te]);var cr,wr,ki,us=Ie.boundingClientRect;cr=function(){at&&Mi(at)},wr=us.height>0&&us.width>0,ki=l.useRef(!1),f((function(){wr&&!ki.current&&(ki.current=!0,cr())}),[cr,wr]),f((function(){var Nt=ge.current.pageIndex;Nt>-1&&oe!==Zt&&Ie.scrollToItem(Nt,Fi).then((function(){Te.fullScreenMode===a.FullScreenMode.EnteredCompletely&&(tt||Fn.markNotRendered(),Ve.current=-1)}))}),[Zt]),f((function(){var Nt=ge.current.pageIndex;Nt>-1&&gi!==nn&&Ie.scrollToItem(Nt,Fi)}),[nn]),f((function(){Sn!=0&&Sn!=ge.current.scale&&Ie.zoom(ge.current.scale/Sn,ge.current.pageIndex).then((function(){Te.fullScreenMode===a.FullScreenMode.EnteredCompletely&&(Ge.current=-1)}))}),[ze]),f((function(){if(pe!==ge.current.viewMode){var Nt=Ie.startPage,he=Ie.endPage,_e=Ie.virtualItems;Fn.markNotRendered(),Fn.setRange(Nt,he);for(var ye=function(de){var $e=_e.find((function(vi){return vi.index===de}));$e&&Fn.setVisibility(de,$e.visibility)},xe=Nt;xe<=he;xe++)ye(xe);Tr()}}),[Yt]),f((function(){var Nt=ge.current.pageIndex;Nt>-1&&pe!==Yt&&Ie.scrollToItem(Nt,Fi)}),[Yt]),f((function(){var Nt=ge.current.pageIndex;Nt>0&&Nt===at&&fn.current===at&&An.current&&(fn.current=-1,Ii(An.current))}),[Xe]),l.useEffect((function(){Ie.isSmoothScrolling||en.current!==null&&en.current===Xe||(en.current=Xe,Wt({currentPage:Xe,doc:Q}))}),[Xe,Ie.isSmoothScrolling]),l.useEffect((function(){Te.fullScreenMode===a.FullScreenMode.Entering&&ge.current.scrollMode===a.ScrollMode.Page&&(Ve.current=ge.current.pageIndex),Te.fullScreenMode===a.FullScreenMode.EnteredCompletely&&ge.current.scrollMode===a.ScrollMode.Page&&tt&&(Ve.current=-1),Te.fullScreenMode===a.FullScreenMode.EnteredCompletely&&An.current&&(Ge.current=ge.current.pageIndex,Ii(An.current))}),[Te.fullScreenMode]),l.useEffect((function(){if(Te.fullScreenMode!==a.FullScreenMode.Entering&&Te.fullScreenMode!==a.FullScreenMode.Exitting&&!Ie.isSmoothScrolling){var Nt=Ie.startPage,he=Ie.endPage,_e=Ie.maxVisbilityIndex,ye=Ie.virtualItems,xe=_e,de=Te.fullScreenMode===a.FullScreenMode.Entered||Te.fullScreenMode===a.FullScreenMode.EnteredCompletely;if(!(de&&xe!==Ve.current&&Ve.current>-1||de&&xe!==Ge.current&&Ge.current>-1)){hn(xe),zi(s(s({},ge.current),{pageIndex:xe})),Fn.setRange(Nt,he);for(var $e=function(ka){var Qi=ye.find((function(bi){return bi.index===ka}));Qi&&Fn.setVisibility(ka,Qi.visibility)},vi=Nt;vi<=he;vi++)$e(vi);Tr()}}}),[Ie.startPage,Ie.endPage,Ie.isSmoothScrolling,Ie.maxVisbilityIndex,Te.fullScreenMode,vn,nn,ze]);var co=l.useCallback((function(Nt){Fn.markRendered(Nt),Tr()}),[Ra]),Tr=function(){var Nt=Fn.getHighestPriorityPage();Nt>-1&&Fn.isInRange(Nt)&&(Fn.markRendering(Nt),Wi(Nt))},yl=function(Nt){var he=Xe-1,_e=Xe+1;switch(Nt){case"FirstPage":Mi(0);break;case"LastPage":Mi(se-1);break;case"NextPage":_e<se&&Mi(_e);break;case"PrevPage":he>=0&&Mi(he)}},_l=l.useCallback((function(){var Nt=Ie.virtualItems,he=[];switch(Yt){case a.ViewMode.DualPage:he=De(Nt,2);break;case a.ViewMode.DualPageWithCover:Nt.length&&(he=Nt[0].index===0?[[Nt[0]]].concat(De(Nt.slice(1),2)):De(Nt,2));break;case a.ViewMode.SinglePage:default:he=De(Nt,1)}var _e=Re&&Re.core?Re.core.pageLabel:"Page {{pageIndex}}",ye={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Oe,style:{height:"100%"}},children:l.createElement(l.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:b({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Zt===a.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":we,"rpv-core__inner-pages--single":Zt===a.ScrollMode.Page,"rpv-core__inner-pages--vertical":Zt===a.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Zt===a.ScrollMode.Wrapped}),ref:Ne,style:{height:"100%",position:"relative"}},children:l.createElement("div",{"data-testid":"core__inner-current-page-".concat(Xe),style:Object.assign({"--scale-factor":ze},Ie.getContainerStyles())},he.map((function(xe){return l.createElement("div",{className:b({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Zt===a.ScrollMode.Page}),style:Ie.getItemContainerStyles(xe[0]),key:"".concat(xe[0].index,"-").concat(Yt)},xe.map((function(de){var $e=Yt===a.ViewMode.DualPageWithCover&&(de.index===0||se%2==0&&de.index===se-1);return l.createElement("div",{"aria-label":_e.replace("{{pageIndex}}","".concat(de.index+1)),className:b({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Yt===a.ViewMode.DualPage&&de.index%2==0,"rpv-core__inner-page--dual-odd":Yt===a.ViewMode.DualPage&&de.index%2==1,"rpv-core__inner-page--dual-cover":$e,"rpv-core__inner-page--dual-cover-even":Yt===a.ViewMode.DualPageWithCover&&!$e&&de.index%2==0,"rpv-core__inner-page--dual-cover-odd":Yt===a.ViewMode.DualPageWithCover&&!$e&&de.index%2==1,"rpv-core__inner-page--single":Yt===a.ViewMode.SinglePage&&Zt===a.ScrollMode.Page}),role:"region",key:"".concat(de.index,"-").concat(Yt),style:Object.assign({},Ie.getItemStyles(de),ls.buildPageStyles({numPages:se,pageIndex:de.index,scrollMode:Zt,viewMode:Yt}))},l.createElement(Sa,{doc:Q,measureRef:de.measureRef,outlines:be,pageIndex:de.index,pageRotation:ie.has(de.index)?ie.get(de.index):0,pageSize:ct[de.index],plugins:st,renderPage:wt,renderQueueKey:Ra,rotation:nn,scale:ze,shouldRender:xa===de.index,viewMode:Yt,onExecuteNamedAction:yl,onJumpFromLinkAnnotation:bl,onJumpToDest:wa,onRenderCompleted:co,onRotatePage:lr}))})))})))}};return st.forEach((function(xe){xe.renderViewer&&(ye=xe.renderViewer({containerRef:Oe,doc:Q,pagesContainerRef:Ne,pagesRotation:ie,pageSizes:ct,rotation:nn,slot:ye,themeContext:Ce,jumpToPage:Mi,openFile:lo,rotate:Zi,rotatePage:lr,switchScrollMode:Ta,switchViewMode:Rr,zoom:Ii}))})),ye}),[st,Ie]),uo=l.useCallback((function(Nt){return l.createElement("div",s({},Nt.attrs,{style:Nt.attrs&&Nt.attrs.style?Nt.attrs.style:{}}),Nt.children,Nt.subSlot&&uo(Nt.subSlot))}),[]);return uo(_l())},no=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Cr=function(E){var P=E.defaultScale,W=E.doc,Q=E.render,tt=E.scrollMode,at=E.viewMode,dt=l.useRef(),ot=l.useState({pageSizes:[],scale:0}),J=ot[0],ct=ot[1];return l.useLayoutEffect((function(){var st=Array(W.numPages).fill(0).map((function(wt,Tt){return new Promise((function(xt,It){Li(W,Tt).then((function(zt){var Ft=zt.getViewport({scale:1});xt({pageHeight:Ft.height,pageWidth:Ft.width,rotation:Ft.rotation})}))}))}));Promise.all(st).then((function(wt){var Tt=dt.current;if(Tt&&wt.length!==0){var xt=wt[0].pageWidth,It=wt[0].pageHeight,zt=Tt.parentElement,Ft=(zt.clientWidth-45)/xt,ue=(zt.clientHeight-45)/It,Wt=Ft;switch(tt){case a.ScrollMode.Horizontal:Wt=Math.min(Ft,ue);break;case a.ScrollMode.Vertical:default:Wt=Ft}var Jt,ae,Vt=P?typeof P=="string"?rr(zt,It,xt,P,at,W.numPages):P:(Jt=Wt,(ae=no.findIndex((function(se){return se>=Jt})))===-1||ae===0?Jt:no[ae-1]);ct({pageSizes:wt,scale:Vt})}}))}),[W.loadingTask.docId]),J.pageSizes.length===0||J.scale===0?l.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:dt},l.createElement(I,null)):Q(J.pageSizes,J.scale)},Qn=function(){},sr=(function(E){function P(W,Q){var tt=E.call(this)||this;return tt.verifyPassword=W,tt.passwordStatus=Q,tt}return D(P,E),P})(Qn),rs=function(E){var P=E.passwordStatus,W=E.renderProtectedView,Q=E.verifyPassword,tt=E.onDocumentAskPassword,at=l.useContext(y).l10n,dt=l.useState(""),ot=dt[0],J=dt[1],ct=l.useContext(_).direction===a.TextDirection.RightToLeft,st=function(){return Q(ot)};return l.useEffect((function(){tt&&tt({verifyPassword:Q})}),[]),W?W({passwordStatus:P,verifyPassword:Q}):l.createElement("div",{className:"rpv-core__asking-password-wrapper"},l.createElement("div",{className:b({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":ct})},l.createElement("div",{className:"rpv-core__asking-password-message"},P===a.PasswordStatus.RequiredPassword&&at.core.askingPassword.requirePasswordToOpen,P===a.PasswordStatus.WrongPassword&&at.core.wrongPassword.tryAgain),l.createElement("div",{className:"rpv-core__asking-password-body"},l.createElement("div",{className:b({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!ct,"rpv-core__asking-password-input--rtl":ct})},l.createElement(q,{testId:"core__asking-password-input",type:"password",value:ot,onChange:J,onKeyDown:function(wt){wt.key==="Enter"&&st()}})),l.createElement(O,{onClick:st},at.core.askingPassword.submit))))},Xi=(function(E){function P(W){var Q=E.call(this)||this;return Q.doc=W,Q}return D(P,E),P})(Qn),Yi=(function(E){function P(W){var Q=E.call(this)||this;return Q.error=W,Q}return D(P,E),P})(Qn),xr=(function(E){function P(W){var Q=E.call(this)||this;return Q.percentages=W,Q}return D(P,E),P})(Qn),ss=function(E){var P=E.characterMap,W=E.file,Q=E.httpHeaders,tt=E.render,at=E.renderError,dt=E.renderLoader,ot=E.renderProtectedView,J=E.transformGetDocumentParams,ct=E.withCredentials,st=E.onDocumentAskPassword,wt=l.useContext(_).direction===a.TextDirection.RightToLeft,Tt=l.useState(new xr(0)),xt=Tt[0],It=Tt[1],zt=l.useRef(""),Ft=Rt();return l.useEffect((function(){zt.current="",It(new xr(0));var ue=new T.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Wt=Object.assign({httpHeaders:Q,withCredentials:ct,worker:ue},typeof W=="string"?{url:W}:{data:W},P?{cMapUrl:P.url,cMapPacked:P.isCompressed}:{}),Jt=J?J(Wt):Wt,ae=T.getDocument(Jt);return ae.onPassword=function(Vt,se){switch(se){case T.PasswordResponses.NEED_PASSWORD:Ft.current&&It(new sr(Vt,a.PasswordStatus.RequiredPassword));break;case T.PasswordResponses.INCORRECT_PASSWORD:Ft.current&&It(new sr(Vt,a.PasswordStatus.WrongPassword))}},ae.onProgress=function(Vt){var se=Vt.total>0?Math.min(100,100*Vt.loaded/Vt.total):100;Ft.current&&zt.current===""&&It(new xr(se))},ae.promise.then((function(Vt){zt.current=Vt.loadingTask.docId,Ft.current&&It(new Xi(Vt))}),(function(Vt){return Ft.current&&!ue.destroyed&&It(new Yi({message:Vt.message||"Cannot load document",name:Vt.name}))})),function(){ae.destroy(),ue.destroy()}}),[W]),xt instanceof sr?l.createElement(rs,{passwordStatus:xt.passwordStatus,renderProtectedView:ot,verifyPassword:xt.verifyPassword,onDocumentAskPassword:st}):xt instanceof Xi?tt(xt.doc):xt instanceof Yi?at?at(xt.error):l.createElement("div",{className:b({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":wt})},l.createElement("div",{className:"rpv-core__doc-error-text"},xt.error.message)):l.createElement("div",{"data-testid":"core__doc-loading",className:b({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":wt})},dt?dt(xt.percentages):l.createElement(I,null))},io=function(E,P){var W=l.useMemo((function(){return E==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":E}),[]),Q=l.useState(W),tt=Q[0],at=Q[1],dt=X(tt);return l.useEffect((function(){if(E==="auto"){var ot=window.matchMedia("(prefers-color-scheme: dark)"),J=function(ct){at(ct.matches?"dark":"light")};return ot.addEventListener("change",J),function(){return ot.removeEventListener("change",J)}}}),[]),l.useEffect((function(){tt!==dt&&P&&P(tt)}),[tt]),l.useEffect((function(){E!==tt&&at(E)}),[E]),{currentTheme:tt,setCurrentTheme:at}},or=function(E){return{startPage:E.startPage-3,endPage:E.endPage+3}};a.Button=function(E){var P=E.children,W=E.testId,Q=E.onClick,tt=l.useContext(_).direction===a.TextDirection.RightToLeft,at=W?{"data-testid":W}:{};return l.createElement("button",s({className:b({"rpv-core__button":!0,"rpv-core__button--rtl":tt}),type:"button",onClick:Q},at),P)},a.Icon=R,a.LazyRender=function(E){var P=E.attrs,W=E.children,Q=E.testId,tt=l.useState(!1),at=tt[0],dt=tt[1],ot=Q?s(s({},P),{"data-testid":Q}):P,J=S({once:!0,onVisibilityChanged:function(ct){ct.isVisible&&dt(!0)}});return l.createElement("div",s({ref:J},ot),at&&W)},a.LocalizationContext=y,a.Menu=function(E){var P=E.children,W=l.useRef(),Q=l.useRef([]),tt=l.useContext(_).direction===a.TextDirection.RightToLeft,at=function(ot){if(W.current)switch(ot.key){case"Tab":ot.preventDefault();break;case"ArrowDown":ot.preventDefault(),dt((function(J,ct){return ct+1}));break;case"ArrowUp":ot.preventDefault(),dt((function(J,ct){return ct-1}));break;case"End":ot.preventDefault(),dt((function(J,ct){return J.length-1}));break;case"Home":ot.preventDefault(),dt((function(J,ct){return 0}))}},dt=function(ot){if(W.current){var J=Q.current,ct=J.findIndex((function(wt){return wt.getAttribute("tabindex")==="0"})),st=Math.min(J.length-1,Math.max(0,ot(J,ct)));ct>=0&&ct<=J.length-1&&J[ct].setAttribute("tabindex","-1"),J[st].setAttribute("tabindex","0"),J[st].focus()}};return f((function(){var ot=W.current;if(ot){var J=(function(ct){var st=[];return ct.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach((function(wt){if(wt instanceof HTMLElement){var Tt=wt.parentElement;(Tt===ct||window.getComputedStyle(Tt).display!=="none")&&st.push(wt)}})),st})(ot);Q.current=J}}),[]),f((function(){return document.addEventListener("keydown",at),function(){document.removeEventListener("keydown",at)}}),[]),l.createElement("div",{ref:W,"aria-orientation":"vertical",className:b({"rpv-core__menu":!0,"rpv-core__menu--rtl":tt}),role:"menu",tabIndex:0},P)},a.MenuDivider=function(){return l.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},a.MenuItem=function(E){var P=E.checked,W=P!==void 0&&P,Q=E.children,tt=E.icon,at=tt===void 0?null:tt,dt=E.isDisabled,ot=dt!==void 0&&dt,J=E.testId,ct=E.onClick,st=l.useContext(_).direction===a.TextDirection.RightToLeft,wt=J?{"data-testid":J}:{};return l.createElement("button",s({className:b({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":ot,"rpv-core__menu-item--ltr":!st,"rpv-core__menu-item--rtl":st}),role:"menuitem",tabIndex:-1,type:"button",onClick:ct},wt),l.createElement("div",{className:b({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!st,"rpv-core__menu-item-icon--rtl":st})},at),l.createElement("div",{className:b({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!st,"rpv-core__menu-item-label--rtl":st})},Q),l.createElement("div",{className:b({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!st,"rpv-core__menu-item-check--rtl":st})},W&&l.createElement(g,null)))},a.MinimalButton=function(E){var P=E.ariaLabel,W=P===void 0?"":P,Q=E.ariaKeyShortcuts,tt=Q===void 0?"":Q,at=E.children,dt=E.isDisabled,ot=dt!==void 0&&dt,J=E.isSelected,ct=J!==void 0&&J,st=E.testId,wt=E.onClick,Tt=l.useContext(_).direction===a.TextDirection.RightToLeft,xt=st?{"data-testid":st}:{};return l.createElement("button",s({"aria-label":W},tt&&{"aria-keyshortcuts":tt},ot&&{"aria-disabled":!0},{className:b({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":ot,"rpv-core__minimal-button--rtl":Tt,"rpv-core__minimal-button--selected":ct}),type:"button",onClick:wt},xt),at)},a.Modal=function(E){var P=E.ariaControlsSuffix,W=E.closeOnClickOutside,Q=E.closeOnEscape,tt=E.content,at=E.isOpened,dt=at!==void 0&&at,ot=E.target,J=P||"".concat(B());return l.createElement(Y,{target:ot?function(ct,st){return l.createElement("div",{"aria-expanded":st?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(J)},ot(ct,st))}:null,content:function(ct){return l.createElement(k,null,l.createElement(v,{ariaControlsSuffix:J,closeOnClickOutside:W,closeOnEscape:Q,onToggle:ct},tt(ct)))},isOpened:dt})},a.Popover=function(E){var P=E.ariaHasPopup,W=P===void 0?"dialog":P,Q=E.ariaControlsSuffix,tt=E.closeOnClickOutside,at=E.closeOnEscape,dt=E.content,ot=E.lockScroll,J=ot===void 0||ot,ct=E.offset,st=E.position,wt=E.target,Tt=V(!1),xt=Tt.opened,It=Tt.toggle,zt=l.useRef(),Ft=l.useMemo((function(){return Q||"".concat(B())}),[]);return l.createElement("div",{ref:zt,"aria-expanded":xt?"true":"false","aria-haspopup":W,"aria-controls":"rpv-core__popver-body-".concat(Ft)},wt(It,xt),xt&&l.createElement(l.Fragment,null,J&&l.createElement(re,{closeOnEscape:at,onClose:It}),l.createElement(Qt,{ariaControlsSuffix:Ft,closeOnClickOutside:tt,offset:ct,position:st,targetRef:zt,onClose:It},dt(It))))},a.PrimaryButton=O,a.ProgressBar=function(E){var P=E.progress,W=l.useContext(_).direction===a.TextDirection.RightToLeft;return l.createElement("div",{className:b({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":W})},l.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(P,"%")}},P,"%"))},a.Separator=function(){return l.createElement("div",{className:"rpv-core__separator"})},a.Spinner=I,a.Splitter=function(E){var P=E.constrain,W=l.useContext(_).direction===a.TextDirection.RightToLeft,Q=l.useRef(),tt=l.useRef(),at=l.useRef(),dt=l.useRef(0),ot=l.useRef(0),J=l.useRef(0),ct=l.useRef(0),st={capture:!0},wt=function(xt){var It=Q.current,zt=tt.current,Ft=at.current;if(It&&zt&&Ft){var ue=ct.current,Wt=xt.clientX-dt.current,Jt=J.current+(W?-Wt:Wt),ae=It.parentElement.getBoundingClientRect().width,Vt=100*Jt/ae;if(It.classList.add("rpv-core__splitter--resizing"),P){var se=ae-Jt-ue;if(!P({firstHalfPercentage:Vt,firstHalfSize:Jt,secondHalfPercentage:100*se/ae,secondHalfSize:se}))return}zt.style.width="".concat(Vt,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),zt.classList.add("rpv-core__splitter-sibling--resizing"),Ft.classList.add("rpv-core__splitter-sibling--resizing")}},Tt=function(xt){var It=Q.current,zt=tt.current,Ft=at.current;It&&zt&&Ft&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),It.classList.remove("rpv-core__splitter--resizing"),zt.classList.remove("rpv-core__splitter-sibling--resizing"),Ft.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",wt,st),document.removeEventListener("mouseup",Tt,st))};return l.useEffect((function(){var xt=Q.current;xt&&(ct.current=xt.getBoundingClientRect().width,tt.current=xt.previousElementSibling,at.current=xt.nextElementSibling)}),[]),l.createElement("div",{ref:Q,className:"rpv-core__splitter",onMouseDown:function(xt){var It=tt.current;It&&(dt.current=xt.clientX,ot.current=xt.clientY,J.current=It.getBoundingClientRect().width,document.addEventListener("mousemove",wt,st),document.addEventListener("mouseup",Tt,st))}})},a.TextBox=q,a.ThemeContext=_,a.Tooltip=function(E){var P=E.ariaControlsSuffix,W=E.content,Q=E.offset,tt=E.position,at=E.target,dt=V(!1),ot=dt.opened,J=dt.toggle,ct=l.useRef(),st=l.useRef(),wt=l.useMemo((function(){return P||"".concat(B())}),[]);H((function(){ct.current&&document.activeElement&&ct.current.contains(document.activeElement)&&xt()}));var Tt=function(){J(a.ToggleStatus.Open)},xt=function(){J(a.ToggleStatus.Close)};return l.createElement(l.Fragment,null,l.createElement("div",{ref:ct,"aria-describedby":"rpv-core__tooltip-body-".concat(wt),onBlur:function(It){It.relatedTarget instanceof HTMLElement&&It.currentTarget.parentElement&&It.currentTarget.parentElement.contains(It.relatedTarget)?st.current&&(st.current.style.display="none"):xt()},onFocus:Tt,onMouseEnter:Tt,onMouseLeave:xt},at),ot&&l.createElement(ve,{ariaControlsSuffix:wt,contentRef:st,offset:Q,position:tt,targetRef:ct},W()))},a.Viewer=function(E){var P=E.characterMap,W=E.defaultScale,Q=E.enableSmoothScroll,tt=Q===void 0||Q,at=E.fileUrl,dt=E.httpHeaders,ot=dt===void 0?{}:dt,J=E.initialPage,ct=J===void 0?0:J,st=E.pageLayout,wt=E.initialRotation,Tt=wt===void 0?0:wt,xt=E.localization,It=E.plugins,zt=It===void 0?[]:It,Ft=E.renderError,ue=E.renderLoader,Wt=E.renderPage,Jt=E.renderProtectedView,ae=E.scrollMode,Vt=ae===void 0?a.ScrollMode.Vertical:ae,se=E.setRenderRange,te=se===void 0?or:se,Re=E.transformGetDocumentParams,Ce=E.theme,we=Ce===void 0?{direction:a.TextDirection.LeftToRight,theme:"light"}:Ce,Oe=E.viewMode,Ne=Oe===void 0?a.ViewMode.SinglePage:Oe,an=E.withCredentials,Xe=an!==void 0&&an,hn=E.onDocumentAskPassword,en=E.onDocumentLoad,rn=en===void 0?function(){}:en,Je=E.onPageChange,nn=Je===void 0?function(){}:Je,Dn=E.onRotate,gi=Dn===void 0?function(){}:Dn,Jn=E.onRotatePage,vn=Jn===void 0?function(){}:Jn,Vn=E.onSwitchTheme,Ti=Vn===void 0?function(){}:Vn,ie=E.onZoom,$t=ie===void 0?function(){}:ie,Gt=l.useState({data:at,name:typeof at=="string"?at:"",shouldLoad:!1}),Zt=Gt[0],Xt=Gt[1],oe=function(Ve,Ge){Xt({data:Ge,name:Ve,shouldLoad:!0})},ce=l.useState(!1),Yt=ce[0],Ht=ce[1],pe=X(Zt);l.useEffect((function(){var Ve,Ge,fn,Te;Ve=pe.data,Te=typeof(Ge=at),(fn=typeof Ve)=="string"&&Te==="string"&&Ve===Ge||fn==="object"&&Te==="object"&&Ve.length===Ge.length&&Ve.every((function($n,xa){return $n===Ge[xa]}))||Xt({data:at,name:typeof at=="string"?at:"",shouldLoad:Yt})}),[at,Yt]);var be=S({onVisibilityChanged:function(Ve){Ht(Ve.isVisible),Ve.isVisible&&Xt((function(Ge){return Object.assign({},Ge,{shouldLoad:!0})}))}}),He=typeof we=="string"?{direction:a.TextDirection.LeftToRight,theme:we}:we,ze=l.useState(xt||x),bn=ze[0],Sn=ze[1],ge={l10n:bn,setL10n:Sn},An=Object.assign({},{direction:He.direction},io(He.theme||"light",Ti));return l.useEffect((function(){xt&&Sn(xt)}),[xt]),l.createElement(y.Provider,{value:ge},l.createElement(_.Provider,{value:An},l.createElement("div",{ref:be,className:"rpv-core__viewer rpv-core__viewer--".concat(An.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Zt.shouldLoad&&l.createElement(ss,{characterMap:P,file:Zt.data,httpHeaders:ot,render:function(Ve){return l.createElement(Cr,{defaultScale:W,doc:Ve,render:function(Ge,fn){return l.createElement(pl,{currentFile:{data:Zt.data,name:Zt.name},defaultScale:W,doc:Ve,enableSmoothScroll:tt,initialPage:ct,initialRotation:Tt,initialScale:fn,pageLayout:st,pageSizes:Ge,plugins:zt,renderPage:Wt,scrollMode:Vt,setRenderRange:te,viewMode:Ne,viewerState:{file:Zt,fullScreenMode:a.FullScreenMode.Normal,pageIndex:-1,pageHeight:Ge[0].pageHeight,pageWidth:Ge[0].pageWidth,pagesRotation:new Map,rotation:Tt,scale:fn,scrollMode:Vt,viewMode:Ne},onDocumentLoad:rn,onOpenFile:oe,onPageChange:nn,onRotate:gi,onRotatePage:vn,onZoom:$t})},scrollMode:Vt,viewMode:Ne})},renderError:Ft,renderLoader:ue,renderProtectedView:Jt,transformGetDocumentParams:Re,withCredentials:Xe,onDocumentAskPassword:hn}))))},a.Worker=function(E){var P=E.children,W=E.workerUrl;return T.GlobalWorkerOptions.workerSrc=W,l.createElement(l.Fragment,null,P)},a.chunk=De,a.classNames=b,a.createStore=function(E){var P=E||{},W={},Q=function(at,dt){var ot;P=s(s({},P),((ot={})[at]=dt,ot)),(W[at]||[]).forEach((function(J){return J(P[at])}))},tt=function(at){return P[at]};return{subscribe:function(at,dt){W[at]=(W[at]||[]).concat(dt)},unsubscribe:function(at,dt){W[at]=(W[at]||[]).filter((function(ot){return ot!==dt}))},update:function(at,dt){Q(at,dt)},updateCurrentValue:function(at,dt){var ot=tt(at);ot!==void 0&&Q(at,dt(ot))},get:function(at){return tt(at)}}},a.getDestination=$a,a.getPage=Li,a.isFullScreenEnabled=nt,a.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},a.useDebounceCallback=Et,a.useIntersectionObserver=S,a.useIsMounted=Rt,a.useIsomorphicLayoutEffect=f,a.usePrevious=X,a.useRenderQueue=A})(core_min)),core_min}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$1.exports;hasRequiredLib$1=1;return lib$1.exports=requireCore_min(),lib$1.exports}var libExports$1=requireLib$1();function ReaderView({filePath:a,zoomPluginInstance:c,scrollContainerRef:m}){return jsxRuntimeExports.jsx("div",{className:"reader-view",children:jsxRuntimeExports.jsx("div",{className:"pdf-placeholder",ref:m,children:jsxRuntimeExports.jsx(libExports$1.Worker,{workerUrl:"/iris25/libs/pdf.worker.min.js",children:jsxRuntimeExports.jsx(libExports$1.Viewer,{fileUrl:a,theme:"light",plugins:c?[c]:[]})})})})}const noop=()=>{},HOLD_INTERVAL_MS=150;function useHold(a){const c=reactExports.useRef(null),m=reactExports.useCallback(()=>{c.current&&(clearInterval(c.current),c.current=null)},[]),o=reactExports.useCallback(p=>{p&&p.preventDefault(),a(),m(),c.current=setInterval(()=>{a()},HOLD_INTERVAL_MS)},[a,m]);return reactExports.useEffect(()=>m,[m]),{start:o,stop:m}}function GazeControls({onScrollUp:a=noop,onScrollDown:c=noop,upRef:m,downRef:o}){const p=useHold(a),l=useHold(c),T=(F,D)=>({onMouseDown:F.start,onMouseUp:F.stop,onMouseLeave:F.stop,onTouchStart:F.start,onTouchEnd:F.stop,onTouchCancel:F.stop,onKeyDown:d=>{(d.key===" "||d.key==="Enter")&&(d.preventDefault(),D())}});return jsxRuntimeExports.jsxs("div",{className:"gaze-controls",children:[jsxRuntimeExports.jsx("button",{className:"gaze-button up",title:"Scroll Up",type:"button",ref:m,...T(p,a),children:jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M16 12L12 8L8 12M12 8V16M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),jsxRuntimeExports.jsx("button",{className:"gaze-button down",title:"Scroll Down",type:"button",ref:o,...T(l,c),children:jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M8 12L12 16L16 12M12 16V8M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}const SCROLL_STEP=200;function ReaderContainer({filePath:a,zoomPluginInstance:c}){const m=reactExports.useRef(null),o={up:reactExports.useRef(null),down:reactExports.useRef(null)},p=reactExports.useCallback(F=>{const D=m.current;if(!D)return;const d=D.querySelector(".rpv-core__inner-pages")||D.querySelector(".rpv-core__pages")||D;if(!d)return;if(typeof WheelEvent=="function"){const h=new WheelEvent("wheel",{deltaY:F,bubbles:!0,cancelable:!0});d.dispatchEvent(h);return}d.scrollBy({top:F,behavior:"smooth"})},[]),l=reactExports.useCallback(()=>{p(-SCROLL_STEP)},[p]),T=reactExports.useCallback(()=>{p(SCROLL_STEP)},[p]);return jsxRuntimeExports.jsxs("div",{className:"reader-container",children:[jsxRuntimeExports.jsx(ReaderView,{filePath:a,zoomPluginInstance:c,scrollContainerRef:m}),jsxRuntimeExports.jsx(GazeControls,{onScrollUp:l,onScrollDown:T,upRef:o.up,downRef:o.down})]})}function ComingSoon({show:a,onClose:c,message:m}){return reactExports.useEffect(()=>{const o=p=>{p.key==="Escape"&&c()};return a&&document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[a,c]),a?jsxRuntimeExports.jsx("div",{className:`overlay ${a?"show":""}`,onClick:c,children:jsxRuntimeExports.jsxs("div",{className:"modal",onClick:o=>o.stopPropagation(),children:[jsxRuntimeExports.jsx("h4",{children:"Coming Soon"}),jsxRuntimeExports.jsx("p",{children:m||"This feature is under development"}),jsxRuntimeExports.jsx("button",{onClick:c,children:"Go Back"})]})}):null}const STORAGE_KEY="iris-toggle-state",TOGGLE_EVENT="iris-toggle-update",getInitialValue=()=>{if(typeof window>"u")return!1;const a=window.localStorage.getItem(STORAGE_KEY);return a===null?!1:a==="true"};function useIrisToggle(){const[a,c]=reactExports.useState(getInitialValue);reactExports.useEffect(()=>{const o=p=>{typeof p.detail=="boolean"&&c(p.detail)};return window.addEventListener(TOGGLE_EVENT,o),()=>window.removeEventListener(TOGGLE_EVENT,o)},[]);const m=reactExports.useCallback(o=>{const p=!!o;c(p),typeof window<"u"&&(window.localStorage.setItem(STORAGE_KEY,String(p)),window.dispatchEvent(new CustomEvent(TOGGLE_EVENT,{detail:p})))},[]);return[a,m]}function IrisToggle(){const[a,c]=useIrisToggle(),m=()=>c(!a);return jsxRuntimeExports.jsxs("button",{className:`nav-button svg-button iris-toggle ${a?"active":""}`,onClick:m,children:[a?jsxRuntimeExports.jsx(OpenEyeIcon,{}):jsxRuntimeExports.jsx(ClosedEyeIcon,{}),jsxRuntimeExports.jsx("span",{className:"svg-label",children:a?"Iris ON":"Iris OFF"})]})}const OpenEyeIcon=()=>jsxRuntimeExports.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M2.42012 12.7132C2.28394 12.4975 2.21584 12.3897 2.17772 12.2234C2.14909 12.0985 2.14909 11.9015 2.17772 11.7766C2.21584 11.6103 2.28394 11.5025 2.42012 11.2868C3.54553 9.50484 6.8954 5 12.0004 5C17.1054 5 20.4553 9.50484 21.5807 11.2868C21.7169 11.5025 21.785 11.6103 21.8231 11.7766C21.8517 11.9015 21.8517 12.0985 21.8231 12.2234C21.785 12.3897 21.7169 12.4975 21.5807 12.7132C20.4553 14.4952 17.1054 19 12.0004 19C6.8954 19 3.54553 14.4952 2.42012 12.7132Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M12.0004 15C13.6573 15 15.0004 13.6569 15.0004 12C15.0004 10.3431 13.6573 9 12.0004 9C10.3435 9 9.0004 10.3431 9.0004 12C9.0004 13.6569 10.3435 15 12.0004 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),ClosedEyeIcon=()=>jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M10.7429 5.09232C11.1494 5.03223 11.5686 5 12.0004 5C17.1054 5 20.4553 9.50484 21.5807 11.2868C21.7169 11.5025 21.785 11.6103 21.8231 11.7767C21.8518 11.9016 21.8517 12.0987 21.8231 12.2236C21.7849 12.3899 21.7164 12.4985 21.5792 12.7156C21.2793 13.1901 20.8222 13.8571 20.2165 14.5805M6.72432 6.71504C4.56225 8.1817 3.09445 10.2194 2.42111 11.2853C2.28428 11.5019 2.21587 11.6102 2.17774 11.7765C2.1491 11.9014 2.14909 12.0984 2.17771 12.2234C2.21583 12.3897 2.28393 12.4975 2.42013 12.7132C3.54554 14.4952 6.89541 19 12.0004 19C14.0588 19 15.8319 18.2676 17.2888 17.2766M3.00042 3L21.0004 21M9.8791 9.87868C9.3362 10.4216 9.00042 11.1716 9.00042 12C9.00042 13.6569 10.3436 15 12.0004 15C12.8288 15 13.5788 14.6642 14.1217 14.1213",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});function NavbarHome(){const[a,c]=reactExports.useState(!1),m=()=>c(!0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"big-gap navbar-button-container",children:[jsxRuntimeExports.jsx("div",{className:"group navbar-button-container",children:jsxRuntimeExports.jsx(IrisToggle,{})}),jsxRuntimeExports.jsxs("div",{className:"dark group navbar-button-container",children:[jsxRuntimeExports.jsxs("button",{className:"nav-button svg-button",onClick:m,children:[jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M12 8V16M8 12H16M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),jsxRuntimeExports.jsx("span",{className:"svg-label",children:"Add"})]}),jsxRuntimeExports.jsxs("button",{className:"nav-button svg-button",onClick:m,children:[jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M12 16V12M12 8H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),jsxRuntimeExports.jsx("span",{className:"svg-label",children:"About"})]}),jsxRuntimeExports.jsxs("button",{className:"nav-button svg-button",onClick:m,children:[jsxRuntimeExports.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M18.7273 14.7273C18.6063 15.0015 18.5702 15.3056 18.6236 15.6005C18.6771 15.8954 18.8177 16.1676 19.0273 16.3818L19.0818 16.4364C19.2509 16.6052 19.385 16.8057 19.4765 17.0265C19.568 17.2472 19.6151 17.4838 19.6151 17.7227C19.6151 17.9617 19.568 18.1983 19.4765 18.419C19.385 18.6397 19.2509 18.8402 19.0818 19.0091C18.913 19.1781 18.7124 19.3122 18.4917 19.4037C18.271 19.4952 18.0344 19.5423 17.7955 19.5423C17.5565 19.5423 17.3199 19.4952 17.0992 19.4037C16.8785 19.3122 16.678 19.1781 16.5091 19.0091L16.4545 18.9545C16.2403 18.745 15.9682 18.6044 15.6733 18.5509C15.3784 18.4974 15.0742 18.5335 14.8 18.6545C14.5311 18.7698 14.3018 18.9611 14.1403 19.205C13.9788 19.4489 13.8921 19.7347 13.8909 20.0273V20.1818C13.8909 20.664 13.6994 21.1265 13.3584 21.4675C13.0174 21.8084 12.5549 22 12.0727 22C11.5905 22 11.1281 21.8084 10.7871 21.4675C10.4461 21.1265 10.2545 20.664 10.2545 20.1818V20.1C10.2475 19.7991 10.1501 19.5073 9.97501 19.2625C9.79991 19.0176 9.55521 18.8312 9.27273 18.7273C8.99853 18.6063 8.69437 18.5702 8.39947 18.6236C8.10456 18.6771 7.83244 18.8177 7.61818 19.0273L7.56364 19.0818C7.39478 19.2509 7.19425 19.385 6.97353 19.4765C6.7528 19.568 6.51621 19.6151 6.27727 19.6151C6.03834 19.6151 5.80174 19.568 5.58102 19.4765C5.36029 19.385 5.15977 19.2509 4.99091 19.0818C4.82186 18.913 4.68775 18.7124 4.59626 18.4917C4.50476 18.271 4.45766 18.0344 4.45766 17.7955C4.45766 17.5565 4.50476 17.3199 4.59626 17.0992C4.68775 16.8785 4.82186 16.678 4.99091 16.5091L5.04545 16.4545C5.25503 16.2403 5.39562 15.9682 5.4491 15.6733C5.50257 15.3784 5.46647 15.0742 5.34545 14.8C5.23022 14.5311 5.03887 14.3018 4.79497 14.1403C4.55107 13.9788 4.26526 13.8921 3.97273 13.8909H3.81818C3.33597 13.8909 2.87351 13.6994 2.53253 13.3584C2.19156 13.0174 2 12.5549 2 12.0727C2 11.5905 2.19156 11.1281 2.53253 10.7871C2.87351 10.4461 3.33597 10.2545 3.81818 10.2545H3.9C4.2009 10.2475 4.49273 10.1501 4.73754 9.97501C4.98236 9.79991 5.16883 9.55521 5.27273 9.27273C5.39374 8.99853 5.42984 8.69437 5.37637 8.39947C5.3229 8.10456 5.18231 7.83244 4.97273 7.61818L4.91818 7.56364C4.74913 7.39478 4.61503 7.19425 4.52353 6.97353C4.43203 6.7528 4.38493 6.51621 4.38493 6.27727C4.38493 6.03834 4.43203 5.80174 4.52353 5.58102C4.61503 5.36029 4.74913 5.15977 4.91818 4.99091C5.08704 4.82186 5.28757 4.68775 5.50829 4.59626C5.72901 4.50476 5.96561 4.45766 6.20455 4.45766C6.44348 4.45766 6.68008 4.50476 6.9008 4.59626C7.12152 4.68775 7.32205 4.82186 7.49091 4.99091L7.54545 5.04545C7.75971 5.25503 8.03183 5.39562 8.32674 5.4491C8.62164 5.50257 8.9258 5.46647 9.2 5.34545H9.27273C9.54161 5.23022 9.77093 5.03887 9.93245 4.79497C10.094 4.55107 10.1807 4.26526 10.1818 3.97273V3.81818C10.1818 3.33597 10.3734 2.87351 10.7144 2.53253C11.0553 2.19156 11.5178 2 12 2C12.4822 2 12.9447 2.19156 13.2856 2.53253C13.6266 2.87351 13.8182 3.33597 13.8182 3.81818V3.9C13.8193 4.19253 13.906 4.47834 14.0676 4.72224C14.2291 4.96614 14.4584 5.15749 14.7273 5.27273C15.0015 5.39374 15.3056 5.42984 15.6005 5.37637C15.8954 5.3229 16.1676 5.18231 16.3818 4.97273L16.4364 4.91818C16.6052 4.74913 16.8057 4.61503 17.0265 4.52353C17.2472 4.43203 17.4838 4.38493 17.7227 4.38493C17.9617 4.38493 18.1983 4.43203 18.419 4.52353C18.6397 4.61503 18.8402 4.74913 19.0091 4.91818C19.1781 5.08704 19.3122 5.28757 19.4037 5.50829C19.4952 5.72901 19.5423 5.96561 19.5423 6.20455C19.5423 6.44348 19.4952 6.68008 19.4037 6.9008C19.3122 7.12152 19.1781 7.32205 19.0091 7.49091L18.9545 7.54545C18.745 7.75971 18.6044 8.03183 18.5509 8.32674C18.4974 8.62164 18.5335 8.9258 18.6545 9.2V9.27273C18.7698 9.54161 18.9611 9.77093 19.205 9.93245C19.4489 10.094 19.7347 10.1807 20.0273 10.1818H20.1818C20.664 10.1818 21.1265 10.3734 21.4675 10.7144C21.8084 11.0553 22 11.5178 22 12C22 12.4822 21.8084 12.9447 21.4675 13.2856C21.1265 13.6266 20.664 13.8182 20.1818 13.8182H20.1C19.8075 13.8193 19.5217 13.906 19.2778 14.0676C19.0339 14.2291 18.8425 14.4584 18.7273 14.7273Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),jsxRuntimeExports.jsx("span",{className:"svg-label",children:"Settings"})]})]}),jsxRuntimeExports.jsx("div",{className:"group navbar-button-container",children:jsxRuntimeExports.jsxs("button",{className:"nav-button svg-button",onClick:m,children:[jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M21 21L16.65 16.65M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),jsxRuntimeExports.jsx("span",{className:"svg-label",children:"Search"})]})})]}),jsxRuntimeExports.jsx(ComingSoon,{show:a,onClose:()=>c(!1),message:"This feature is under development"})]})}function NavbarReader({onNext:a,onPrevious:c,disableNext:m,disablePrevious:o,onZoomIn:p,onZoomOut:l,disableZoomIn:T,disableZoomOut:F}){const D=useNavigate(),[d,s]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"big-gap navbar-button-container",children:[jsxRuntimeExports.jsxs("div",{className:"group navbar-button-container",children:[jsxRuntimeExports.jsxs("button",{className:"nav-button svg-button",onClick:()=>D("/"),children:[jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M9 21V13.6C9 13.04 9 12.76 9.11 12.546C9.205 12.358 9.358 12.205 9.546 12.109C9.76 12 10.04 12 10.6 12H13.4C13.96 12 14.24 12 14.454 12.109C14.642 12.205 14.795 12.358 14.891 12.546C15 12.76 15 13.04 15 13.6V21M2 9.5L11.04 2.72C11.384 2.462 11.556 2.333 11.745 2.283C11.912 2.239 12.088 2.239 12.255 2.283C12.444 2.333 12.616 2.462 12.96 2.72L22 9.5M4 8V17.8C4 18.92 4 19.48 4.218 19.908C4.41 20.284 4.716 20.59 5.092 20.782C5.52 21 6.08 21 7.2 21H16.8C17.92 21 18.48 21 18.908 20.782C19.284 20.59 19.59 20.284 19.782 19.908C20 19.48 20 18.92 20 17.8V8L13.92 3.44C13.231 2.924 12.887 2.665 12.509 2.566C12.175 2.478 11.825 2.478 11.491 2.566C11.113 2.665 10.769 2.924 10.08 3.44L4 8Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),jsxRuntimeExports.jsx("span",{className:"svg-label",children:"Home"})]}),jsxRuntimeExports.jsx(IrisToggle,{})]}),jsxRuntimeExports.jsxs("div",{className:"dark group navbar-button-container",children:[jsxRuntimeExports.jsxs("button",{className:"nav-button svg-button",onClick:c,disabled:o,children:[jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M18 17L13 12L18 7M11 17L6 12L11 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),jsxRuntimeExports.jsx("span",{className:"svg-label",children:"Previous"})]}),jsxRuntimeExports.jsxs("button",{className:"nav-button svg-button",onClick:a,disabled:m,children:[jsxRuntimeExports.jsx("span",{className:"svg-label",children:"Next"}),jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M6 17L11 12L6 7M13 17L18 12L13 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"dark group navbar-button-container",children:[jsxRuntimeExports.jsxs("button",{className:"nav-button svg-button",onClick:p,disabled:T,children:[jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M21 21L16.65 16.65M11 8V14M8 11H14M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),jsxRuntimeExports.jsx("span",{className:"svg-label",children:"Zoom In"})]}),jsxRuntimeExports.jsxs("button",{className:"nav-button svg-button",onClick:l,disabled:F,children:[jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M21 21L16.65 16.65M8 11H14M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),jsxRuntimeExports.jsx("span",{className:"svg-label",children:"Zoom Out"})]})]}),jsxRuntimeExports.jsxs("div",{className:"group navbar-button-container",children:[jsxRuntimeExports.jsxs("button",{className:"nav-button svg-button",onClick:()=>s(!0),children:[jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M21 21L16.65 16.65M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),jsxRuntimeExports.jsx("span",{className:"svg-label",children:"Search"})]}),jsxRuntimeExports.jsxs("button",{className:"nav-button svg-button",onClick:()=>s(!0),children:[jsxRuntimeExports.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M18.7273 14.7273C18.6063 15.0015 18.5702 15.3056 18.6236 15.6005C18.6771 15.8954 18.8177 16.1676 19.0273 16.3818L19.0818 16.4364C19.2509 16.6052 19.385 16.8057 19.4765 17.0265C19.568 17.2472 19.6151 17.4838 19.6151 17.7227C19.6151 17.9617 19.568 18.1983 19.4765 18.419C19.385 18.6397 19.2509 18.8402 19.0818 19.0091C18.913 19.1781 18.7124 19.3122 18.4917 19.4037C18.271 19.4952 18.0344 19.5423 17.7955 19.5423C17.5565 19.5423 17.3199 19.4952 17.0992 19.4037C16.8785 19.3122 16.678 19.1781 16.5091 19.0091L16.4545 18.9545C16.2403 18.745 15.9682 18.6044 15.6733 18.5509C15.3784 18.4974 15.0742 18.5335 14.8 18.6545C14.5311 18.7698 14.3018 18.9611 14.1403 19.205C13.9788 19.4489 13.8921 19.7347 13.8909 20.0273V20.1818C13.8909 20.664 13.6994 21.1265 13.3584 21.4675C13.0174 21.8084 12.5549 22 12.0727 22C11.5905 22 11.1281 21.8084 10.7871 21.4675C10.4461 21.1265 10.2545 20.664 10.2545 20.1818V20.1C10.2475 19.7991 10.1501 19.5073 9.97501 19.2625C9.79991 19.0176 9.55521 18.8312 9.27273 18.7273C8.99853 18.6063 8.69437 18.5702 8.39947 18.6236C8.10456 18.6771 7.83244 18.8177 7.61818 19.0273L7.56364 19.0818C7.39478 19.2509 7.19425 19.385 6.97353 19.4765C6.7528 19.568 6.51621 19.6151 6.27727 19.6151C6.03834 19.6151 5.80174 19.568 5.58102 19.4765C5.36029 19.385 5.15977 19.2509 4.99091 19.0818C4.82186 18.913 4.68775 18.7124 4.59626 18.4917C4.50476 18.271 4.45766 18.0344 4.45766 17.7955C4.45766 17.5565 4.50476 17.3199 4.59626 17.0992C4.68775 16.8785 4.82186 16.678 4.99091 16.5091L5.04545 16.4545C5.25503 16.2403 5.39562 15.9682 5.4491 15.6733C5.50257 15.3784 5.46647 15.0742 5.34545 14.8C5.23022 14.5311 5.03887 14.3018 4.79497 14.1403C4.55107 13.9788 4.26526 13.8921 3.97273 13.8909H3.81818C3.33597 13.8909 2.87351 13.6994 2.53253 13.3584C2.19156 13.0174 2 12.5549 2 12.0727C2 11.5905 2.19156 11.1281 2.53253 10.7871C2.87351 10.4461 3.33597 10.2545 3.81818 10.2545H3.9C4.2009 10.2475 4.49273 10.1501 4.73754 9.97501C4.98236 9.79991 5.16883 9.55521 5.27273 9.27273C5.39374 8.99853 5.42984 8.69437 5.37637 8.39947C5.3229 8.10456 5.18231 7.83244 4.97273 7.61818L4.91818 7.56364C4.74913 7.39478 4.61503 7.19425 4.52353 6.97353C4.43203 6.7528 4.38493 6.51621 4.38493 6.27727C4.38493 6.03834 4.43203 5.80174 4.52353 5.58102C4.61503 5.36029 4.74913 5.15977 4.91818 4.99091C5.08704 4.82186 5.28757 4.68775 5.50829 4.59626C5.72901 4.50476 5.96561 4.45766 6.20455 4.45766C6.44348 4.45766 6.68008 4.50476 6.9008 4.59626C7.12152 4.68775 7.32205 4.82186 7.49091 4.99091L7.54545 5.04545C7.75971 5.25503 8.03183 5.39562 8.32674 5.4491C8.62164 5.50257 8.9258 5.46647 9.2 5.34545H9.27273C9.54161 5.23022 9.77093 5.03887 9.93245 4.79497C10.094 4.55107 10.1807 4.26526 10.1818 3.97273V3.81818C10.1818 3.33597 10.3734 2.87351 10.7144 2.53253C11.0553 2.19156 11.5178 2 12 2C12.4822 2 12.9447 2.19156 13.2856 2.53253C13.6266 2.87351 13.8182 3.33597 13.8182 3.81818V3.9C13.8193 4.19253 13.906 4.47834 14.0676 4.72224C14.2291 4.96614 14.4584 5.15749 14.7273 5.27273C15.0015 5.39374 15.3056 5.42984 15.6005 5.37637C15.8954 5.3229 16.1676 5.18231 16.3818 4.97273L16.4364 4.91818C16.6052 4.74913 16.8057 4.61503 17.0265 4.52353C17.2472 4.43203 17.4838 4.38493 17.7227 4.38493C17.9617 4.38493 18.1983 4.43203 18.419 4.52353C18.6397 4.61503 18.8402 4.74913 19.0091 4.91818C19.1781 5.08704 19.3122 5.28757 19.4037 5.50829C19.4952 5.72901 19.5423 5.96561 19.5423 6.20455C19.5423 6.44348 19.4952 6.68008 19.4037 6.9008C19.3122 7.12152 19.1781 7.32205 19.0091 7.49091L18.9545 7.54545C18.745 7.75971 18.6044 8.03183 18.5509 8.32674C18.4974 8.62164 18.5335 8.9258 18.6545 9.2V9.27273C18.7698 9.54161 18.9611 9.77093 19.205 9.93245C19.4489 10.094 19.7347 10.1807 20.0273 10.1818H20.1818C20.664 10.1818 21.1265 10.3734 21.4675 10.7144C21.8084 11.0553 22 11.5178 22 12C22 12.4822 21.8084 12.9447 21.4675 13.2856C21.1265 13.6266 20.664 13.8182 20.1818 13.8182H20.1C19.8075 13.8193 19.5217 13.906 19.2778 14.0676C19.0339 14.2291 18.8425 14.4584 18.7273 14.7273Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),jsxRuntimeExports.jsx("span",{className:"svg-label",children:"Settings"})]})]})]}),jsxRuntimeExports.jsx(ComingSoon,{show:d,onClose:()=>s(!1),message:"This feature is under development"})]})}function BookCard({book:a,positionClass:c,index:m}){const o=useNavigate(),[p,l]=reactExports.useState(!1),T=()=>{if(!(a.files&&a.files.length>0)){l(!0);return}o(`/reader/${m}`,{state:{files:a.files}})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("section",{className:`book-card ${c}`,children:[jsxRuntimeExports.jsx("img",{className:"book-image",src:a.image,alt:a.title}),jsxRuntimeExports.jsxs("div",{className:"textbox",children:[jsxRuntimeExports.jsx("h4",{children:a.title}),jsxRuntimeExports.jsx("h4",{children:a.subtitle}),jsxRuntimeExports.jsxs("p",{children:["by ",a.author]})]}),jsxRuntimeExports.jsx("div",{className:"button-wrapper",children:jsxRuntimeExports.jsx("a",{className:"read-button",onClick:T,children:a.title==="Add a New Book"?"Add":"Read"})})]}),p&&reactDomExports.createPortal(jsxRuntimeExports.jsx(ComingSoon,{show:p,onClose:()=>l(!1)}),document.body)]})}function Home(){const[a,c]=reactExports.useState(0),m=books.length,o=()=>c(F=>Math.min(F+1,m-1)),p=()=>c(F=>Math.max(F-1,0));reactExports.useEffect(()=>{const F=D=>{D.key==="ArrowRight"&&o(),D.key==="ArrowLeft"&&p()};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[]);const[l,T]=reactExports.useState("bg-book-1");return reactExports.useEffect(()=>{const F=`bg-book-${a+1}`,D=setTimeout(()=>T(F),250);return()=>clearTimeout(D)},[a]),jsxRuntimeExports.jsx("div",{className:`home background ${l}`,children:jsxRuntimeExports.jsxs("div",{className:"master-container",children:[jsxRuntimeExports.jsx("button",{className:"nav-button svg-button scroll-button left",onClick:p,children:jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),jsxRuntimeExports.jsx("button",{className:"nav-button svg-button scroll-button right",onClick:o,children:jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M9 18L15 12L9 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),jsxRuntimeExports.jsx("div",{className:"book-stack",children:books.map((F,D)=>{let d="hidden";return D===a?d="centered":D===a-1?d="left":D===a+1&&(d="right"),jsxRuntimeExports.jsx(BookCard,{book:F,index:D,positionClass:d},D)})}),jsxRuntimeExports.jsx(NavbarHome,{})]})})}var lib={exports:{}},zoom_min={},hasRequiredZoom_min;function requireZoom_min(){if(hasRequiredZoom_min)return zoom_min;hasRequiredZoom_min=1;var a=requireLib$1();function c(nt){var yt=Object.create(null);return nt&&Object.keys(nt).forEach((function(mt){if(mt!=="default"){var Et=Object.getOwnPropertyDescriptor(nt,mt);Object.defineProperty(yt,mt,Et.get?Et:{enumerable:!0,get:function(){return nt[mt]}})}})),yt.default=nt,Object.freeze(yt)}var m=c(requireReact()),o=function(){return m.createElement(a.Icon,{ignoreDirection:!0,size:16},m.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},p=function(){return m.createElement(a.Icon,{ignoreDirection:!0,size:16},m.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},l=function(){return l=Object.assign||function(nt){for(var yt,mt=1,Et=arguments.length;mt<Et;mt++)for(var Rt in yt=arguments[mt])Object.prototype.hasOwnProperty.call(yt,Rt)&&(nt[Rt]=yt[Rt]);return nt},l.apply(this,arguments)},T=function(nt){var yt=m.useState(nt.get("scale")||0),mt=yt[0],Et=yt[1],Rt=function(X){Et(X)};return m.useEffect((function(){return nt.subscribe("scale",Rt),function(){nt.unsubscribe("scale",Rt)}}),[]),{scale:mt}},F=function(nt){var yt=nt.children,mt=nt.store;return(yt||function(Et){return m.createElement(m.Fragment,null,"".concat(Math.round(100*Et.scale),"%"))})({scale:T(mt).scale})},D={passive:!1},d=null,s=function(nt){var yt=nt.pagesContainerRef,mt=nt.store,Et=a.useDebounceCallback((function(X){var j=mt.get("zoom");j&&j(X)}),40),Rt=function(X){if(X.ctrlKey){X.preventDefault();var j=X.target.getBoundingClientRect(),M=1-X.deltaY/100,A=X.clientX-j.left,x=X.clientY-j.top,y=mt.get("scale"),L=(d||(d=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(A,x).scale(M).translate(-A,-x).scale(y);Et(L.a)}};return a.useIsomorphicLayoutEffect((function(){var X=yt.current;if(X)return X.addEventListener("wheel",Rt,D),function(){X.removeEventListener("wheel",Rt)}}),[]),m.createElement(m.Fragment,null)},h=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],_=function(nt){return h.find((function(yt){return yt>nt}))||nt},b=function(nt){var yt=h.findIndex((function(mt){return mt>=nt}));return yt===-1||yt===0?nt:h[yt-1]},f=function(nt){var yt=nt.containerRef,mt=nt.store,Et=function(Rt){if(!Rt.shiftKey&&!Rt.altKey&&(a.isMac()?Rt.metaKey:Rt.ctrlKey)){var X=yt.current;if(X&&document.activeElement&&X.contains(document.activeElement)){var j=mt.get("zoom");if(j){var M=mt.get("scale")||1,A=1;switch(Rt.key){case"-":A=b(M);break;case"=":A=_(M);break;case"0":A=1;break;default:A=M}A!==M&&(Rt.preventDefault(),j(A))}}}};return m.useEffect((function(){if(yt.current)return document.addEventListener("keydown",Et),function(){document.removeEventListener("keydown",Et)}}),[yt.current]),m.createElement(m.Fragment,null)},S=[.5,.75,1,1.25,1.5,2,3,4],R={left:0,top:8},g=function(nt){var yt=nt.levels,mt=yt===void 0?S:yt,Et=nt.scale,Rt=nt.onZoom,X=m.useContext(a.LocalizationContext).l10n,j=m.useContext(a.ThemeContext).direction===a.TextDirection.RightToLeft,M=X&&X.zoom?X.zoom.zoomDocument:"Zoom document";return m.createElement(a.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:a.Position.BottomCenter,target:function(A){return m.createElement(a.MinimalButton,{ariaLabel:M,testId:"zoom__popover-target",onClick:function(){A()}},m.createElement("span",{className:"rpv-zoom__popover-target"},m.createElement("span",{"data-testid":"zoom__popover-target-scale",className:a.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!j,"rpv-zoom__popover-target-scale--rtl":j})},Math.round(100*Et),"%"),m.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(A){return m.createElement(a.Menu,null,Object.keys(a.SpecialZoomLevel).map((function(x){var y=x;return m.createElement(a.MenuItem,{key:y,onClick:function(){A(),Rt(y)}},(function(L){switch(L){case a.SpecialZoomLevel.ActualSize:return X&&X.zoom?X.zoom.actualSize:"Actual size";case a.SpecialZoomLevel.PageFit:return X&&X.zoom?X.zoom.pageFit:"Page fit";case a.SpecialZoomLevel.PageWidth:return X&&X.zoom?X.zoom.pageWidth:"Page width"}})(y))})),m.createElement(a.MenuDivider,null),mt.map((function(x){return m.createElement(a.MenuItem,{key:x,onClick:function(){A(),Rt(x)}},"".concat(Math.round(100*x),"%"))})))},offset:R,closeOnClickOutside:!0,closeOnEscape:!0})},O=function(nt){var yt=nt.children,mt=nt.levels,Et=nt.store;return(yt||function(Rt){return m.createElement(g,{levels:mt,scale:Rt.scale,onZoom:Rt.onZoom})})({scale:T(Et).scale,onZoom:function(Rt){var X=Et.get("zoom");X&&X(Rt)}})},I={left:0,top:8},q=function(nt){var yt=nt.enableShortcuts,mt=nt.onClick,Et=m.useContext(a.LocalizationContext).l10n,Rt=Et&&Et.zoom?Et.zoom.zoomIn:"Zoom in",X=yt?a.isMac()?"Meta+=":"Ctrl+=":"";return m.createElement(a.Tooltip,{ariaControlsSuffix:"zoom-in",position:a.Position.BottomCenter,target:m.createElement(a.MinimalButton,{ariaKeyShortcuts:X,ariaLabel:Rt,testId:"zoom__in-button",onClick:mt},m.createElement(o,null)),content:function(){return Rt},offset:I})},w=function(nt){var yt=nt.children,mt=nt.enableShortcuts,Et=nt.store,Rt=T(Et).scale;return(yt||q)({enableShortcuts:mt,onClick:function(){var X=Et.get("zoom");X&&X(_(Rt))}})},z=function(nt){var yt=nt.onClick,mt=m.useContext(a.LocalizationContext).l10n,Et=mt&&mt.zoom?mt.zoom.zoomIn:"Zoom in";return m.createElement(a.MenuItem,{icon:m.createElement(o,null),testId:"zoom__in-menu",onClick:yt},Et)},Z={left:0,top:8},et=function(nt){var yt=nt.enableShortcuts,mt=nt.onClick,Et=m.useContext(a.LocalizationContext).l10n,Rt=Et&&Et.zoom?Et.zoom.zoomOut:"Zoom out",X=yt?a.isMac()?"Meta+-":"Ctrl+-":"";return m.createElement(a.Tooltip,{ariaControlsSuffix:"zoom-out",position:a.Position.BottomCenter,target:m.createElement(a.MinimalButton,{ariaKeyShortcuts:X,ariaLabel:Rt,testId:"zoom__out-button",onClick:mt},m.createElement(p,null)),content:function(){return Rt},offset:Z})},K=function(nt){var yt=nt.children,mt=nt.enableShortcuts,Et=nt.store,Rt=T(Et).scale;return(yt||et)({enableShortcuts:mt,onClick:function(){var X=Et.get("zoom");X&&X(b(Rt))}})},ht=function(nt){var yt=nt.onClick,mt=m.useContext(a.LocalizationContext).l10n,Et=mt&&mt.zoom?mt.zoom.zoomOut:"Zoom out";return m.createElement(a.MenuItem,{icon:m.createElement(p,null),testId:"zoom__out-menu",onClick:yt},Et)};return zoom_min.ZoomInIcon=o,zoom_min.ZoomOutIcon=p,zoom_min.zoomPlugin=function(nt){var yt=m.useMemo((function(){return Object.assign({},{enableShortcuts:!0},nt)}),[]),mt=m.useMemo((function(){return a.createStore({})}),[]),Et=function(j){return m.createElement(w,l({enableShortcuts:yt.enableShortcuts},j,{store:mt}))},Rt=function(j){return m.createElement(K,l({enableShortcuts:yt.enableShortcuts},j,{store:mt}))},X=function(j){return m.createElement(O,l({},j,{store:mt}))};return{renderViewer:function(j){var M=j.slot;if(!yt.enableShortcuts)return M;var A={children:m.createElement(m.Fragment,null,m.createElement(f,{containerRef:j.containerRef,store:mt}),m.createElement(s,{pagesContainerRef:j.pagesContainerRef,store:mt}),M.children)};return l(l({},M),A)},install:function(j){mt.update("zoom",j.zoom)},onViewerStateChange:function(j){return mt.update("scale",j.scale),j},zoomTo:function(j){var M=mt.get("zoom");M&&M(j)},CurrentScale:function(j){return m.createElement(F,l({},j,{store:mt}))},ZoomIn:Et,ZoomInButton:function(){return m.createElement(Et,null,(function(j){return m.createElement(q,l({},j))}))},ZoomInMenuItem:function(j){return m.createElement(Et,null,(function(M){return m.createElement(z,{onClick:function(){M.onClick(),j.onClick()}})}))},ZoomOut:Rt,ZoomOutButton:function(){return m.createElement(Rt,null,(function(j){return m.createElement(et,l({},j))}))},ZoomOutMenuItem:function(j){return m.createElement(Rt,null,(function(M){return m.createElement(ht,{onClick:function(){M.onClick(),j.onClick()}})}))},Zoom:X,ZoomPopover:function(j){return m.createElement(X,null,(function(M){return m.createElement(g,l({levels:j?.levels},M))}))}}},zoom_min}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib.exports;hasRequiredLib=1;return lib.exports=requireZoom_min(),lib.exports}var libExports=requireLib();const ZOOM_LEVELS=[.5,.75,1,1.25,1.5,2,3,4,5],MIN_ZOOM=ZOOM_LEVELS[0],MAX_ZOOM=ZOOM_LEVELS[ZOOM_LEVELS.length-1],ZOOM_ANIMATION_DURATION=220,FALLBACK_STEP=.25;function Reader(){const{bookId:a}=useParams(),c=books[a]||{},m=c.files||["/iris25/books/test.pdf"],[o,p]=reactExports.useState(0),l=libExports.zoomPlugin(),[T,F]=reactExports.useState(1),D=reactExports.useRef(1),d=reactExports.useRef(null),s=reactExports.useCallback(I=>{D.current=I,F(I)},[]),h=reactExports.useCallback(()=>{d.current&&(cancelAnimationFrame(d.current),d.current=null)},[]),_=()=>{o<m.length-1&&p(I=>I+1)},b=()=>{o>0&&p(I=>I-1)},f=reactExports.useCallback(I=>{const q=l?.zoomTo;if(!q)return;const w=D.current;if(Math.abs(I-w)<.001)return;h();let z;const Z=et=>{z===void 0&&(z=et);const K=Math.min((et-z)/ZOOM_ANIMATION_DURATION,1),ht=easeOutCubic(K),nt=w+(I-w)*ht;q(nt),K<1?d.current=requestAnimationFrame(Z):d.current=null};d.current=requestAnimationFrame(Z)},[l,h]),S=reactExports.useCallback(()=>{const I=getNextScale(D.current);f(I)},[f]),R=reactExports.useCallback(()=>{const I=getPreviousScale(D.current);f(I)},[f]);reactExports.useEffect(()=>{console.log(`Loaded Reader for book ID: ${a}, chapter ${o}`)},[a,o]),reactExports.useEffect(()=>h,[h]);const g=T>=MAX_ZOOM-.001,O=T<=MIN_ZOOM+.001;return jsxRuntimeExports.jsx("div",{className:"reader background",children:jsxRuntimeExports.jsxs("div",{className:"master-container",children:[jsxRuntimeExports.jsxs("div",{className:"title-container",children:[jsxRuntimeExports.jsx("h4",{className:"title",children:c.title}),jsxRuntimeExports.jsxs("h4",{className:"author",children:["by ",c.author]})]}),jsxRuntimeExports.jsx(ReaderContainer,{filePath:m[o],zoomPluginInstance:l}),jsxRuntimeExports.jsx(ZoomScaleObserver,{pluginInstance:l,onScaleChange:s}),jsxRuntimeExports.jsx(NavbarReader,{onNext:_,onPrevious:b,disableNext:o===m.length-1,disablePrevious:o===0,onZoomIn:S,onZoomOut:R,disableZoomIn:g,disableZoomOut:O})]})})}function getNextScale(a){const c=ZOOM_LEVELS.find(m=>m>a+.001);return c||Math.min(MAX_ZOOM,+(a+FALLBACK_STEP).toFixed(2))}function getPreviousScale(a){for(let c=ZOOM_LEVELS.length-1;c>=0;c-=1)if(ZOOM_LEVELS[c]<a-.001)return ZOOM_LEVELS[c];return Math.max(MIN_ZOOM,+(a-FALLBACK_STEP).toFixed(2))}function easeOutCubic(a){return 1-Math.pow(1-a,3)}function ZoomScaleObserver({pluginInstance:a,onScaleChange:c}){if(!a?.CurrentScale)return null;const m=a.CurrentScale;return jsxRuntimeExports.jsx(m,{children:({scale:o})=>jsxRuntimeExports.jsx(ScaleEffect,{scale:o,onScaleChange:c})})}function ScaleEffect({scale:a,onScaleChange:c}){return reactExports.useEffect(()=>{c(a)},[a,c]),null}function IrisDebug(){const a=useNavigate();return jsxRuntimeExports.jsx("div",{className:"reader background",children:jsxRuntimeExports.jsxs("div",{className:"master-container",children:[jsxRuntimeExports.jsxs("div",{className:"title-container",children:[jsxRuntimeExports.jsx("h4",{className:"title",children:"Iris Debug"}),jsxRuntimeExports.jsx("h4",{className:"author",children:"WebGazer sandbox"})]}),jsxRuntimeExports.jsxs("div",{className:"reader-container",children:[jsxRuntimeExports.jsx("div",{className:"reader-view"}),jsxRuntimeExports.jsxs("div",{className:"gaze-controls",children:[jsxRuntimeExports.jsx("button",{className:"gaze-button up"}),jsxRuntimeExports.jsx("button",{className:"gaze-button down"})]})]}),jsxRuntimeExports.jsx("div",{className:"big-gap navbar-button-container",children:jsxRuntimeExports.jsxs("div",{className:"group navbar-button-container",children:[jsxRuntimeExports.jsxs("button",{className:"nav-button svg-button",onClick:()=>a("/"),children:[jsxRuntimeExports.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M9 21V13.6C9 13.04 9 12.76 9.11 12.546C9.205 12.358 9.358 12.205 9.546 12.109C9.76 12 10.04 12 10.6 12H13.4C13.96 12 14.24 12 14.454 12.109C14.642 12.205 14.795 12.358 14.891 12.546C15 12.76 15 13.04 15 13.6V21M2 9.5L11.04 2.72C11.384 2.462 11.556 2.333 11.745 2.283C11.912 2.239 12.088 2.239 12.255 2.283C12.444 2.333 12.616 2.462 12.96 2.72L22 9.5M4 8V17.8C4 18.92 4 19.48 4.218 19.908C4.41 20.284 4.716 20.59 5.092 20.782C5.52 21 6.08 21 7.2 21H16.8C17.92 21 18.48 21 18.908 20.782C19.284 20.59 19.59 20.284 19.782 19.908C20 19.48 20 18.92 20 17.8V8L13.92 3.44C13.231 2.924 12.887 2.665 12.509 2.566C12.175 2.478 11.825 2.478 11.491 2.566C11.113 2.665 10.769 2.924 10.08 3.44L4 8Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),jsxRuntimeExports.jsx("span",{className:"svg-label",children:"Home"})]}),jsxRuntimeExports.jsx(IrisToggle,{})]})})]})})}function NotFound(){return jsxRuntimeExports.jsx("div",{className:"reader background",children:jsxRuntimeExports.jsxs("div",{className:"master-container",children:[jsxRuntimeExports.jsxs("div",{className:"title-container",children:[jsxRuntimeExports.jsx("h4",{className:"title",children:"404  You Got Lost?"}),jsxRuntimeExports.jsx("h4",{className:"author",children:"Get Shreked."})]}),jsxRuntimeExports.jsx(ReaderContainer,{filePath:"/iris25/books/test.pdf"}),jsxRuntimeExports.jsx(NavbarReader,{onlyHome:!0})]})})}function App(){return jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/reader/:bookId",element:jsxRuntimeExports.jsx(Reader,{})}),jsxRuntimeExports.jsx(Route,{path:"/iris-debug",element:jsxRuntimeExports.jsx(IrisDebug,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})," "]})}function CheckBadgeIcon({className:a,...c}){return jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,...c,children:jsxRuntimeExports.jsx("path",{d:"M7.5 12L10.5 15L16.5 9M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function CameraButton({onClick:a,complete:c}){return jsxRuntimeExports.jsx("div",{className:"calibration-camera-button",children:jsxRuntimeExports.jsx("button",{className:`calibration-click ${c?"is-complete":"calibration-click--accuracy"}`,onClick:a,type:"button",children:c?jsxRuntimeExports.jsx(CheckBadgeIcon,{"aria-hidden":"true"}):jsxRuntimeExports.jsxs("svg",{className:"calibration-camera-button__icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[jsxRuntimeExports.jsx("path",{d:"M2 8.37722C2 8.0269 2 7.85174 2.01462 7.70421C2.1556 6.28127 3.28127 5.1556 4.70421 5.01462C4.85174 5 5.03636 5 5.40558 5C5.54785 5 5.61899 5 5.67939 4.99634C6.45061 4.94963 7.12595 4.46288 7.41414 3.746C7.43671 3.68986 7.45781 3.62657 7.5 3.5C7.54219 3.37343 7.56329 3.31014 7.58586 3.254C7.87405 2.53712 8.54939 2.05037 9.32061 2.00366C9.38101 2 9.44772 2 9.58114 2H14.4189C14.5523 2 14.619 2 14.6794 2.00366C15.4506 2.05037 16.126 2.53712 16.4141 3.254C16.4367 3.31014 16.4578 3.37343 16.5 3.5C16.5422 3.62657 16.5633 3.68986 16.5859 3.746C16.874 4.46288 17.5494 4.94963 18.3206 4.99634C18.381 5 18.4521 5 18.5944 5C18.9636 5 19.1483 5 19.2958 5.01462C20.7187 5.1556 21.8444 6.28127 21.9854 7.70421C22 7.85174 22 8.0269 22 8.37722V16.2C22 17.8802 22 18.7202 21.673 19.362C21.3854 19.9265 20.9265 20.3854 20.362 20.673C19.7202 21 18.8802 21 17.2 21H6.8C5.11984 21 4.27976 21 3.63803 20.673C3.07354 20.3854 2.6146 19.9265 2.32698 19.362C2 18.7202 2 17.8802 2 16.2V8.37722Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M12 16.5C14.2091 16.5 16 14.7091 16 12.5C16 10.2909 14.2091 8.5 12 8.5C9.79086 8.5 8 10.2909 8 12.5C8 14.7091 9.79086 16.5 12 16.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})})}function CalibrationStep1a({complete:a,onAllow:c}){return jsxRuntimeExports.jsxs("div",{className:"calibration-step",children:[jsxRuntimeExports.jsx("div",{className:"calibration-step__indicator",children:jsxRuntimeExports.jsx(CameraButton,{disabled:a,complete:a,onClick:c})}),jsxRuntimeExports.jsxs("div",{className:"calibration-step__content",children:[jsxRuntimeExports.jsx("p",{className:"calibration-step__title",children:"Allow camera access"}),jsxRuntimeExports.jsx("p",{className:"calibration-step__desc",children:"Iris needs your camera to start calibration."})]})]})}const COLOR_SEQUENCE=["calibration-click--blue","calibration-click--cyan","calibration-click--teal","calibration-click--mint","calibration-click--green"];function NinePointButton({complete:a,disabled:c,clicksRemaining:m,totalClicks:o=COLOR_SEQUENCE.length,onClick:p}){const l=Math.max(0,o-m),T=a?"calibration-click is-complete":`calibration-click ${COLOR_SEQUENCE[Math.min(l,COLOR_SEQUENCE.length-1)]}`,F=()=>{c||a||p?.()};return jsxRuntimeExports.jsx("div",{className:"calibration-step__indicator-button",children:jsxRuntimeExports.jsx("button",{type:"button",className:T,disabled:c,onClick:F,children:a?jsxRuntimeExports.jsx(CheckBadgeIcon,{}):m})})}function CalibrationStep1b({complete:a,disabled:c,clicksRemaining:m,totalClicks:o=5,onPractice:p}){return jsxRuntimeExports.jsxs("div",{className:`calibration-step ${c?"is-disabled":""}`,children:[jsxRuntimeExports.jsx("div",{className:"calibration-step__indicator",children:jsxRuntimeExports.jsx(NinePointButton,{complete:a,disabled:c,clicksRemaining:m,totalClicks:o,onClick:p})}),jsxRuntimeExports.jsxs("div",{className:"calibration-step__content",children:[jsxRuntimeExports.jsx("p",{className:"calibration-step__title",children:"Click each calibration point 5 times"}),jsxRuntimeExports.jsx("p",{className:"calibration-step__desc",children:"Always follow the cursor with your eyes in this step."})]})]})}const CALIBRATION_SECONDS$2=5;function CountdownButton({seconds:a=CALIBRATION_SECONDS$2,auto:c=!1,disabled:m=!1,complete:o,value:p,active:l,onStart:T,onComplete:F}){const[D,d]=reactExports.useState(!1),[s,h]=reactExports.useState(a),[_,b]=reactExports.useState(!1),f=c===!0,S=f?D:l,R=f?s:p,g=f?_:o;reactExports.useEffect(()=>{f&&l&&!D&&!_&&(d(!0),h(a),T?.())},[l,f,D,_,a,T]),reactExports.useEffect(()=>{if(!f||!D||_)return;if(s<=0){b(!0),F?.();return}const w=setTimeout(()=>{h(z=>z-1)},1e3);return()=>clearTimeout(w)},[D,s,_,f,F]);const O=()=>{S||m||g||(T?.(),f&&(h(a),b(!1),d(!0)))},I=["calibration-click",g?"is-complete":"calibration-click--accuracy"].filter(Boolean).join(" "),q=g?jsxRuntimeExports.jsx(CheckBadgeIcon,{"aria-hidden":"true"}):R;return jsxRuntimeExports.jsx("button",{type:"button",className:I,onClick:O,children:q})}const CALIBRATION_SECONDS$1=5;function CalibrationStep1c({complete:a,disabled:c,focusSecondsLeft:m,focusActive:o,onStartFocus:p}){return jsxRuntimeExports.jsxs("div",{className:`calibration-step ${c?"is-disabled":""}`,children:[jsxRuntimeExports.jsx("div",{className:"calibration-step__indicator",children:jsxRuntimeExports.jsx("div",{style:{pointerEvents:"none"},children:jsxRuntimeExports.jsx(CountdownButton,{seconds:CALIBRATION_SECONDS$1,auto:!1,disabled:!0,className:"is-disabled",complete:a,value:m,active:!1,onStart:()=>{}})})}),jsxRuntimeExports.jsxs("div",{className:"calibration-step__content",children:[jsxRuntimeExports.jsx("p",{className:"calibration-step__title",children:"Focus on the button for 5 seconds without clicking"}),jsxRuntimeExports.jsx("p",{className:"calibration-step__desc",children:"Dont move your mouse during this step."})]})]})}const REQUIRED_CLICKS$1=5,FOCUS_DURATION=5;function CalibrationStep1({onAllow:a,onStart:c,onCancel:m}){if(typeof document>"u")return null;const[o,p]=reactExports.useState(!1),[l,T]=reactExports.useState(REQUIRED_CLICKS$1),[F,D]=reactExports.useState(FOCUS_DURATION),[d,s]=reactExports.useState(!1),[h,_]=reactExports.useState(!1),b=async()=>{try{await a?.(),p(!0)}catch(w){console.error("[Iris] Camera access failed",w)}},f=()=>{!o||l===0||T(w=>Math.max(w-1,0))},S=o,R=l===0,g=h,O=S&&R&&g,I=reactExports.useCallback(()=>{!o||l>0||(D(FOCUS_DURATION),s(!0),_(!1))},[o,l]);reactExports.useEffect(()=>{!R||g||d||I()},[R,g,d,I]),reactExports.useEffect(()=>{if(!d)return;if(F<=0){s(!1),_(!0);return}const w=setTimeout(()=>{D(z=>Math.max(z-1,0))},1e3);return()=>clearTimeout(w)},[d,F]);const q=()=>{O&&c?.()};return reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{className:"calibration-card",role:"dialog",children:jsxRuntimeExports.jsxs("div",{className:"calibration-card__card",children:[jsxRuntimeExports.jsx("p",{className:"calibration-card__eyebrow",children:"Iris eye tracking  Calibration Walkthrough"}),jsxRuntimeExports.jsx("h2",{className:"calibration-card__title",id:"calibration-card-title",children:"Calibrate Iris"}),jsxRuntimeExports.jsx(CalibrationStep1a,{complete:S,onAllow:b}),jsxRuntimeExports.jsx(CalibrationStep1b,{complete:R,disabled:!S,clicksRemaining:l,totalClicks:REQUIRED_CLICKS$1,onPractice:f}),jsxRuntimeExports.jsx(CalibrationStep1c,{complete:g,disabled:!R,focusSecondsLeft:F,focusActive:d,onStartFocus:I}),jsxRuntimeExports.jsxs("div",{className:"calibration-actions",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"calibration-btn primary",disabled:!O,onClick:q,children:"Start calibration"}),jsxRuntimeExports.jsx("button",{type:"button",className:"calibration-btn secondary",onClick:m,children:"Cancel"})]})]})}),document.body)}const EDGE_OFFSET_PX=50,REQUIRED_CLICKS=5,RELATIVE_POSITIONS=[{x:0,y:0},{x:.5,y:0},{x:1,y:0},{x:1,y:.5},{x:1,y:1},{x:.5,y:1},{x:0,y:1},{x:0,y:.5},{x:.5,y:.5}];function computeAbsolutePositions(){if(typeof window>"u")return[];const a=window.innerWidth,c=window.innerHeight;return RELATIVE_POSITIONS.map(({x:m,y:o})=>({left:Math.min(Math.max(m*a,EDGE_OFFSET_PX),a-EDGE_OFFSET_PX),top:Math.min(Math.max(o*c,EDGE_OFFSET_PX),c-EDGE_OFFSET_PX)}))}function CalibrationStep2({onComplete:a,showHud:c=!0}){const[m,o]=reactExports.useState(()=>computeAbsolutePositions()),[p,l]=reactExports.useState(0),[T,F]=reactExports.useState(REQUIRED_CLICKS),[D,d]=reactExports.useState(!1);reactExports.useEffect(()=>{const R=()=>o(computeAbsolutePositions());return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const s=["blue","cyan","teal","mint","green"],h=REQUIRED_CLICKS-Math.max(T,0),_=Math.min(s.length-1,Math.max(0,h)),b=`calibration-click--${s[_]}`,f=()=>{if(!D){if(T>1){F(R=>R-1);return}if(p<m.length-1){l(R=>R+1),F(REQUIRED_CLICKS);return}d(!0),a?.()}};if(typeof document>"u"||m.length===0)return null;const S=m[p]??m[0];return reactDomExports.createPortal(jsxRuntimeExports.jsxs("div",{className:"calibration-overlay calibration-overlay--blocking",children:[jsxRuntimeExports.jsx("button",{type:"button",className:["calibration-click",b,D?"is-complete":""].filter(Boolean).join(" "),style:{left:`${S.left}px`,top:`${S.top}px`},onClick:f,disabled:D,children:D?"":T}),c&&jsxRuntimeExports.jsx("div",{className:"calibration-hud-mini",children:jsxRuntimeExports.jsxs("span",{className:"calibration-card__eyebrow",style:{margin:0},children:["Point ",Math.min(p+1,m.length)," / ",m.length," "," ",D?"Complete":`${T} clicks left`]})})]}),document.body)}const CALIBRATION_SECONDS=5;function CalibrationStep3({onComplete:a}){const[c,m]=reactExports.useState(!0),[o,p]=reactExports.useState(!1),[l,T]=reactExports.useState(!1);return typeof document>"u"?null:reactDomExports.createPortal(jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[c&&jsxRuntimeExports.jsx("div",{className:"calibration-overlay instructions",children:jsxRuntimeExports.jsxs("div",{className:"calibration-card__card",children:[jsxRuntimeExports.jsx("p",{className:"calibration-card__eyebrow",children:"Iris eye tracking  Accuracy Check"}),jsxRuntimeExports.jsx("h2",{className:"calibration-card__title",children:"Hold steady on the center dot"}),jsxRuntimeExports.jsxs("ul",{className:"calibration-card__list",children:[jsxRuntimeExports.jsx("li",{children:"After clicking Continue, lift your hands off the mouse/trackpad."}),jsxRuntimeExports.jsx("li",{children:"Stare directly at the center dot for five seconds."}),jsxRuntimeExports.jsx("li",{children:"Well automatically continue once the countdown finishes."})]}),jsxRuntimeExports.jsx("div",{className:"calibration-actions",children:jsxRuntimeExports.jsx("button",{type:"button",className:"calibration-btn primary",onClick:()=>{m(!1),p(!0)},children:"Continue"})})]})}),!c&&jsxRuntimeExports.jsx("div",{className:"calibration-overlay calibration-overlay--blocking",children:jsxRuntimeExports.jsx("div",{className:"calibration-overlay__center",children:jsxRuntimeExports.jsx(CountdownButton,{auto:!0,seconds:CALIBRATION_SECONDS,disabled:l,complete:l,active:o,onStart:()=>{p(!0)},onComplete:()=>{T(!0),a?.()}})})})]}),document.body)}function CalibrationStep5({score:a,quality:c,onRecalibrate:m,onContinue:o}){return typeof document>"u"?null:reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{className:"calibration-card",children:jsxRuntimeExports.jsxs("div",{className:"calibration-card__card",children:[jsxRuntimeExports.jsx("p",{className:"calibration-card__eyebrow",children:"Iris eye tracking  Calibration Result"}),jsxRuntimeExports.jsxs("h2",{className:"calibration-card__title",children:[a!=null?`${a}%`:"--"," ",c?` ${c}`:""]}),jsxRuntimeExports.jsxs("div",{className:"calibration-actions",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"calibration-btn secondary",onClick:m,children:"Recalibrate"}),jsxRuntimeExports.jsx("button",{type:"button",className:"calibration-btn primary",onClick:o,children:"Start Reading with Iris"})]})]})}),document.body)}const IrisContext=reactExports.createContext(null);function IrisManager({children:a}){const[c,m]=useIrisToggle(),[o,p]=reactExports.useState(!1),[l,T]=reactExports.useState(!1),[F,D]=reactExports.useState(!1),[d,s]=reactExports.useState(!1),[h,_]=reactExports.useState(!1);reactExports.useEffect(()=>{c?o||T(!0):(T(!1),p(!1),D(!1),s(!1),_(!1))},[c,o]);const b=()=>{},f=()=>{T(!1),D(!0)},S=()=>{D(!1),s(!0)},R=()=>{s(!1),_(!0)},g=()=>{_(!1),p(!0)},O=()=>{_(!1),s(!1),D(!1),T(!0),p(!1)},I=()=>{T(!1),p(!1),m(!1)},q=reactExports.useMemo(()=>({irisEnabled:c,setIrisEnabled:m,hasCalibrated:o,resetCalibration:()=>{p(!1),T(!1),D(!1),s(!1),_(!1)}}),[c,m,o]);return jsxRuntimeExports.jsxs(IrisContext.Provider,{value:q,children:[a,l&&jsxRuntimeExports.jsx(CalibrationStep1,{onAllow:b,onStart:f,onCancel:I}),F&&jsxRuntimeExports.jsx(CalibrationStep2,{onComplete:S}),d&&jsxRuntimeExports.jsx(CalibrationStep3,{onComplete:R}),h&&jsxRuntimeExports.jsx(CalibrationStep5,{score:null,quality:null,onRecalibrate:O,onContinue:g})]})}ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(BrowserRouter,{basename:"/iris25/",children:jsxRuntimeExports.jsx(IrisManager,{children:jsxRuntimeExports.jsx(App,{})})}));
